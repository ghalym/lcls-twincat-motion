
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>PLC Project (1): Library &#8212; pcdshub/lcls-twincat-motion  documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Library.tmc" href="Library.tmc.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="plc-project-1-library">
<h1>PLC Project (1): Library<a class="headerlink" href="#plc-project-1-library" title="Permalink to this headline">Â¶</a></h1>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Project</span> <span class="n">path</span><span class="p">:</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">Library</span><span class="o">.</span><span class="n">plcproj</span>
<span class="n">TMC</span> <span class="n">path</span><span class="p">:</span>     <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">Library</span><span class="o">.</span><span class="n">tmc</span>
<span class="n">AMS</span> <span class="n">ID</span><span class="p">:</span>       
<span class="n">IP</span> <span class="n">Address</span><span class="p">:</span>    <span class="p">(</span><span class="o">*</span> <span class="n">based</span> <span class="n">on</span> <span class="n">AMS</span> <span class="n">ID</span><span class="p">)</span>
<span class="n">Port</span><span class="p">:</span>         <span class="mi">851</span>

<span class="n">Source</span> <span class="n">files</span><span class="p">:</span>
    <span class="mf">1.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">DUTs</span><span class="o">/</span><span class="n">DUT_MotionStage</span><span class="o">.</span><span class="n">TcDUT</span>
    <span class="mf">2.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">DUTs</span><span class="o">/</span><span class="n">DUT_PositionState</span><span class="o">.</span><span class="n">TcDUT</span>
    <span class="mf">3.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">DUTs</span><span class="o">/</span><span class="n">EL5042_Status</span><span class="o">.</span><span class="n">TcDUT</span>
    <span class="mf">4.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">DUTs</span><span class="o">/</span><span class="n">ENUM_EpicsHomeCmd</span><span class="o">.</span><span class="n">TcDUT</span>
    <span class="mf">5.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">DUTs</span><span class="o">/</span><span class="n">ENUM_EpicsMotorCmd</span><span class="o">.</span><span class="n">TcDUT</span>
    <span class="mf">6.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">DUTs</span><span class="o">/</span><span class="n">ENUM_StageBrakeMode</span><span class="o">.</span><span class="n">TcDUT</span>
    <span class="mf">7.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">DUTs</span><span class="o">/</span><span class="n">ENUM_StageEnableMode</span><span class="o">.</span><span class="n">TcDUT</span>
    <span class="mf">8.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">DUTs</span><span class="o">/</span><span class="n">ST_RenishawAbsEnc</span><span class="o">.</span><span class="n">TcDUT</span>
    <span class="mf">9.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">PlcTask</span><span class="o">.</span><span class="n">TcTTO</span>
    <span class="mf">10.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">Motion</span><span class="o">/</span><span class="n">FB_MotionStage</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">11.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">Motion</span><span class="o">/</span><span class="n">FB_MotionStageSim</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">12.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">Motion</span><span class="o">/</span><span class="n">FB_SetEnables</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">13.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">Motion</span><span class="o">/</span><span class="n">FB_StatePTPMove</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">14.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">Motion</span><span class="o">/</span><span class="n">Gantry</span><span class="o">/</span><span class="n">FB_GantryAutoCoupling</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">15.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">Motion</span><span class="o">/</span><span class="n">Gantry</span><span class="o">/</span><span class="n">FB_GantryDiffVirtualLimitSwitch</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">16.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">MotorTesting</span><span class="o">/</span><span class="n">FB_MicroStepCountTest</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">17.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">DUTs</span><span class="o">/</span><span class="n">DUT_AxisStatus_v0_01</span><span class="o">.</span><span class="n">TcDUT</span>
    <span class="mf">18.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">GVLs</span><span class="o">/</span><span class="n">GVL</span><span class="o">.</span><span class="n">TcGVL</span>
    <span class="mf">19.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">ChangeConfig</span><span class="o">/</span><span class="n">FB_ReadFloatParameter</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">20.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">ChangeConfig</span><span class="o">/</span><span class="n">FB_ReadParameterInNc_v1_00</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">21.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">ChangeConfig</span><span class="o">/</span><span class="n">FB_WriteFloatParameter</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">22.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">ChangeConfig</span><span class="o">/</span><span class="n">FB_WriteParameterInNc_v1_00</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">23.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">ErrorHandling</span><span class="o">/</span><span class="n">DUT_ErrorState</span><span class="o">.</span><span class="n">TcDUT</span>
    <span class="mf">24.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">ErrorHandling</span><span class="o">/</span><span class="n">DUT_TerminalError</span><span class="o">.</span><span class="n">TcDUT</span>
    <span class="mf">25.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">ErrorHandling</span><span class="o">/</span><span class="n">FB_ErrorList</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">26.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">ErrorHandling</span><span class="o">/</span><span class="n">FB_TerminalError</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">27.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">ErrorHandling</span><span class="o">/</span><span class="n">GVL_ErrorSystem</span><span class="o">.</span><span class="n">TcGVL</span>
    <span class="mf">28.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">ErrorHandling</span><span class="o">/</span><span class="n">ST_ErrorSystem</span><span class="o">.</span><span class="n">TcDUT</span>
    <span class="mf">29.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">Hardware</span><span class="o">/</span><span class="n">EtherCAT_Terminals</span><span class="o">/</span><span class="n">Analog_Inputs</span><span class="o">/</span><span class="n">EL3174_0002</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">30.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">Hardware</span><span class="o">/</span><span class="n">EtherCAT_Terminals</span><span class="o">/</span><span class="n">Analog_Inputs</span><span class="o">/</span><span class="n">EL3214</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">31.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">Hardware</span><span class="o">/</span><span class="n">EtherCAT_Terminals</span><span class="o">/</span><span class="n">Analog_Inputs</span><span class="o">/</span><span class="n">EL3255</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">32.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">Hardware</span><span class="o">/</span><span class="n">EtherCAT_Terminals</span><span class="o">/</span><span class="n">Analog_Inputs</span><span class="o">/</span><span class="n">FB_CalculateFrequency_3702_v0_01</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">33.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">Hardware</span><span class="o">/</span><span class="n">EtherCAT_Terminals</span><span class="o">/</span><span class="n">Digital_Inputs</span><span class="o">/</span><span class="n">EL1008</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">34.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">Hardware</span><span class="o">/</span><span class="n">EtherCAT_Terminals</span><span class="o">/</span><span class="n">Digital_Inputs</span><span class="o">/</span><span class="n">EL1018</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">35.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">Hardware</span><span class="o">/</span><span class="n">EtherCAT_Terminals</span><span class="o">/</span><span class="n">Digital_Inputs</span><span class="o">/</span><span class="n">EL1808</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">36.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">Hardware</span><span class="o">/</span><span class="n">EtherCAT_Terminals</span><span class="o">/</span><span class="n">Digital_Inputs</span><span class="o">/</span><span class="n">EL1809</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">37.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">Hardware</span><span class="o">/</span><span class="n">EtherCAT_Terminals</span><span class="o">/</span><span class="n">Digital_Inputs</span><span class="o">/</span><span class="n">EL1819</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">38.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">Hardware</span><span class="o">/</span><span class="n">EtherCAT_Terminals</span><span class="o">/</span><span class="n">Digital_Inputs</span><span class="o">/</span><span class="n">FB_EL1252ASM_v1_00</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">39.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">Hardware</span><span class="o">/</span><span class="n">EtherCAT_Terminals</span><span class="o">/</span><span class="n">Digital_Outputs</span><span class="o">/</span><span class="n">EL2014</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">40.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">Hardware</span><span class="o">/</span><span class="n">EtherCAT_Terminals</span><span class="o">/</span><span class="n">Digital_Outputs</span><span class="o">/</span><span class="n">EL2252</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">41.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">Hardware</span><span class="o">/</span><span class="n">EtherCAT_Terminals</span><span class="o">/</span><span class="n">Digital_Outputs</span><span class="o">/</span><span class="n">EL2808</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">42.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">Hardware</span><span class="o">/</span><span class="n">EtherCAT_Terminals</span><span class="o">/</span><span class="n">Digital_Outputs</span><span class="o">/</span><span class="n">EL2819</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">43.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">Hardware</span><span class="o">/</span><span class="n">EtherCAT_Terminals</span><span class="o">/</span><span class="n">Digital_Outputs</span><span class="o">/</span><span class="n">External_Types</span><span class="o">/</span><span class="n">dutEL2521_Ctrl</span><span class="o">.</span><span class="n">TcDUT</span>
    <span class="mf">44.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">Hardware</span><span class="o">/</span><span class="n">EtherCAT_Terminals</span><span class="o">/</span><span class="n">Digital_Outputs</span><span class="o">/</span><span class="n">External_Types</span><span class="o">/</span><span class="n">dutEL2521_Status</span><span class="o">.</span><span class="n">TcDUT</span>
    <span class="mf">45.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">Hardware</span><span class="o">/</span><span class="n">EtherCAT_Terminals</span><span class="o">/</span><span class="n">Measuring_Terminals</span><span class="o">/</span><span class="n">EL5002</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">46.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">Hardware</span><span class="o">/</span><span class="n">EtherCAT_Terminals</span><span class="o">/</span><span class="n">Measuring_Terminals</span><span class="o">/</span><span class="n">EL5021</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">47.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">Hardware</span><span class="o">/</span><span class="n">EtherCAT_Terminals</span><span class="o">/</span><span class="n">Measuring_Terminals</span><span class="o">/</span><span class="n">EL5042</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">48.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">Hardware</span><span class="o">/</span><span class="n">EtherCAT_Terminals</span><span class="o">/</span><span class="n">Measuring_Terminals</span><span class="o">/</span><span class="n">EL5101</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">49.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">Hardware</span><span class="o">/</span><span class="n">EtherCAT_Terminals</span><span class="o">/</span><span class="n">Motion</span><span class="o">/</span><span class="n">EL7211_v1_00</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">50.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">Hardware</span><span class="o">/</span><span class="n">EtherCAT_Terminals</span><span class="o">/</span><span class="n">Motion</span><span class="o">/</span><span class="n">EL9576_v1_00</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">51.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">Hardware</span><span class="o">/</span><span class="n">EtherCAT_Terminals</span><span class="o">/</span><span class="n">System</span><span class="o">/</span><span class="n">EL9410</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">52.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">Hardware</span><span class="o">/</span><span class="n">EtherCAT_Terminals</span><span class="o">/</span><span class="n">System</span><span class="o">/</span><span class="n">EL9505</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">53.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">Hardware</span><span class="o">/</span><span class="n">Other</span><span class="o">/</span><span class="n">EK1200</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">54.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">Motion</span><span class="o">/</span><span class="n">FB_DriveVirtual</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">55.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">Motion</span><span class="o">/</span><span class="n">FB_NcAxis</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">56.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">Motion</span><span class="o">/</span><span class="n">Homing</span><span class="o">/</span><span class="n">FB_HomeDirect</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">57.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">Motion</span><span class="o">/</span><span class="n">Homing</span><span class="o">/</span><span class="n">FB_HomeFinish</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">58.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">Motion</span><span class="o">/</span><span class="n">Homing</span><span class="o">/</span><span class="n">FB_HomePrepare</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">59.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">Motion</span><span class="o">/</span><span class="n">Homing</span><span class="o">/</span><span class="n">FB_HomeReadNcVelocities</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">60.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">Motion</span><span class="o">/</span><span class="n">Homing</span><span class="o">/</span><span class="n">FB_HomeReadSoftLimEnable</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">61.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">Motion</span><span class="o">/</span><span class="n">Homing</span><span class="o">/</span><span class="n">FB_HomeToSwitch</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">62.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">Motion</span><span class="o">/</span><span class="n">Homing</span><span class="o">/</span><span class="n">FB_HomeVirtual</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">63.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">Motion</span><span class="o">/</span><span class="n">Homing</span><span class="o">/</span><span class="n">FB_HomeWriteNcVelocities</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">64.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">Motion</span><span class="o">/</span><span class="n">Homing</span><span class="o">/</span><span class="n">FB_HomeWriteSoftLimEnable</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">65.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">UnitTests</span><span class="o">/</span><span class="n">Interactive</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">66.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">Version</span><span class="o">/</span><span class="n">Global_Version</span><span class="o">.</span><span class="n">TcGVL</span>

<span class="n">POUs</span><span class="p">:</span>
    <span class="mf">1.</span><span class="p">)</span> <span class="n">Interactive</span>

<span class="n">GVLs</span><span class="p">:</span>
    <span class="mf">1.</span><span class="p">)</span> <span class="n">GVL</span>
    <span class="mf">2.</span><span class="p">)</span> <span class="n">GVL_ErrorSystem</span>
    <span class="mf">3.</span><span class="p">)</span> <span class="n">Global_Version</span>
</pre></div>
</div>
<div class="section" id="duts-dut-motionstage-tcdut-tcplcobject">
<h2>DUTs/DUT_MotionStage.TcDUT (TcPlcObject)<a class="headerlink" href="#duts-dut-motionstage-tcdut-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="section" id="dut-motionstage-declaration">
<h3>DUT_MotionStage: Declaration<a class="headerlink" href="#dut-motionstage-declaration" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span>TYPE DUT_MotionStage :
STRUCT
	(* Hardware *)
	
	// PLC Axis Reference
	Axis: AXIS_REF;
	// NC Forward Limit Switch: TRUE if ok to move
	{attribute &#39;pytmc&#39; := &#39;
		pv: PLC:bLimitForwardEnable
		io: i
	&#39;}
	bLimitForwardEnable AT %I*: BOOL;
	// NC Backward Limit Switch: TRUE if ok to move
	{attribute &#39;pytmc&#39; := &#39;
		pv: PLC:bLimitBackwardEnable
		io: i
	&#39;}
	bLimitBackwardEnable AT %I*: BOOL;
	// NO Home Switch: TRUE if at home
	{attribute &#39;pytmc&#39; := &#39;
		pv: PLC:bHome
		io: i
	&#39;}
	bHome AT %I*: BOOL;
	// NC Brake Output: TRUE to release brake
	{attribute &#39;pytmc&#39; := &#39;
		pv: PLC:bBrakeRelease
		io: i
	&#39;}
	bBrakeRelease AT %Q*: BOOL;
	// NC STO Input: TRUE if ok to move
	{attribute &#39;pytmc&#39; := &#39;
		pv: PLC:bHardwareEnable
		io: i
	&#39;}
	bHardwareEnable AT %I*: BOOL;

	(* Psuedo-hardware *)
	
	// Forward enable EPS summary
	{attribute &#39;pytmc&#39; := &#39;
		pv: PLC:bAllForwardEnable
		io: i
	&#39;}
	bAllForwardEnable: BOOL:=FALSE;
	// Backward enable EPS summary
	{attribute &#39;pytmc&#39; := &#39;
		pv: PLC:bAllBackwardEnable
		io: i
	&#39;}
	bAllBackwardEnable: BOOL:=FALSE; 
	// Enable EPS summary encapsulating emergency stop button and any additional motion preventive hardware
	{attribute &#39;pytmc&#39; := &#39;
		pv: PLC:bAllEnable
		io: i
	&#39;}
	bAllEnable: BOOL:=FALSE;
	// Forward virtual gantry limit switch
	{attribute &#39;pytmc&#39; := &#39;
		pv: PLC:bGantryForwardEnable
		io: i
	&#39;}
	bGantryForwardEnable: BOOL:=FALSE;
	// Backward virtual gantry limit switch
	{attribute &#39;pytmc&#39; := &#39;
		pv: PLC:bGantryBackwardEnable
		io: i
	&#39;}
	bGantryBackwardEnable: BOOL:=FALSE;
	
	(* Settings *)
	// Change to FALSE if MC_POWER is somewhere else in the project
	{attribute &#39;pytmc&#39; := &#39;
		pv: PLC:bPowerSelf
		io: i
	&#39;}
	bPowerSelf: BOOL:=TRUE;
	// Determines when we automatically enable the motor
	{attribute &#39;pytmc&#39; := &#39;
		pv: PLC:nEnableMode
		io: i
	&#39;}
	nEnableMode: INT:=ENUM_StageEnableMode.STAGE_ENABLE_MOTION;
	// Determines when we automatically disengage the brake
	{attribute &#39;pytmc&#39; := &#39;
		pv: PLC:nBrakeMode
		io: i
	&#39;}
	nBrakeMode: INT:=ENUM_StageBrakeMode.STAGE_BRAKE_DISABLED;
	// Determines our encoder homing strategy
	{attribute &#39;pytmc&#39; := &#39;
		pv: PLC:nHomingMode
		io: i
	&#39;}
	nHomingMode: INT:=ENUM_EpicsHomeCmd.EPICS_MOTOR_HOME_NONE;
	// Set true to activate gantry EPS
	{attribute &#39;pytmc&#39; := &#39;
		pv: PLC:bGantryAxis
		io: i
	&#39;}
	bGantryAxis: BOOL:=FALSE;
	
	// Set to gantry difference tolerance
	nGantryTol: LINT:=0;
	
	// Encoder count at which this axis is aligned with other axis
	nEncRef: ULINT:=0;
	
	(* Commands *)
	// Used internally to request enables
	{attribute &#39;pytmc&#39; := &#39;
		pv: PLC:bEnable
		io: io
	&#39;}
	bEnable: BOOL;
	// Used internally to reset errors and other state
	{attribute &#39;pytmc&#39; := &#39;
		pv: PLC:bReset
		io: io
	&#39;}
	bReset: BOOL;
	// Used internally and by the IOC to start or stop a move
	{attribute &#39;pytmc&#39; := &#39;
		pv: PLC:bExecute
		io: io
	&#39;}
	bExecute: BOOL;
	
	(* Command Args *)
	// Used internally and by the IOC to pick what kind of move to do
	{attribute &#39;pytmc&#39; := &#39;
		pv: PLC:nCommand
		io: io
	&#39;}
	nCommand: INT;
	// Used internally and by the IOC to pass additional data to some commands
	{attribute &#39;pytmc&#39; := &#39;
		pv: PLC:nCmdData
		io: io
	&#39;}
	nCmdData: INT;
	// Used internally and by the IOC to pick a destination for the move
	{attribute &#39;pytmc&#39; := &#39;
		pv: PLC:fPosition
		io: io
	&#39;}
	fPosition: LREAL;
	// Used internally and by the IOC to pick a move velocity
	{attribute &#39;pytmc&#39; := &#39;
		pv: PLC:fVelocity
		io: io
	&#39;}
	fVelocity: LREAL;
	// Used internally and by the IOC to pick a move acceleration
	{attribute &#39;pytmc&#39; := &#39;
		pv: PLC:fAcceleration
		io: io
	&#39;}
	fAcceleration: LREAL;
	// Used internally and by the IOC to pick a move deceleration
	{attribute &#39;pytmc&#39; := &#39;
		pv: PLC:fDeceleration
		io: io
	&#39;}
	fDeceleration: LREAL;
	// Used internally and by the IOC to pick a home position
	{attribute &#39;pytmc&#39; := &#39;
		pv: PLC:fHomePosition
		io: io
	&#39;}
	fHomePosition: LREAL;
	
	(* Info *)
	// Unique ID assigned to each axis in the NC
	{attribute &#39;pytmc&#39; := &#39;
		pv: PLC:nMotionAxisID
		io: i
	&#39;}
	nMotionAxisID: UDINT:=0;
	
	(* Returns *)
	// TRUE if done enabling
	{attribute &#39;pytmc&#39; := &#39;
		pv: PLC:bEnableDone
		io: i
	&#39;}
	bEnableDone: BOOL;
	// TRUE if in the middle of a command
	{attribute &#39;pytmc&#39; := &#39;
		pv: PLC:bBusy
		io: i
	&#39;}
	bBusy: BOOL;
	// TRUE if we&#39;ve done a command and it has finished
	{attribute &#39;pytmc&#39; := &#39;
		pv: PLC:bDone
		io: i
	&#39;}
	bDone: BOOL;
	// TRUE if we&#39;re in an error state
	{attribute &#39;pytmc&#39; := &#39;
		pv: PLC:bError
		io: i
	&#39;}
	bError: BOOL;
	// Message to identify the error state
	{attribute &#39;pytmc&#39; := &#39;
		pv: PLC:sErrorMessage
		io: i
	&#39;}
	sErrorMessage: STRING;
	// Misc axis status information for the IOC
	stAxisStatus: DUT_AxisStatus_v0_01;
END_STRUCT
END_TYPE
</pre></div>
</div>
</div>
</div>
<div class="section" id="duts-dut-positionstate-tcdut-tcplcobject">
<h2>DUTs/DUT_PositionState.TcDUT (TcPlcObject)<a class="headerlink" href="#duts-dut-positionstate-tcdut-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="section" id="dut-positionstate-declaration">
<h3>DUT_PositionState: Declaration<a class="headerlink" href="#dut-positionstate-declaration" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span>TYPE DUT_PositionState :
// Include io: input on things that should never be mutable in EPICS.
// Omit io on things that may or may not need to be mutable, allow engineer to decide in their pragma.
// Currently: some installations would want position and delta to be mutable.
STRUCT
	{attribute &#39;pytmc&#39; := &#39;
		pv: NAME
		io: input
	&#39;}
	sName: STRING;

	{attribute &#39;pytmc&#39; := &#39;
		pv: SETPOINT
		io: io
	&#39;}
	fPosition: LREAL;
	
	{attribute &#39;pytmc&#39; := &#39;
		pv: DELTA
		io: io
	&#39;}
	fDelta: LREAL;
	
	{attribute &#39;pytmc&#39; := &#39;
		pv: VELO
		io: io
	&#39;}
	fVelocity: LREAL;
	
	{attribute &#39;pytmc&#39; := &#39;
		pv: ACCL
		io: io
	&#39;}
	fAccel: LREAL;
	
	{attribute &#39;pytmc&#39; := &#39;
		pv: DCCL
		io: io
	&#39;}
	fDecel: LREAL;
END_STRUCT
END_TYPE
</pre></div>
</div>
</div>
</div>
<div class="section" id="duts-el5042-status-tcdut-tcplcobject">
<h2>DUTs/EL5042_Status.TcDUT (TcPlcObject)<a class="headerlink" href="#duts-el5042-status-tcdut-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="section" id="el5042-status-declaration">
<h3>EL5042_Status: Declaration<a class="headerlink" href="#el5042-status-declaration" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="k">TYPE</span> <span class="n">EL5042_Status</span> <span class="o">:</span>
<span class="n">STRUCT</span>
<span class="n">END_STRUCT</span>
<span class="n">END_TYPE</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="duts-enum-epicshomecmd-tcdut-tcplcobject">
<h2>DUTs/ENUM_EpicsHomeCmd.TcDUT (TcPlcObject)<a class="headerlink" href="#duts-enum-epicshomecmd-tcdut-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="section" id="enum-epicshomecmd-declaration">
<h3>ENUM_EpicsHomeCmd: Declaration<a class="headerlink" href="#enum-epicshomecmd-declaration" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span>{attribute &#39;qualified_only&#39;}
{attribute &#39;strict&#39;}
TYPE ENUM_EpicsHomeCmd :
(
	EPICS_MOTOR_HOME_LLS := 1, // Low limit switch
	EPICS_MOTOR_HOME_HLS := 2, // High limit switch
	EPICS_MOTOR_HOME_LHS := 3, // Home switch via low switch
	EPICS_MOTOR_HOME_HHS := 4, // Home switch via high switch
	EPICS_MOTOR_HOME_ABS := 15, // Set here to be fHomePosition
	EPICS_MOTOR_HOME_NONE := -1 // Do not home, ever
);
END_TYPE
</pre></div>
</div>
</div>
</div>
<div class="section" id="duts-enum-epicsmotorcmd-tcdut-tcplcobject">
<h2>DUTs/ENUM_EpicsMotorCmd.TcDUT (TcPlcObject)<a class="headerlink" href="#duts-enum-epicsmotorcmd-tcdut-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="section" id="enum-epicsmotorcmd-declaration">
<h3>ENUM_EpicsMotorCmd: Declaration<a class="headerlink" href="#enum-epicsmotorcmd-declaration" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span>{attribute &#39;qualified_only&#39;}
{attribute &#39;strict&#39;}
TYPE ENUM_EpicsMotorCmd :
(
	EPICS_MOTOR_JOG := 0,
	EPICS_MOTOR_MOVE_VEL := 1,
	EPICS_MOTOR_MOVE_REL := 2,
	EPICS_MOTOR_MOVE_ABS := 3,
	EPICS_MOTOR_MOVE_MOD := 4,
	EPICS_MOTOR_HOME := 10,
	EPICS_MOTOR_GEAR := 30
);
END_TYPE
</pre></div>
</div>
</div>
</div>
<div class="section" id="duts-enum-stagebrakemode-tcdut-tcplcobject">
<h2>DUTs/ENUM_StageBrakeMode.TcDUT (TcPlcObject)<a class="headerlink" href="#duts-enum-stagebrakemode-tcdut-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="section" id="enum-stagebrakemode-declaration">
<h3>ENUM_StageBrakeMode: Declaration<a class="headerlink" href="#enum-stagebrakemode-declaration" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span>{attribute &#39;qualified_only&#39;}
{attribute &#39;strict&#39;}
TYPE ENUM_StageBrakeMode :
(
	STAGE_BRAKE_DISABLED,
	STAGE_BRAKE_STANDSTILL
);
END_TYPE
</pre></div>
</div>
</div>
</div>
<div class="section" id="duts-enum-stageenablemode-tcdut-tcplcobject">
<h2>DUTs/ENUM_StageEnableMode.TcDUT (TcPlcObject)<a class="headerlink" href="#duts-enum-stageenablemode-tcdut-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="section" id="enum-stageenablemode-declaration">
<h3>ENUM_StageEnableMode: Declaration<a class="headerlink" href="#enum-stageenablemode-declaration" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span>{attribute &#39;qualified_only&#39;}
{attribute &#39;strict&#39;}
TYPE ENUM_StageEnableMode :
(
	STAGE_ENABLE_ALWAYS, // Always set bEnable to TRUE
	STAGE_ENABLE_NEVER,  // Only change bEnable on errors
	STAGE_ENABLE_MOTION  // Enable before motion, disable after motion
);
END_TYPE
</pre></div>
</div>
</div>
</div>
<div class="section" id="duts-st-renishawabsenc-tcdut-tcplcobject">
<h2>DUTs/ST_RenishawAbsEnc.TcDUT (TcPlcObject)<a class="headerlink" href="#duts-st-renishawabsenc-tcdut-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="section" id="st-renishawabsenc-declaration">
<h3>ST_RenishawAbsEnc: Declaration<a class="headerlink" href="#st-renishawabsenc-declaration" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">Renishaw</span> <span class="n">BiSS</span><span class="o">-</span><span class="n">C</span> <span class="n">absolute</span> <span class="n">encoder</span> <span class="n">used</span> <span class="k">with</span> <span class="n">an</span> <span class="n">EL5042</span> 
<span class="k">TYPE</span> <span class="n">ST_RenishawAbsEnc</span> <span class="o">:</span>
<span class="n">STRUCT</span>
	<span class="n">Count</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">ULINT</span><span class="p">;</span> <span class="o">//</span> <span class="n">Connect</span> <span class="k">to</span> <span class="n">encoder</span> <span class="s">&quot;Position&quot;</span> <span class="n">input</span>
	<span class="n">Status</span><span class="o">:</span> <span class="n">EL5042_Status</span><span class="p">;</span> <span class="o">//</span> <span class="n">Status</span> <span class="n">struct</span> <span class="n">placeholder</span>
	<span class="n">Ref</span><span class="o">:</span> <span class="n">ULINT</span><span class="p">;</span> <span class="o">//</span> <span class="n">Encoder</span> <span class="n">zero</span> <span class="n">position</span> <span class="p">(</span><span class="n">useful</span> <span class="k">for</span> <span class="n">aligned</span> <span class="n">position</span> <span class="k">with</span> <span class="n">gantries</span><span class="p">)</span>
<span class="n">END_STRUCT</span>
<span class="n">END_TYPE</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="plctask-tctto-tcplcobject">
<h2>PlcTask.TcTTO (TcPlcObject)<a class="headerlink" href="#plctask-tctto-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
</div>
<div class="section" id="pous-motion-fb-motionstage-tcpou-tcplcobject">
<h2>POUs/Motion/FB_MotionStage.TcPOU (TcPlcObject)<a class="headerlink" href="#pous-motion-fb-motionstage-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="section" id="fb-motionstage-declaration">
<h3>FB_MotionStage: Declaration<a class="headerlink" href="#fb-motionstage-declaration" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="n">FUNCTION_BLOCK</span> <span class="n">FB_MotionStage</span>
<span class="n">VAR_IN_OUT</span>
	<span class="n">stMotionStage</span><span class="o">:</span> <span class="n">DUT_MotionStage</span><span class="p">;</span>
<span class="n">END_VAR</span>
<span class="n">VAR</span>
	<span class="n">fbDriveVirtual</span><span class="o">:</span> <span class="n">FB_DriveVirtual</span><span class="p">;</span>
	<span class="n">bExecute</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bFwdHit</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bBwdHit</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">fbExecFallingEdge</span><span class="o">:</span> <span class="n">F_TRIG</span><span class="p">;</span>
	<span class="n">fbSetEnables</span><span class="o">:</span> <span class="n">FB_SetEnables</span><span class="p">;</span>
<span class="n">END_VAR</span>
</pre></div>
</div>
</div>
<div class="section" id="fb-motionstage-st">
<h3>FB_MotionStage: ST<a class="headerlink" href="#fb-motionstage-st" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">Start</span> <span class="k">with</span> <span class="n">an</span> <span class="n">accurate</span> <span class="n">status</span>
<span class="n">stMotionStage</span><span class="p">.</span><span class="n">Axis</span><span class="p">.</span><span class="n">ReadStatus</span><span class="p">();</span>

<span class="o">//</span> <span class="n">Handle</span> <span class="n">auto</span><span class="o">-</span><span class="n">enable</span> <span class="n">timing</span>
<span class="k">CASE</span> <span class="n">stMotionStage</span><span class="p">.</span><span class="n">nEnableMode</span> <span class="k">OF</span>
	<span class="n">ENUM_StageEnableMode</span><span class="p">.</span><span class="n">STAGE_ENABLE_ALWAYS</span><span class="o">:</span>
		<span class="n">stMotionStage</span><span class="p">.</span><span class="n">bEnable</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">;</span>
		<span class="n">bExecute</span> <span class="o">:=</span> <span class="n">stMotionStage</span><span class="p">.</span><span class="n">bExecute</span><span class="p">;</span>
	<span class="n">ENUM_StageEnableMode</span><span class="p">.</span><span class="n">STAGE_ENABLE_NEVER</span><span class="o">:</span>
		<span class="n">bExecute</span> <span class="o">:=</span> <span class="n">stMotionStage</span><span class="p">.</span><span class="n">bExecute</span><span class="p">;</span>
	<span class="n">ENUM_StageEnableMode</span><span class="p">.</span><span class="n">STAGE_ENABLE_MOTION</span><span class="o">:</span>
		<span class="k">IF</span> <span class="n">stMotionStage</span><span class="p">.</span><span class="n">bExecute</span> <span class="k">THEN</span>
			<span class="n">stMotionStage</span><span class="p">.</span><span class="n">bEnable</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">;</span>
		<span class="n">END_IF</span>
		<span class="n">bExecute</span> <span class="o">:=</span> <span class="n">stMotionStage</span><span class="p">.</span><span class="n">bExecute</span> <span class="k">AND</span> <span class="n">stMotionStage</span><span class="p">.</span><span class="n">bEnableDone</span><span class="p">;</span>
<span class="n">END_CASE</span>

<span class="o">//</span> <span class="n">Automatically</span> <span class="n">fill</span> <span class="n">the</span> <span class="n">correct</span> <span class="n">nCmdData</span> <span class="k">for</span> <span class="n">homing</span>
<span class="k">IF</span> <span class="n">stMotionStage</span><span class="p">.</span><span class="n">nCommand</span> <span class="o">=</span> <span class="n">ENUM_EpicsMotorCmd</span><span class="p">.</span><span class="n">EPICS_MOTOR_HOME</span> <span class="k">THEN</span>
	<span class="n">stMotionStage</span><span class="p">.</span><span class="n">nCmdData</span> <span class="o">:=</span> <span class="n">stMotionStage</span><span class="p">.</span><span class="n">nHomingMode</span><span class="p">;</span>
<span class="n">END_IF</span>

<span class="n">fbSetEnables</span><span class="p">(</span><span class="n">stMotionStage</span><span class="o">:=</span><span class="n">stMotionStage</span><span class="p">);</span>

<span class="o">//</span> <span class="n">Handle</span> <span class="n">standard</span> <span class="n">commands</span> <span class="n">using</span> <span class="n">ESS</span><span class="na">&#39;s</span> <span class="n">FB</span>
<span class="n">fbDriveVirtual</span><span class="p">(</span><span class="n">En</span><span class="o">:=</span><span class="n">TRUE</span><span class="p">,</span>
	<span class="n">bEnable</span><span class="o">:=</span><span class="n">stMotionStage</span><span class="p">.</span><span class="n">bAllEnable</span><span class="p">,</span>
	<span class="n">bReset</span><span class="o">:=</span><span class="n">stMotionStage</span><span class="p">.</span><span class="n">bReset</span><span class="p">,</span>
	<span class="n">bExecute</span><span class="o">:=</span><span class="n">bExecute</span><span class="p">,</span>
	<span class="n">nCommand</span><span class="o">:=</span><span class="n">INT_TO_UINT</span><span class="p">(</span><span class="n">stMotionStage</span><span class="p">.</span><span class="n">nCommand</span><span class="p">),</span>
	<span class="n">nCmdData</span><span class="o">:=</span><span class="n">INT_TO_UINT</span><span class="p">(</span><span class="n">stMotionStage</span><span class="p">.</span><span class="n">nCmdData</span><span class="p">),</span>
	<span class="n">fVelocity</span><span class="o">:=</span><span class="n">stMotionStage</span><span class="p">.</span><span class="n">fVelocity</span><span class="p">,</span>
	<span class="n">fPosition</span><span class="o">:=</span><span class="n">stMotionStage</span><span class="p">.</span><span class="n">fPosition</span><span class="p">,</span>
	<span class="n">fAcceleration</span><span class="o">:=</span><span class="n">stMotionStage</span><span class="p">.</span><span class="n">fAcceleration</span><span class="p">,</span>
	<span class="n">fDeceleration</span><span class="o">:=</span><span class="n">stMotionStage</span><span class="p">.</span><span class="n">fDeceleration</span><span class="p">,</span>
	<span class="n">bLimitFwd</span><span class="o">:=</span><span class="n">stMotionStage</span><span class="p">.</span><span class="n">bAllForwardEnable</span><span class="p">,</span>
	<span class="n">bLimitBwd</span><span class="o">:=</span><span class="n">stMotionStage</span><span class="p">.</span><span class="n">bAllBackwardEnable</span><span class="p">,</span>
	<span class="n">bHomeSensor</span><span class="o">:=</span><span class="n">stMotionStage</span><span class="p">.</span><span class="n">bHome</span><span class="p">,</span>
	<span class="n">fHomePosition</span><span class="o">:=</span><span class="n">stMotionStage</span><span class="p">.</span><span class="n">fHomePosition</span><span class="p">,</span>
	<span class="n">bPowerSelf</span><span class="o">:=</span><span class="n">stMotionStage</span><span class="p">.</span><span class="n">bPowerSelf</span><span class="p">,</span>
	<span class="n">nMotionAxisID</span><span class="o">=&gt;</span><span class="n">stMotionStage</span><span class="p">.</span><span class="n">nMotionAxisID</span><span class="p">,</span>
	<span class="n">bError</span><span class="o">=&gt;</span><span class="n">stMotionStage</span><span class="p">.</span><span class="n">bError</span><span class="p">,</span>
	<span class="n">sErrorMessage</span><span class="o">=&gt;</span><span class="n">stMotionStage</span><span class="p">.</span><span class="n">sErrorMessage</span><span class="p">,</span>
	<span class="n">Axis</span><span class="o">:=</span><span class="n">stMotionStage</span><span class="p">.</span><span class="n">Axis</span><span class="p">);</span>

<span class="k">IF</span> <span class="n">fbDriveVirtual</span><span class="p">.</span><span class="n">bBusy</span> <span class="k">THEN</span>
	<span class="n">stMotionStage</span><span class="p">.</span><span class="n">bBusy</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">;</span>
	<span class="n">stMotionStage</span><span class="p">.</span><span class="n">bDone</span> <span class="o">:=</span> <span class="n">FALSE</span><span class="p">;</span>
<span class="n">END_IF</span>

<span class="k">IF</span> <span class="n">stMotionStage</span><span class="p">.</span><span class="n">bError</span> <span class="k">THEN</span>
	<span class="n">stMotionStage</span><span class="p">.</span><span class="n">bBusy</span> <span class="o">:=</span> <span class="n">FALSE</span><span class="p">;</span>
	<span class="n">stMotionStage</span><span class="p">.</span><span class="n">bDone</span> <span class="o">:=</span> <span class="n">FALSE</span><span class="p">;</span>
	<span class="n">stMotionStage</span><span class="p">.</span><span class="n">bEnable</span> <span class="o">:=</span> <span class="n">FALSE</span><span class="p">;</span>
<span class="n">END_IF</span>

<span class="o">//</span> <span class="n">Check</span> <span class="n">the</span> <span class="n">limits</span> <span class="k">and</span> <span class="n">cancel</span> <span class="n">execution</span> <span class="k">if</span> <span class="n">appropriate</span><span class="p">.</span> <span class="n">Without</span> <span class="n">this</span> <span class="k">block</span> <span class="n">we</span> <span class="n">have</span> <span class="n">infinite</span> <span class="n">error</span> <span class="n">spam</span>
<span class="n">bFwdHit</span> <span class="o">:=</span> <span class="n">stMotionStage</span><span class="p">.</span><span class="n">Axis</span><span class="p">.</span><span class="n">Status</span><span class="p">.</span><span class="n">PositiveDirection</span> <span class="k">AND</span> <span class="k">NOT</span> <span class="n">stMotionStage</span><span class="p">.</span><span class="n">bAllForwardEnable</span><span class="p">;</span>
<span class="n">bBwdHit</span> <span class="o">:=</span> <span class="n">stMotionStage</span><span class="p">.</span><span class="n">Axis</span><span class="p">.</span><span class="n">Status</span><span class="p">.</span><span class="n">NegativeDirection</span> <span class="k">AND</span> <span class="k">NOT</span> <span class="n">stMotionStage</span><span class="p">.</span><span class="n">bAllBackwardEnable</span><span class="p">;</span>
<span class="k">IF</span> <span class="n">bFwdHit</span> <span class="k">OR</span> <span class="n">bBwdHit</span> <span class="k">THEN</span>
	<span class="n">stMotionStage</span><span class="p">.</span><span class="n">bExecute</span> <span class="o">:=</span> <span class="n">FALSE</span><span class="p">;</span>
<span class="n">END_IF</span>

<span class="o">//</span> <span class="n">Mark</span> <span class="n">done</span> <span class="k">if</span> <span class="n">settled</span> <span class="k">or</span> <span class="k">if</span> <span class="n">unexpected</span> <span class="n">stop</span><span class="p">,</span> <span class="k">then</span> <span class="n">reset</span> <span class="n">the</span> <span class="n">FB</span> <span class="k">if</span> <span class="n">there</span> <span class="k">is</span> <span class="n">no</span> <span class="n">error</span>
<span class="n">fbExecFallingEdge</span><span class="p">(</span><span class="n">CLK</span><span class="o">:=</span><span class="n">stMotionStage</span><span class="p">.</span><span class="n">bExecute</span><span class="p">);</span>
<span class="k">IF</span> <span class="p">(</span><span class="n">stMotionStage</span><span class="p">.</span><span class="n">Axis</span><span class="p">.</span><span class="n">Status</span><span class="p">.</span><span class="n">InTargetPosition</span> <span class="k">AND</span> <span class="k">NOT</span> <span class="n">fbDriveVirtual</span><span class="p">.</span><span class="n">bBusy</span><span class="p">)</span> <span class="k">OR</span> <span class="n">fbExecFallingEdge</span><span class="p">.</span><span class="n">Q</span> <span class="k">THEN</span>
	<span class="k">IF</span> <span class="k">NOT</span> <span class="n">stMotionStage</span><span class="p">.</span><span class="n">bDone</span> <span class="k">THEN</span>
		<span class="n">stMotionStage</span><span class="p">.</span><span class="n">bDone</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">;</span>
		<span class="n">stMotionStage</span><span class="p">.</span><span class="n">bBusy</span> <span class="o">:=</span> <span class="n">FALSE</span><span class="p">;</span>
		<span class="k">IF</span> <span class="k">NOT</span> <span class="n">stMotionStage</span><span class="p">.</span><span class="n">Axis</span><span class="p">.</span><span class="n">Status</span><span class="p">.</span><span class="n">Error</span> <span class="k">THEN</span>
			<span class="n">bExecute</span> <span class="o">:=</span> <span class="n">FALSE</span><span class="p">;</span>
			<span class="n">stMotionStage</span><span class="p">.</span><span class="n">bExecute</span> <span class="o">:=</span> <span class="n">FALSE</span><span class="p">;</span>
		<span class="n">END_IF</span>
	<span class="n">END_IF</span>
<span class="n">END_IF</span>
<span class="k">IF</span> <span class="n">stMotionStage</span><span class="p">.</span><span class="n">nEnableMode</span> <span class="o">=</span> <span class="n">ENUM_StageEnableMode</span><span class="p">.</span><span class="n">STAGE_ENABLE_MOTION</span> <span class="k">AND</span> <span class="k">NOT</span> <span class="n">bExecute</span> <span class="k">THEN</span>
	<span class="k">IF</span> <span class="n">stMotionStage</span><span class="p">.</span><span class="n">Axis</span><span class="p">.</span><span class="n">Status</span><span class="p">.</span><span class="n">MotionState</span> <span class="o">=</span> <span class="n">MC_AXISSTATE_STANDSTILL</span> <span class="k">THEN</span>
		<span class="n">stMotionStage</span><span class="p">.</span><span class="n">bEnable</span> <span class="o">:=</span> <span class="n">FALSE</span><span class="p">;</span>
	<span class="n">END_IF</span>
<span class="n">END_IF</span>

<span class="o">//</span> <span class="n">Get</span> <span class="n">a</span> <span class="n">definitive</span> <span class="n">bEnabled</span> <span class="n">reading</span>
<span class="k">CASE</span> <span class="n">stMotionStage</span><span class="p">.</span><span class="n">Axis</span><span class="p">.</span><span class="n">Status</span><span class="p">.</span><span class="n">MotionState</span> <span class="k">OF</span>
	<span class="o">//</span> <span class="n">We</span> <span class="n">are</span> <span class="k">not</span> <span class="n">enabled</span> <span class="k">if</span> <span class="n">there</span> <span class="k">is</span> <span class="n">an</span> <span class="n">issue</span>
	<span class="n">MC_AXISSTATE_UNDEFINED</span><span class="p">,</span> <span class="n">MC_AXISSTATE_DISABLED</span><span class="p">,</span> <span class="n">MC_AXISSTATE_ERRORSTOP</span><span class="o">:</span>
		<span class="n">stMotionStage</span><span class="p">.</span><span class="n">bEnableDone</span> <span class="o">:=</span> <span class="n">FALSE</span><span class="p">;</span>
	<span class="k">ELSE</span>
		<span class="n">stMotionStage</span><span class="p">.</span><span class="n">bEnableDone</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">;</span>
<span class="n">END_CASE</span>

<span class="o">//</span> <span class="n">Handle</span> <span class="n">the</span> <span class="n">brake</span><span class="p">.</span> <span class="n">TRUE</span> <span class="n">means</span> <span class="n">brake</span> <span class="n">disabled</span><span class="p">.</span>
<span class="k">CASE</span> <span class="n">stMotionStage</span><span class="p">.</span><span class="n">nBrakeMode</span> <span class="k">OF</span>
	<span class="n">ENUM_StageBrakeMode</span><span class="p">.</span><span class="n">STAGE_BRAKE_DISABLED</span><span class="o">:</span>
		<span class="n">stMotionStage</span><span class="p">.</span><span class="n">bBrakeRelease</span> <span class="o">:=</span> <span class="n">stMotionStage</span><span class="p">.</span><span class="n">bEnableDone</span> <span class="k">AND</span> <span class="n">stMotionStage</span><span class="p">.</span><span class="n">bExecute</span><span class="p">;</span>
	<span class="n">ENUM_StageBrakeMode</span><span class="p">.</span><span class="n">STAGE_BRAKE_STANDSTILL</span><span class="o">:</span>
		<span class="k">IF</span> <span class="n">stMotionStage</span><span class="p">.</span><span class="n">Axis</span><span class="p">.</span><span class="n">Status</span><span class="p">.</span><span class="n">MotionState</span> <span class="o">=</span> <span class="n">MC_AXISSTATE_STANDSTILL</span> <span class="k">THEN</span>
			<span class="n">stMotionStage</span><span class="p">.</span><span class="n">bBrakeRelease</span> <span class="o">:=</span> <span class="n">FALSE</span><span class="p">;</span>
		<span class="k">ELSE</span>
			<span class="n">stMotionStage</span><span class="p">.</span><span class="n">bBrakeRelease</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">;</span>
		<span class="n">END_IF</span>
<span class="n">END_CASE</span>
<span class="k">CASE</span> <span class="n">stMotionStage</span><span class="p">.</span><span class="n">Axis</span><span class="p">.</span><span class="n">Status</span><span class="p">.</span><span class="n">MotionState</span> <span class="k">OF</span>
	<span class="n">MC_AXISSTATE_UNDEFINED</span><span class="p">,</span> <span class="n">MC_AXISSTATE_ERRORSTOP</span><span class="o">:</span>
		<span class="n">stMotionStage</span><span class="p">.</span><span class="n">bBrakeRelease</span> <span class="o">:=</span> <span class="n">FALSE</span><span class="p">;</span>
<span class="n">END_CASE</span>

<span class="o">//</span> <span class="n">Sync</span> <span class="n">the</span> <span class="n">epics</span> <span class="n">status</span> <span class="n">struct</span>
<span class="n">stMotionStage</span><span class="p">.</span><span class="n">stAxisStatus</span> <span class="o">:=</span> <span class="n">fbDriveVirtual</span><span class="p">.</span><span class="n">stAxisStatus</span><span class="p">;</span>
<span class="n">stMotionStage</span><span class="p">.</span><span class="n">stAxisStatus</span><span class="p">.</span><span class="n">bEnabled</span> <span class="o">:=</span> <span class="n">stMotionStage</span><span class="p">.</span><span class="n">bEnableDone</span><span class="p">;</span>

<span class="o">//</span> <span class="n">Reset</span> <span class="n">everything</span> <span class="k">when</span> <span class="n">bReset</span> <span class="k">is</span> <span class="n">flagged</span>
<span class="k">IF</span> <span class="n">stMotionStage</span><span class="p">.</span><span class="n">bReset</span> <span class="k">THEN</span>
	<span class="n">stMotionStage</span><span class="p">.</span><span class="n">bEnable</span> <span class="o">:=</span> <span class="n">FALSE</span><span class="p">;</span>
	<span class="n">stMotionStage</span><span class="p">.</span><span class="n">bReset</span> <span class="o">:=</span> <span class="n">FALSE</span><span class="p">;</span>
	<span class="n">stMotionStage</span><span class="p">.</span><span class="n">bExecute</span> <span class="o">:=</span> <span class="n">FALSE</span><span class="p">;</span>
	<span class="n">bExecute</span> <span class="o">:=</span> <span class="n">FALSE</span><span class="p">;</span>
<span class="n">END_IF</span>

<span class="o">//</span> <span class="n">Ignore</span> <span class="n">homing</span> <span class="k">if</span> <span class="n">we</span> <span class="n">have</span> <span class="n">the</span> <span class="n">setting</span> <span class="k">for</span> <span class="n">it</span>
<span class="o">//</span> <span class="n">e</span><span class="p">.</span><span class="n">g</span><span class="p">.</span> <span class="k">for</span> <span class="n">pre</span><span class="o">-</span><span class="n">calibrated</span> <span class="n">absolute</span> <span class="n">encoders</span>
<span class="k">IF</span> <span class="n">stMotionStage</span><span class="p">.</span><span class="n">nHomingMode</span> <span class="o">=</span> <span class="n">ENUM_EpicsHomeCmd</span><span class="p">.</span><span class="n">EPICS_MOTOR_HOME_NONE</span> <span class="k">THEN</span>
	<span class="n">stMotionStage</span><span class="p">.</span><span class="n">stAxisStatus</span><span class="p">.</span><span class="n">bHomed</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">;</span>
<span class="n">END_IF</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="pous-motion-fb-motionstagesim-tcpou-tcplcobject">
<h2>POUs/Motion/FB_MotionStageSim.TcPOU (TcPlcObject)<a class="headerlink" href="#pous-motion-fb-motionstagesim-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="section" id="fb-motionstagesim-declaration">
<h3>FB_MotionStageSim: Declaration<a class="headerlink" href="#fb-motionstagesim-declaration" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="n">FUNCTION_BLOCK</span> <span class="n">FB_MotionStageSim</span>
<span class="n">VAR_IN_OUT</span>
	<span class="n">stMotionStage</span><span class="o">:</span> <span class="n">DUT_MotionStage</span><span class="p">;</span>
<span class="n">END_VAR</span>
<span class="n">VAR</span>
	<span class="n">fbMotionStage</span><span class="o">:</span> <span class="n">FB_MotionStage</span><span class="p">;</span>
<span class="n">END_VAR</span>
</pre></div>
</div>
</div>
<div class="section" id="fb-motionstagesim-st">
<h3>FB_MotionStageSim: ST<a class="headerlink" href="#fb-motionstagesim-st" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="n">stMotionStage</span><span class="p">.</span><span class="n">bLimitForwardEnable</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">;</span>
<span class="n">stMotionStage</span><span class="p">.</span><span class="n">bLimitBackwardEnable</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">;</span>
<span class="n">stMotionStage</span><span class="p">.</span><span class="n">bHardwareEnable</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">;</span>
<span class="n">stMotionStage</span><span class="p">.</span><span class="n">bPowerSelf</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">;</span>
<span class="n">stMotionStage</span><span class="p">.</span><span class="n">nEnableMode</span> <span class="o">:=</span> <span class="n">ENUM_StageEnableMode</span><span class="p">.</span><span class="n">STAGE_ENABLE_ALWAYS</span><span class="p">;</span>
<span class="n">fbMotionStage</span><span class="p">(</span><span class="n">stMotionStage</span> <span class="o">:=</span> <span class="n">stMotionStage</span><span class="p">);</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="pous-motion-fb-setenables-tcpou-tcplcobject">
<h2>POUs/Motion/FB_SetEnables.TcPOU (TcPlcObject)<a class="headerlink" href="#pous-motion-fb-setenables-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="section" id="fb-setenables-declaration">
<h3>FB_SetEnables: Declaration<a class="headerlink" href="#fb-setenables-declaration" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="n">FUNCTION_BLOCK</span> <span class="n">FB_SetEnables</span>
<span class="n">VAR_IN_OUT</span>
	<span class="n">stMotionStage</span><span class="o">:</span> <span class="n">DUT_MotionStage</span><span class="p">;</span>
<span class="n">END_VAR</span>
</pre></div>
</div>
</div>
<div class="section" id="fb-setenables-st">
<h3>FB_SetEnables: ST<a class="headerlink" href="#fb-setenables-st" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="n">stMotionStage</span><span class="p">.</span><span class="n">bAllForwardEnable</span> <span class="o">:=</span> <span class="n">stMotionStage</span><span class="p">.</span><span class="n">bLimitForwardEnable</span> <span class="k">AND</span> <span class="p">(</span><span class="n">stMotionStage</span><span class="p">.</span><span class="n">bGantryForwardEnable</span> <span class="k">OR</span> <span class="k">NOT</span> <span class="n">stMotionStage</span><span class="p">.</span><span class="n">bGantryAxis</span><span class="p">);</span>
<span class="n">stMotionStage</span><span class="p">.</span><span class="n">bAllBackwardEnable</span> <span class="o">:=</span> <span class="n">stMotionStage</span><span class="p">.</span><span class="n">bLimitBackwardEnable</span> <span class="k">AND</span> <span class="p">(</span><span class="n">stMotionStage</span><span class="p">.</span><span class="n">bGantryBackwardEnable</span> <span class="k">OR</span> <span class="k">NOT</span> <span class="n">stMotionStage</span><span class="p">.</span><span class="n">bGantryAxis</span><span class="p">);</span>

<span class="n">stMotionStage</span><span class="p">.</span><span class="n">bAllEnable</span> <span class="o">:=</span> <span class="n">stMotionStage</span><span class="p">.</span><span class="n">bEnable</span> <span class="k">AND</span> <span class="n">stMotionStage</span><span class="p">.</span><span class="n">bHardwareEnable</span><span class="p">;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="pous-motion-fb-stateptpmove-tcpou-tcplcobject">
<h2>POUs/Motion/FB_StatePTPMove.TcPOU (TcPlcObject)<a class="headerlink" href="#pous-motion-fb-stateptpmove-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="section" id="fb-stateptpmove-declaration">
<h3>FB_StatePTPMove: Declaration<a class="headerlink" href="#fb-stateptpmove-declaration" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span>FUNCTION_BLOCK FB_StatePTPMove
// For your pytmc pragma on this block, specify io accordingly:
// 1. use input or i if you want the set position to be immutable
// 2. use io if you want to set position to be mutable from epics
VAR_INPUT
	{attribute &#39;pytmc&#39; := &#39;
		pv:
	&#39;}
	stPositionState: DUT_PositionState;
	
	{attribute &#39;pytmc&#39; := &#39;
		pv: GO
		io: io
		field: ZNAM False
		field: ONAM True
	&#39;}
	bExecute: BOOL;
	
	{attribute &#39;pytmc&#39; := &#39;
		pv: MOVE_OK
		io: input
		field: ZNAM False
		field: ONAM True
	&#39;}
	bMoveOk: BOOL;
END_VAR
VAR_IN_OUT
	stMotionStage: DUT_MotionStage;
END_VAR
VAR_OUTPUT
	{attribute &#39;pytmc&#39; := &#39;
		pv: AT_STATE
		io: input
		field: ZNAM False
		field: ONAM True
	&#39;}
	bAtState: BOOL;
	
	{attribute &#39;pytmc&#39; := &#39;
		pv: DMOV
		io: input
		field: ZNAM False
		field: ONAM True
	&#39;}
	bDone: BOOL;
	
	{attribute &#39;pytmc&#39; := &#39;
		pv: BUSY
		io: input
		field: ZNAM False
		field: ONAM True
	&#39;}
	bBusy: BOOL;
	
	{attribute &#39;pytmc&#39; := &#39;
		pv: ERR
		io: input
		field: ZNAM False
		field: ONAM True
	&#39;}
	bError: BOOL;
	
	{attribute &#39;pytmc&#39; := &#39;
		pv: ERRMSG
		io: input
	&#39;}
	sError: STRING;
END_VAR
VAR
	bExecTrig: R_TRIG;
	bExecEnd: F_TRIG;
	fActPosition: LREAL;
	fLowPos: LREAL;
	fHighPos: LREAL;
END_VAR
</pre></div>
</div>
</div>
<div class="section" id="fb-stateptpmove-st">
<h3>FB_StatePTPMove: ST<a class="headerlink" href="#fb-stateptpmove-st" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="n">bExecTrig</span><span class="p">(</span><span class="n">CLK</span><span class="o">:=</span><span class="n">bExecute</span><span class="p">);</span>
<span class="k">IF</span> <span class="n">bExecTrig</span><span class="p">.</span><span class="n">Q</span> <span class="k">AND</span> <span class="n">bMoveOk</span> <span class="k">THEN</span>
	<span class="k">IF</span> <span class="k">NOT</span> <span class="n">stMotionStage</span><span class="p">.</span><span class="n">bBusy</span> <span class="k">AND</span> <span class="k">NOT</span> <span class="n">stMotionStage</span><span class="p">.</span><span class="n">bError</span> <span class="k">THEN</span>
		<span class="n">stMotionStage</span><span class="p">.</span><span class="n">bExecute</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">;</span>
		<span class="n">stMotionStage</span><span class="p">.</span><span class="n">nCommand</span> <span class="o">:=</span> <span class="n">ENUM_EpicsMotorCmd</span><span class="p">.</span><span class="n">EPICS_MOTOR_MOVE_ABS</span><span class="p">;</span>
		<span class="n">stMotionStage</span><span class="p">.</span><span class="n">fPosition</span> <span class="o">:=</span> <span class="n">stPositionState</span><span class="p">.</span><span class="n">fPosition</span><span class="p">;</span>
		<span class="n">stMotionStage</span><span class="p">.</span><span class="n">fVelocity</span> <span class="o">:=</span> <span class="n">stPositionState</span><span class="p">.</span><span class="n">fVelocity</span><span class="p">;</span>
		<span class="n">stMotionStage</span><span class="p">.</span><span class="n">fAcceleration</span> <span class="o">:=</span> <span class="n">stPositionState</span><span class="p">.</span><span class="n">fAccel</span><span class="p">;</span>
		<span class="n">stMotionStage</span><span class="p">.</span><span class="n">fDeceleration</span> <span class="o">:=</span> <span class="n">stPositionState</span><span class="p">.</span><span class="n">fDecel</span><span class="p">;</span>
		<span class="n">bDone</span> <span class="o">:=</span> <span class="n">FALSE</span><span class="p">;</span>
		<span class="n">bBusy</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">;</span>
	<span class="n">END_IF</span>
<span class="n">END_IF</span>
<span class="n">bError</span> <span class="o">:=</span> <span class="n">stMotionStage</span><span class="p">.</span><span class="n">bError</span><span class="p">;</span>
<span class="n">sError</span> <span class="o">:=</span> <span class="n">stMotionStage</span><span class="p">.</span><span class="n">sErrorMessage</span><span class="p">;</span>

<span class="n">fActPosition</span> <span class="o">:=</span> <span class="n">stMotionStage</span><span class="p">.</span><span class="n">stAxisStatus</span><span class="p">.</span><span class="n">fActPosition</span><span class="p">;</span>
<span class="n">fLowPos</span> <span class="o">:=</span> <span class="n">stPositionState</span><span class="p">.</span><span class="n">fPosition</span> <span class="o">-</span> <span class="n">stPositionState</span><span class="p">.</span><span class="n">fDelta</span><span class="p">;</span>
<span class="n">fHighPos</span> <span class="o">:=</span> <span class="n">stPositionState</span><span class="p">.</span><span class="n">fPosition</span> <span class="o">+</span> <span class="n">stPositionState</span><span class="p">.</span><span class="n">fDelta</span><span class="p">;</span>
<span class="k">IF</span> <span class="p">(</span><span class="n">fLowPos</span> <span class="o">&lt;</span> <span class="n">fActPosition</span><span class="p">)</span> <span class="k">AND</span> <span class="p">(</span><span class="n">fHighPos</span> <span class="o">&gt;</span> <span class="n">fActPosition</span><span class="p">)</span> <span class="k">THEN</span>
	<span class="n">bAtState</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">;</span>
	<span class="k">IF</span> <span class="k">NOT</span> <span class="n">stMotionStage</span><span class="p">.</span><span class="n">bBusy</span> <span class="k">THEN</span>
		<span class="n">bDone</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">;</span>
		<span class="n">bBusy</span> <span class="o">:=</span> <span class="n">FALSE</span><span class="p">;</span>
		<span class="n">bExecute</span> <span class="o">:=</span> <span class="n">FALSE</span><span class="p">;</span>
	<span class="n">END_IF</span>
<span class="k">ELSE</span>
	<span class="n">bAtState</span> <span class="o">:=</span> <span class="n">FALSE</span><span class="p">;</span>
<span class="n">END_IF</span>

<span class="n">bExecEnd</span><span class="p">(</span><span class="n">CLK</span><span class="o">:=</span><span class="n">bExecute</span><span class="p">);</span>
<span class="k">IF</span> <span class="n">bExecEnd</span><span class="p">.</span><span class="n">Q</span> <span class="k">AND</span> <span class="n">bBusy</span> <span class="k">THEN</span>
	<span class="n">stMotionStage</span><span class="p">.</span><span class="n">bExecute</span> <span class="o">:=</span> <span class="n">FALSE</span><span class="p">;</span>
<span class="n">END_IF</span>

<span class="k">IF</span> <span class="k">NOT</span> <span class="n">stMotionStage</span><span class="p">.</span><span class="n">bExecute</span> <span class="k">OR</span> <span class="k">NOT</span> <span class="n">bExecute</span> <span class="k">THEN</span>
	<span class="n">bDone</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">;</span>
	<span class="n">bBusy</span> <span class="o">:=</span> <span class="n">FALSE</span><span class="p">;</span>
	<span class="n">bExecute</span> <span class="o">:=</span> <span class="n">FALSE</span><span class="p">;</span>
<span class="n">END_IF</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="pous-motion-gantry-fb-gantryautocoupling-tcpou-tcplcobject">
<h2>POUs/Motion/Gantry/FB_GantryAutoCoupling.TcPOU (TcPlcObject)<a class="headerlink" href="#pous-motion-gantry-fb-gantryautocoupling-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="section" id="fb-gantryautocoupling-declaration">
<h3>FB_GantryAutoCoupling: Declaration<a class="headerlink" href="#fb-gantryautocoupling-declaration" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="n">FUNCTION_BLOCK</span> <span class="n">FB_GantryAutoCoupling</span>
<span class="n">VAR_INPUT</span>
	<span class="n">nGantryTol</span> <span class="o">:</span> <span class="n">LINT</span><span class="p">;</span>
<span class="n">END_VAR</span>
<span class="n">VAR_OUTPUT</span>
	<span class="n">bGantryAlreadyCoupled</span> <span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
<span class="n">END_VAR</span>
<span class="n">VAR_IN_OUT</span>
	<span class="n">Master</span> <span class="o">:</span> <span class="n">DUT_MotionStage</span><span class="p">;</span>
	<span class="n">MasterEnc</span> <span class="o">:</span> <span class="n">ST_RenishawAbsEnc</span><span class="p">;</span>
	<span class="n">Slave</span> <span class="o">:</span> <span class="n">DUT_MotionStage</span><span class="p">;</span>
	<span class="n">SlaveEnc</span> <span class="o">:</span> <span class="n">ST_RenishawAbsEnc</span><span class="p">;</span>
	<span class="n">bExecuteCouple</span> <span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bExecuteDecouple</span> <span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
<span class="n">END_VAR</span>
<span class="n">VAR</span>
	<span class="n">gantry_diff_limit</span> <span class="o">:</span> <span class="n">FB_GantryDiffVirtualLimitSwitch</span><span class="p">;</span>
	<span class="n">couple</span> <span class="o">:</span> <span class="n">MC_GEARIN</span><span class="p">;</span>
	<span class="n">decouple</span> <span class="o">:</span> <span class="n">MC_GEAROUT</span><span class="p">;</span>
	<span class="n">bInitComplete</span> <span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">fbSetEnables</span> <span class="o">:</span> <span class="n">FB_SetEnables</span><span class="p">;</span>
<span class="n">END_VAR</span>
</pre></div>
</div>
</div>
<div class="section" id="fb-gantryautocoupling-st">
<h3>FB_GantryAutoCoupling: ST<a class="headerlink" href="#fb-gantryautocoupling-st" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">Designate</span> <span class="n">Master</span> <span class="k">and</span> <span class="n">SLave</span> <span class="n">Axes</span>
<span class="n">Master</span><span class="p">.</span><span class="n">bGantryAxis</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">;</span>
<span class="n">Slave</span><span class="p">.</span><span class="n">bGantryAxis</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">;</span>

<span class="n">Master</span><span class="p">.</span><span class="n">nGantryTol</span> <span class="o">:=</span> <span class="n">nGantryTol</span><span class="p">;</span>
<span class="n">Slave</span><span class="p">.</span><span class="n">nGantryTol</span> <span class="o">:=</span> <span class="n">Master</span><span class="p">.</span><span class="n">nGantryTol</span><span class="p">;</span>

<span class="o">//</span> <span class="n">Activate</span> <span class="n">Gantry</span> <span class="n">Virtual</span> <span class="n">Limit</span> <span class="n">Switch</span>
<span class="n">gantry_diff_limit</span><span class="p">(</span><span class="n">Penc</span><span class="o">:=</span><span class="n">MasterEnc</span><span class="p">,</span> <span class="n">SEnc</span><span class="o">:=</span><span class="n">SlaveEnc</span><span class="p">,</span> <span class="n">GantDiffTol</span><span class="o">:=</span><span class="n">Master</span><span class="p">.</span><span class="n">nGantryTol</span><span class="p">,</span>
				  <span class="n">PLimFwd</span><span class="o">=&gt;</span><span class="n">Master</span><span class="p">.</span><span class="n">bGantryForwardEnable</span><span class="p">,</span> <span class="n">PLimBwd</span><span class="o">=&gt;</span><span class="n">Master</span><span class="p">.</span><span class="n">bGantryBackwardEnable</span><span class="p">,</span>
				  <span class="n">SLimFwd</span><span class="o">=&gt;</span><span class="n">Slave</span><span class="p">.</span><span class="n">bGantryForwardEnable</span><span class="p">,</span> <span class="n">SLimBwd</span><span class="o">=&gt;</span><span class="n">Slave</span><span class="p">.</span><span class="n">bGantryBackwardEnable</span><span class="p">);</span>

<span class="o">//</span> <span class="n">Coupling</span> <span class="n">Status</span> <span class="kt">Bit</span>
<span class="n">bGantryAlreadyCoupled</span> <span class="o">:=</span> <span class="n">Master</span><span class="p">.</span><span class="n">Axis</span><span class="p">.</span><span class="n">NcToPlc</span><span class="p">.</span><span class="n">CoupleState</span><span class="o">=</span><span class="mi">1</span> <span class="k">AND</span> <span class="n">Slave</span><span class="p">.</span><span class="n">Axis</span><span class="p">.</span><span class="n">NcToPlc</span><span class="p">.</span><span class="n">CoupleState</span><span class="o">=</span><span class="mi">3</span><span class="p">;</span>

<span class="n">fbSetEnables</span><span class="p">(</span><span class="n">stMotionStage</span><span class="o">:=</span><span class="n">Master</span><span class="p">);</span>
<span class="n">fbSetEnables</span><span class="p">(</span><span class="n">stMotionStage</span><span class="o">:=</span><span class="n">Slave</span><span class="p">);</span>

<span class="k">IF</span> <span class="n">bGantryAlreadyCoupled</span> <span class="k">THEN</span>
	<span class="n">Master</span><span class="p">.</span><span class="n">bGantryForwardEnable</span> <span class="o">:=</span> <span class="n">Master</span><span class="p">.</span><span class="n">bGantryForwardEnable</span> <span class="k">AND</span> <span class="n">Slave</span><span class="p">.</span><span class="n">bAllForwardEnable</span><span class="p">;</span>
	<span class="n">Slave</span><span class="p">.</span><span class="n">bGantryForwardEnable</span> <span class="o">:=</span> <span class="n">Master</span><span class="p">.</span><span class="n">bAllForwardEnable</span> <span class="k">AND</span> <span class="n">Slave</span><span class="p">.</span><span class="n">bGantryForwardEnable</span><span class="p">;</span>
	
	<span class="n">Master</span><span class="p">.</span><span class="n">bGantryBackwardEnable</span> <span class="o">:=</span> <span class="n">Master</span><span class="p">.</span><span class="n">bGantryBackwardEnable</span> <span class="k">AND</span> <span class="n">Slave</span><span class="p">.</span><span class="n">bAllBackwardEnable</span><span class="p">;</span>
	<span class="n">Slave</span><span class="p">.</span><span class="n">bGantryBackwardEnable</span> <span class="o">:=</span> <span class="n">Master</span><span class="p">.</span><span class="n">bAllBackwardEnable</span> <span class="k">AND</span> <span class="n">Slave</span><span class="p">.</span><span class="n">bGantryBackwardEnable</span><span class="p">;</span>
<span class="n">END_IF</span>


<span class="o">//</span> <span class="n">Coupling</span> <span class="n">states</span>
<span class="o">//</span> <span class="n">Auto</span><span class="o">-</span><span class="n">coupling</span> <span class="n">at</span> <span class="n">init</span> <span class="k">and</span> <span class="n">auto</span><span class="o">-</span><span class="n">reset</span> <span class="k">of</span> <span class="n">coupling</span> <span class="kt">boolean</span>
<span class="n">bExecuteCouple</span> <span class="n">S</span><span class="o">=</span> <span class="k">NOT</span> <span class="n">bInitComplete</span><span class="p">;</span>

<span class="n">bExecuteCouple</span> <span class="n">R</span><span class="o">=</span> <span class="n">couple</span><span class="p">.</span><span class="n">Busy</span> <span class="k">OR</span> <span class="n">bGantryAlreadyCoupled</span><span class="p">;</span>
<span class="n">couple</span><span class="p">(</span><span class="n">Master</span><span class="o">:=</span><span class="n">Master</span><span class="p">.</span><span class="n">Axis</span><span class="p">,</span> <span class="n">Slave</span><span class="o">:=</span><span class="n">Slave</span><span class="p">.</span><span class="n">Axis</span><span class="p">,</span> <span class="n">Execute</span><span class="o">:=</span><span class="n">bExecuteCouple</span><span class="p">);</span>

<span class="n">bInitComplete</span> <span class="n">S</span><span class="o">=</span> <span class="n">bGantryAlreadyCoupled</span><span class="p">;</span>

<span class="o">//</span> <span class="n">Decoupling</span> <span class="k">with</span> <span class="n">auto</span><span class="o">-</span><span class="n">reset</span> <span class="k">of</span> <span class="n">coupling</span> <span class="kt">boolean</span>
<span class="n">bExecuteDecouple</span> <span class="n">R</span><span class="o">=</span> <span class="n">decouple</span><span class="p">.</span><span class="n">Busy</span> <span class="k">OR</span> <span class="k">NOT</span> <span class="n">bGantryAlreadyCoupled</span><span class="p">;</span>
<span class="n">decouple</span><span class="p">(</span><span class="n">Slave</span><span class="o">:=</span><span class="n">Slave</span><span class="p">.</span><span class="n">Axis</span><span class="p">,</span> <span class="n">Execute</span><span class="o">:=</span><span class="n">bExecuteDecouple</span><span class="p">);</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="pous-motion-gantry-fb-gantrydiffvirtuallimitswitch-tcpou-tcplcobject">
<h2>POUs/Motion/Gantry/FB_GantryDiffVirtualLimitSwitch.TcPOU (TcPlcObject)<a class="headerlink" href="#pous-motion-gantry-fb-gantrydiffvirtuallimitswitch-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="section" id="fb-gantrydiffvirtuallimitswitch-declaration">
<h3>FB_GantryDiffVirtualLimitSwitch: Declaration<a class="headerlink" href="#fb-gantrydiffvirtuallimitswitch-declaration" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="n">FUNCTION_BLOCK</span> <span class="n">FB_GantryDiffVirtualLimitSwitch</span>
<span class="n">VAR_INPUT</span>
	<span class="n">PEnc</span><span class="o">:</span> <span class="n">ST_RenishawAbsEnc</span><span class="p">;</span> <span class="o">//</span> <span class="n">Primary</span> <span class="n">axis</span> <span class="n">encoder</span> <span class="p">(</span><span class="n">usually</span> <span class="n">the</span> <span class="n">upstream</span> <span class="n">one</span><span class="p">)</span>
	<span class="n">SEnc</span><span class="o">:</span> <span class="n">ST_RenishawAbsEnc</span><span class="p">;</span> <span class="o">//</span> <span class="n">Secondary</span> <span class="n">axis</span> <span class="n">encoder</span> <span class="p">(</span><span class="n">couples</span> <span class="k">to</span> <span class="n">the</span> <span class="n">primary</span><span class="p">)</span>
	
	<span class="n">GantDiffTol</span><span class="o">:</span> <span class="n">LINT</span><span class="p">;</span>		<span class="o">//</span> <span class="n">Gantry</span> <span class="n">differenace</span> <span class="n">tolerance</span> <span class="k">in</span> <span class="n">encoder</span> <span class="n">counts</span>
<span class="n">END_VAR</span>
<span class="n">VAR_OUTPUT</span>
	<span class="n">PLimFwd</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span> <span class="o">//</span> <span class="n">Primary</span> <span class="n">axis</span> <span class="n">forward</span> <span class="n">direction</span> <span class="n">enable</span>
	<span class="n">PLimBwd</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span> <span class="o">//</span> <span class="n">Primary</span> <span class="n">axis</span> <span class="n">reverse</span> <span class="n">direction</span> <span class="n">enable</span>
	<span class="n">SLimFwd</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span> <span class="o">//</span> <span class="n">Secondary</span> <span class="n">axis</span> <span class="n">forward</span> <span class="n">direction</span> <span class="n">enable</span>
	<span class="n">SLimBwd</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span> <span class="o">//</span> <span class="n">Secondary</span> <span class="n">axis</span> <span class="n">reverse</span> <span class="n">direction</span> <span class="n">enable</span>
<span class="n">END_VAR</span>
<span class="n">VAR</span>
	<span class="n">GantryDiff</span><span class="o">:</span> <span class="n">LINT</span><span class="p">;</span>
<span class="n">END_VAR</span>
</pre></div>
</div>
</div>
<div class="section" id="fb-gantrydiffvirtuallimitswitch-st">
<h3>FB_GantryDiffVirtualLimitSwitch: ST<a class="headerlink" href="#fb-gantrydiffvirtuallimitswitch-st" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="o">*</span> <span class="n">Gantry</span> <span class="n">Difference</span> <span class="n">Virtual</span> <span class="n">Limit</span> <span class="n">Switch</span>
<span class="n">A</span><span class="p">.</span> <span class="n">Wallace</span> <span class="mi">2017</span><span class="o">-</span><span class="mi">2</span><span class="o">-</span><span class="mi">15</span>

<span class="n">Determines</span> <span class="n">which</span> <span class="n">direction</span> <span class="k">is</span> <span class="n">disabled</span> <span class="n">due</span> <span class="k">to</span> <span class="n">it</span> <span class="n">increasing</span> <span class="n">the</span> <span class="n">gantry</span> <span class="n">difference</span><span class="p">.</span>
<span class="n">Refer</span> <span class="k">to</span> <span class="n">the</span> <span class="n">ESD</span> <span class="k">for</span> <span class="n">actual</span> <span class="n">conventions</span><span class="p">.</span>

<span class="n">A</span> <span class="kt">positive</span> <span class="n">gantry</span> <span class="n">error</span> <span class="n">refers</span> <span class="k">to</span> <span class="n">a</span> <span class="n">CCW</span> <span class="n">clocked</span> <span class="n">assembly</span><span class="o">:</span>
<span class="n">eg</span><span class="p">.</span> <span class="k">for</span> <span class="n">X</span>
<span class="n">X1</span> <span class="n">upstream</span><span class="p">,</span> <span class="n">X2</span> <span class="n">downstream</span><span class="p">.</span> <span class="n">Primary</span> <span class="n">axis</span> <span class="k">is</span> <span class="n">always</span> <span class="n">upstream</span><span class="p">.</span>
<span class="n">Gantry</span> <span class="n">difference</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">when</span>
<span class="n">X2</span><span class="o">&gt;</span><span class="n">X1</span>
<span class="n">Therefore</span>
<span class="n">X2</span> <span class="kt">positive</span> <span class="n">direction</span> <span class="n">disabled</span>
<span class="n">X1</span> <span class="n">negative</span> <span class="n">direction</span> <span class="n">disabled</span>

<span class="n">Call</span> <span class="n">before</span> <span class="n">FB_MotionStage</span> <span class="n">fb</span> <span class="n">calls</span> <span class="k">for</span> <span class="n">the</span> <span class="n">gantry</span> <span class="n">axes</span><span class="p">.</span>
<span class="o">*</span><span class="p">)</span>

<span class="n">GantryDiff</span> <span class="o">:=</span> <span class="p">(</span> <span class="n">ULINT_TO_LINT</span><span class="p">(</span><span class="n">PEnc</span><span class="p">.</span><span class="n">Count</span><span class="p">)</span> <span class="o">-</span> <span class="n">ULINT_TO_LINT</span><span class="p">(</span><span class="n">PEnc</span><span class="p">.</span><span class="n">Ref</span><span class="p">)</span> <span class="p">)</span> <span class="o">-</span> <span class="p">(</span> <span class="n">ULINT_TO_LINT</span><span class="p">(</span><span class="n">SEnc</span><span class="p">.</span><span class="n">Count</span><span class="p">)</span> <span class="o">-</span> <span class="n">ULINT_TO_LINT</span><span class="p">(</span><span class="n">SEnc</span><span class="p">.</span><span class="n">Ref</span><span class="p">)</span> <span class="p">);</span>

<span class="k">IF</span> <span class="k">ABS</span><span class="p">(</span><span class="n">GantryDiff</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">GantDiffTol</span> <span class="k">THEN</span>
	<span class="k">IF</span> <span class="n">GantryDiff</span> <span class="o">&lt;</span> <span class="mi">0</span>  <span class="k">THEN</span>
		<span class="n">PLimBwd</span> <span class="o">:=</span> <span class="n">FALSE</span><span class="p">;</span>
		<span class="n">SLimFwd</span> <span class="o">:=</span> <span class="n">FALSE</span><span class="p">;</span>
	<span class="k">ELSE</span>	
		<span class="n">PLimBwd</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">;</span>
		<span class="n">SLimFwd</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">;</span>
	<span class="n">END_IF</span>
	<span class="k">IF</span> <span class="n">GantryDiff</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">THEN</span>
		<span class="n">PLimFwd</span> <span class="o">:=</span> <span class="n">FALSE</span><span class="p">;</span>
		<span class="n">SLimBwd</span> <span class="o">:=</span> <span class="n">FALSE</span><span class="p">;</span>
	<span class="k">ELSE</span>
		<span class="n">PLimFwd</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">;</span>
		<span class="n">SLimBwd</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">;</span>
	<span class="n">END_IF</span>
<span class="k">ELSE</span>
	<span class="o">//</span><span class="k">If</span> <span class="n">there</span> <span class="k">is</span> <span class="n">no</span> <span class="n">fault</span><span class="p">,</span> <span class="k">all</span> <span class="n">directions</span> <span class="n">are</span> <span class="n">enabled</span>
	<span class="n">PLimFwd</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">;</span>
	<span class="n">PLimBwd</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">;</span>
	<span class="n">SLimFwd</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">;</span>
	<span class="n">SLimBwd</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">;</span>
<span class="n">END_IF</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="pous-motortesting-fb-microstepcounttest-tcpou-tcplcobject">
<h2>POUs/MotorTesting/FB_MicroStepCountTest.TcPOU (TcPlcObject)<a class="headerlink" href="#pous-motortesting-fb-microstepcounttest-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="section" id="fb-microstepcounttest-declaration">
<h3>FB_MicroStepCountTest: Declaration<a class="headerlink" href="#fb-microstepcounttest-declaration" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="n">FUNCTION_BLOCK</span> <span class="n">FB_MicroStepCountTest</span>
<span class="n">VAR_INPUT</span>
	<span class="n">bExecute</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">fStepSize</span><span class="o">:</span> <span class="n">LREAL</span><span class="p">;</span>
	<span class="n">nSteps</span><span class="o">:</span> <span class="n">UINT</span><span class="p">;</span>
	<span class="n">fMicroStep</span><span class="o">:</span> <span class="n">LREAL</span><span class="p">;</span>
	<span class="n">fVelocity</span><span class="o">:</span> <span class="n">LREAL</span><span class="p">;</span>
	<span class="n">tSettleTime</span><span class="o">:</span> <span class="kt">TIME</span><span class="p">;</span>
<span class="n">END_VAR</span>
<span class="n">VAR_IN_OUT</span>
	<span class="n">Axis</span><span class="o">:</span> <span class="n">AXIS_REF</span><span class="p">;</span>
<span class="n">END_VAR</span>
<span class="n">VAR_OUTPUT</span>
	<span class="n">nStepsCounted</span><span class="o">:</span> <span class="n">UINT</span><span class="p">;</span>
	<span class="n">nTheorySteps</span><span class="o">:</span> <span class="n">UINT</span><span class="p">;</span>
	<span class="n">fPercent</span><span class="o">:</span> <span class="n">LREAL</span><span class="p">;</span>
	<span class="n">fEstMicroSize</span><span class="o">:</span> <span class="n">LREAL</span><span class="p">;</span>
<span class="n">END_VAR</span>
<span class="n">VAR</span>
	<span class="n">fbMoveRel</span><span class="o">:</span> <span class="n">MC_MoveRelative</span><span class="p">;</span>
	<span class="n">fbSettleTimer</span><span class="o">:</span> <span class="n">TON</span><span class="p">;</span>
	<span class="n">bDoMove</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">nStepCounter</span><span class="o">:</span> <span class="n">UINT</span><span class="p">;</span>
	
	<span class="n">arrPosBuffer</span><span class="o">:</span> <span class="k">ARRAY</span> <span class="p">[</span><span class="mi">0</span><span class="p">..</span><span class="mi">99</span><span class="p">]</span> <span class="k">OF</span> <span class="n">LREAL</span><span class="p">;</span>
	<span class="n">fAvgPos</span><span class="o">:</span> <span class="n">LREAL</span><span class="p">;</span>
	<span class="n">nArrIndex</span><span class="o">:</span> <span class="n">UINT</span><span class="p">;</span>
	<span class="n">nLoopIndex</span><span class="o">:</span> <span class="n">UINT</span><span class="p">;</span>
	
	<span class="n">fStartPos</span><span class="o">:</span> <span class="n">LREAL</span><span class="p">;</span>
	<span class="n">fPrevPos</span><span class="o">:</span> <span class="n">LREAL</span><span class="p">;</span>
	<span class="n">fStepChange</span><span class="o">:</span> <span class="n">LREAL</span><span class="p">;</span>
	
	<span class="n">fStepSum</span><span class="o">:</span> <span class="n">LREAL</span><span class="p">;</span>
<span class="n">END_VAR</span>
</pre></div>
</div>
</div>
<div class="section" id="fb-microstepcounttest-st">
<h3>FB_MicroStepCountTest: ST<a class="headerlink" href="#fb-microstepcounttest-st" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">Motion</span> <span class="n">FB</span>
<span class="n">fbMoveRel</span><span class="p">(</span><span class="n">Axis</span><span class="o">:=</span><span class="n">Axis</span><span class="p">,</span>
	<span class="n">Execute</span><span class="o">:=</span><span class="n">bDoMove</span><span class="p">,</span>
	<span class="n">Distance</span><span class="o">:=</span><span class="n">fStepSize</span><span class="p">,</span>
	<span class="n">Velocity</span><span class="o">:=</span><span class="n">fVelocity</span><span class="p">);</span>
	
<span class="o">//</span> <span class="n">Settle</span> <span class="kt">time</span>
<span class="n">fbSettleTimer</span><span class="p">(</span><span class="k">IN</span><span class="o">:=</span><span class="n">fbMoveRel</span><span class="p">.</span><span class="n">Done</span><span class="p">,</span>
	<span class="n">PT</span><span class="o">:=</span><span class="n">tSettleTime</span><span class="p">);</span>
	
<span class="o">//</span> <span class="n">Re</span><span class="o">-</span><span class="n">enable</span> <span class="n">the</span> <span class="n">move</span> <span class="k">for</span> <span class="k">next</span> <span class="n">cycle</span>
<span class="n">bDoMove</span> <span class="o">:=</span> <span class="n">bExecute</span> <span class="k">AND</span> <span class="n">nStepCounter</span> <span class="o">&lt;</span> <span class="n">nSteps</span><span class="p">;</span>

<span class="o">//</span> <span class="n">Calculate</span> <span class="n">rolling</span> <span class="n">average</span>
<span class="n">arrPosBuffer</span><span class="p">[</span><span class="n">nArrIndex</span><span class="p">]</span> <span class="o">:=</span> <span class="n">Axis</span><span class="p">.</span><span class="n">NcToPlc</span><span class="p">.</span><span class="n">ActPos</span><span class="p">;</span>
<span class="n">fAvgPos</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span>
<span class="k">FOR</span> <span class="n">nLoopIndex</span> <span class="o">:=</span> <span class="mi">0</span> <span class="k">TO</span> <span class="mi">99</span> <span class="n">DO</span>
	<span class="n">fAvgPos</span> <span class="o">:=</span> <span class="n">fAvgPos</span> <span class="o">+</span> <span class="n">arrPosBuffer</span><span class="p">[</span><span class="n">nLoopIndex</span><span class="p">];</span>
<span class="n">END_FOR</span><span class="p">;</span>
<span class="n">fAvgPos</span> <span class="o">:=</span> <span class="n">fAvgPos</span> <span class="o">/</span> <span class="mi">100</span><span class="p">;</span>
<span class="n">nArrIndex</span> <span class="o">:=</span> <span class="p">(</span><span class="n">nArrIndex</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="k">MOD</span> <span class="mi">100</span><span class="p">;</span>

<span class="o">//</span> <span class="n">Initialize</span> <span class="n">starting</span> <span class="n">variables</span>
<span class="k">IF</span> <span class="k">NOT</span> <span class="n">bExecute</span> <span class="k">THEN</span>
	<span class="n">fStartPos</span> <span class="o">:=</span> <span class="n">fAvgPos</span><span class="p">;</span>
	<span class="n">fPrevPos</span> <span class="o">:=</span> <span class="n">fAvgPos</span><span class="p">;</span>
<span class="n">END_IF</span>

<span class="o">//</span> <span class="n">Check</span> <span class="n">results</span>
<span class="k">IF</span> <span class="n">fbSettleTimer</span><span class="p">.</span><span class="n">Q</span> <span class="k">THEN</span>
	<span class="n">fStepChange</span> <span class="o">:=</span> <span class="n">fAvgPos</span> <span class="o">-</span> <span class="n">fPrevPos</span><span class="p">;</span>
	<span class="o">//</span> <span class="n">Invert</span> <span class="n">fStepChange</span> <span class="k">if</span> <span class="n">we</span> <span class="n">were</span> <span class="n">doing</span> <span class="n">negative</span> <span class="n">steps</span>
	<span class="k">IF</span> <span class="n">fStepSize</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="k">THEN</span>
		<span class="n">fStepChange</span> <span class="o">:=</span> <span class="n">fStepChange</span> <span class="o">*</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">END_IF</span>
	<span class="k">IF</span> <span class="n">fStepChange</span> <span class="o">&gt;</span> <span class="n">fMicroStep</span> <span class="o">*</span> <span class="mi">0</span><span class="p">.</span><span class="mi">5</span> <span class="k">THEN</span>
		<span class="n">nStepsCounted</span> <span class="o">:=</span> <span class="n">nStepsCounted</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
		<span class="n">fStepSum</span> <span class="o">:=</span> <span class="n">fStepSum</span> <span class="o">+</span> <span class="n">fStepChange</span><span class="p">;</span>
		<span class="n">fEstMicroSize</span> <span class="o">:=</span> <span class="n">fStepSum</span> <span class="o">/</span> <span class="n">nStepsCounted</span><span class="p">;</span>
	<span class="n">END_IF</span>
	<span class="n">nTheorySteps</span> <span class="o">:=</span> <span class="n">DINT_TO_UINT</span><span class="p">(</span><span class="n">TRUNC</span><span class="p">(</span><span class="k">ABS</span><span class="p">((</span><span class="n">fStartPos</span> <span class="o">-</span> <span class="n">fAvgPos</span><span class="p">)</span> <span class="o">/</span> <span class="n">fMicroStep</span><span class="p">)));</span>
	<span class="k">IF</span> <span class="n">nTheorySteps</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">THEN</span>
		<span class="n">fPercent</span> <span class="o">:=</span> <span class="mi">100</span> <span class="o">*</span> <span class="n">nStepsCounted</span> <span class="o">/</span> <span class="n">nTheorySteps</span><span class="p">;</span>
	<span class="n">END_IF</span>
	<span class="n">fPrevPos</span> <span class="o">:=</span> <span class="n">fAvgPos</span><span class="p">;</span>
	<span class="n">nStepCounter</span> <span class="o">:=</span> <span class="n">nStepCounter</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
	<span class="o">//</span> <span class="n">Reset</span> <span class="n">the</span> <span class="n">move</span> <span class="k">block</span>
	<span class="n">bDoMove</span> <span class="o">:=</span> <span class="n">FALSE</span><span class="p">;</span>
<span class="n">END_IF</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-duts-dut-axisstatus-v0-01-tcdut-tcplcobject">
<h2>tc_mca_std_lib/DUTs/DUT_AxisStatus_v0_01.TcDUT (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-duts-dut-axisstatus-v0-01-tcdut-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="section" id="dut-axisstatus-v0-01-declaration">
<h3>DUT_AxisStatus_v0_01: Declaration<a class="headerlink" href="#dut-axisstatus-v0-01-declaration" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="k">TYPE</span> <span class="n">DUT_AxisStatus_v0_01</span> <span class="o">:</span>
<span class="n">STRUCT</span>
	<span class="n">bEnable</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bReset</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bExecute</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">nCommand</span><span class="o">:</span> <span class="n">UINT</span><span class="p">;</span>
	<span class="n">nCmdData</span><span class="o">:</span> <span class="n">UINT</span><span class="p">;</span>
	<span class="n">fVelocity</span><span class="o">:</span> <span class="n">LREAL</span><span class="p">;</span>
	<span class="n">fPosition</span><span class="o">:</span> <span class="n">LREAL</span><span class="p">;</span>
	<span class="n">fAcceleration</span><span class="o">:</span> <span class="n">LREAL</span><span class="p">;</span>
	<span class="n">fDeceleration</span><span class="o">:</span> <span class="n">LREAL</span><span class="p">;</span>
	<span class="n">bJogFwd</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bJogBwd</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bLimitFwd</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bLimitBwd</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">fOverride</span><span class="o">:</span> <span class="n">LREAL</span> <span class="o">:=</span> <span class="mi">100</span><span class="p">;</span>
	<span class="n">bHomeSensor</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bEnabled</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bError</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">nErrorId</span><span class="o">:</span> <span class="n">UDINT</span><span class="p">;</span>
	<span class="n">fActVelocity</span><span class="o">:</span> <span class="n">LREAL</span><span class="p">;</span>
	<span class="n">fActPosition</span><span class="o">:</span> <span class="n">LREAL</span><span class="p">;</span>
	<span class="n">fActDiff</span><span class="o">:</span> <span class="n">LREAL</span><span class="p">;</span>
	<span class="n">bHomed</span><span class="o">:</span><span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bBusy</span><span class="o">:</span><span class="n">BOOL</span><span class="p">;</span>
<span class="n">END_STRUCT</span>
<span class="n">END_TYPE</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-gvls-gvl-tcgvl-tcplcobject">
<h2>tc_mca_std_lib/GVLs/GVL.TcGVL (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-gvls-gvl-tcgvl-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="section" id="gvl-declaration">
<h3>GVL: Declaration<a class="headerlink" href="#gvl-declaration" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="n">VAR_GLOBAL</span>
	<span class="n">nHomingError</span><span class="o">:</span><span class="n">UDINT</span><span class="o">:=</span><span class="mi">16#14D00</span><span class="p">;</span>
<span class="n">END_VAR</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-changeconfig-fb-readfloatparameter-tcpou-tcplcobject">
<h2>tc_mca_std_lib/POUs/ChangeConfig/FB_ReadFloatParameter.TcPOU (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-changeconfig-fb-readfloatparameter-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="section" id="fb-readfloatparameter-declaration">
<h3>FB_ReadFloatParameter: Declaration<a class="headerlink" href="#fb-readfloatparameter-declaration" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="n">FUNCTION_BLOCK</span> <span class="n">FB_ReadFloatParameter</span>
<span class="n">VAR_INPUT</span>
	<span class="n">bExecute</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="o">///</span><span class="mi">16#4000</span><span class="o">=</span><span class="n">Axisdata</span><span class="p">,</span> <span class="mi">16#5000</span><span class="o">=</span><span class="n">Encoderdata</span><span class="p">,</span> <span class="mi">16#6000</span><span class="o">=</span><span class="n">Controldata</span><span class="p">,</span> <span class="mi">16#7000</span><span class="o">=</span><span class="n">Drivedata</span>
	<span class="n">nDeviceGroup</span><span class="o">:</span> <span class="n">UDINT</span><span class="p">;</span>
	<span class="n">nIndexOffset</span><span class="o">:</span> <span class="n">UDINT</span><span class="p">;</span>
<span class="n">END_VAR</span>
<span class="n">VAR_OUTPUT</span>
	<span class="n">nData</span><span class="o">:</span> <span class="n">LREAL</span><span class="p">;</span>
	<span class="n">bBusy</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bDone</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bError</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">nErrorId</span><span class="o">:</span> <span class="n">UDINT</span><span class="p">;</span>
<span class="n">END_VAR</span>
<span class="n">VAR_IN_OUT</span>
	<span class="n">Axis</span><span class="o">:</span> <span class="n">AXIS_REF</span><span class="p">;</span>
<span class="n">END_VAR</span>
<span class="n">VAR</span>
	<span class="n">nState</span><span class="o">:</span> <span class="n">UINT</span><span class="p">;</span>
	<span class="n">fbADSREAD</span><span class="o">:</span> <span class="n">ADSREAD</span><span class="p">;</span>
<span class="n">END_VAR</span>
</pre></div>
</div>
</div>
<div class="section" id="fb-readfloatparameter-st">
<h3>FB_ReadFloatParameter: ST<a class="headerlink" href="#fb-readfloatparameter-st" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="o">*</span><span class="n">Sequence</span> <span class="k">to</span> <span class="n">read</span> <span class="n">parameter</span> <span class="k">in</span> <span class="n">Nc</span><span class="o">*</span><span class="p">)</span>
<span class="k">CASE</span> <span class="n">nState</span> <span class="k">OF</span>
<span class="mi">0</span><span class="o">:</span>  <span class="p">(</span><span class="o">*</span><span class="n">Start</span> <span class="n">sequence</span><span class="p">.</span> <span class="k">Wait</span> <span class="k">until</span> <span class="n">bExecute</span> <span class="k">is</span> <span class="n">TRUE</span><span class="o">*</span><span class="p">)</span>
	<span class="k">IF</span> <span class="n">bExecute</span> <span class="k">THEN</span>
		<span class="n">bBusy</span><span class="o">:=</span><span class="n">TRUE</span><span class="p">;</span>
		<span class="n">bError</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
		<span class="n">nErrorId</span><span class="o">:=</span><span class="mi">0</span><span class="p">;</span>
		<span class="n">nState</span><span class="o">:=</span><span class="mi">10</span><span class="p">;</span>
	<span class="n">END_IF</span>

<span class="mi">10</span><span class="o">:</span> <span class="p">(</span><span class="o">*</span><span class="n">Read</span> <span class="n">parameter</span> <span class="k">in</span> <span class="n">Nc</span><span class="o">*</span><span class="p">)</span>
	<span class="n">fbADSREAD</span><span class="p">(</span>
		<span class="k">PORT</span><span class="o">:=</span><span class="mi">500</span><span class="p">,</span>
		<span class="n">IDXGRP</span><span class="o">:=</span><span class="n">nDeviceGroup</span><span class="o">+</span><span class="n">Axis</span><span class="p">.</span><span class="n">NcToPlc</span><span class="p">.</span><span class="n">AxisId</span><span class="p">,</span>
		<span class="n">IDXOFFS</span><span class="o">:=</span><span class="n">nIndexOffset</span><span class="p">,</span>
		<span class="n">LEN</span><span class="o">:=</span><span class="n">SIZEOF</span><span class="p">(</span><span class="n">nData</span><span class="p">),</span>
		<span class="n">DESTADDR</span><span class="o">:=</span><span class="n">ADR</span><span class="p">(</span><span class="n">nData</span><span class="p">),</span>
		<span class="n">READ</span><span class="o">:=</span><span class="n">TRUE</span><span class="p">);</span>

	<span class="p">(</span><span class="o">*</span><span class="k">Wait</span> <span class="k">until</span> <span class="n">it</span><span class="na">&#39;s</span> <span class="n">done</span> <span class="k">or</span> <span class="k">if</span> <span class="n">an</span> <span class="n">error</span> <span class="n">occurs</span><span class="o">*</span><span class="p">)</span>
	<span class="k">IF</span> <span class="k">NOT</span> <span class="n">fbADSREAD</span><span class="p">.</span><span class="n">ERR</span> <span class="k">THEN</span>
		<span class="k">IF</span> <span class="k">NOT</span> <span class="n">fbADSREAD</span><span class="p">.</span><span class="n">BUSY</span> <span class="k">THEN</span>
			<span class="n">fbADSREAD</span><span class="p">(</span><span class="n">READ</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">);</span>
			<span class="n">nState</span><span class="o">:=</span><span class="mi">20</span><span class="p">;</span>
		<span class="n">END_IF</span>
	<span class="k">ELSE</span>
		<span class="n">nErrorId</span><span class="o">:=</span><span class="n">fbADSREAD</span><span class="p">.</span><span class="n">ERRID</span><span class="p">;</span>
		<span class="n">nState</span><span class="o">:=</span><span class="mi">999</span><span class="p">;</span>
	<span class="n">END_IF</span>

<span class="mi">20</span><span class="o">:</span> <span class="p">(</span><span class="o">*</span><span class="n">Sequense</span> <span class="k">is</span> <span class="n">done</span><span class="p">.</span> <span class="n">Waits</span> <span class="k">until</span> <span class="n">bExecute</span> <span class="k">is</span> <span class="n">FALSE</span><span class="o">*</span><span class="p">)</span>
	<span class="n">bBusy</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
	<span class="n">bDone</span><span class="o">:=</span><span class="n">TRUE</span><span class="p">;</span>
	<span class="k">IF</span> <span class="k">NOT</span> <span class="n">bExecute</span> <span class="k">THEN</span>
		<span class="n">bDone</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
		<span class="n">nState</span><span class="o">:=</span><span class="mi">0</span><span class="p">;</span>
	<span class="n">END_IF</span>

<span class="mi">999</span><span class="o">:</span> <span class="p">(</span><span class="o">*</span><span class="n">Error</span> <span class="k">in</span> <span class="n">sequence</span><span class="o">*</span><span class="p">)</span>
	<span class="n">bError</span><span class="o">:=</span><span class="n">TRUE</span><span class="p">;</span>
	<span class="n">bBusy</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
	<span class="n">bDone</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
	<span class="n">fbADSREAD</span><span class="p">(</span><span class="n">READ</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">);</span>
	<span class="k">IF</span> <span class="k">NOT</span> <span class="n">bExecute</span> <span class="k">THEN</span>
		<span class="n">nState</span><span class="o">:=</span><span class="mi">0</span><span class="p">;</span>
	<span class="n">END_IF</span>

<span class="n">END_CASE</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-changeconfig-fb-readparameterinnc-v1-00-tcpou-tcplcobject">
<h2>tc_mca_std_lib/POUs/ChangeConfig/FB_ReadParameterInNc_v1_00.TcPOU (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-changeconfig-fb-readparameterinnc-v1-00-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="section" id="fb-readparameterinnc-v1-00-declaration">
<h3>FB_ReadParameterInNc_v1_00: Declaration<a class="headerlink" href="#fb-readparameterinnc-v1-00-declaration" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span>///#########################################################
///Function block to read parameter in Nc.
///
///	Library:		
///	Tc2_MC2.lib
/// Tc2_System.lib
///
///	Global Variables:
///	
///	Data types:
///	
///	External functions:
///
///	History:
///	2014-02-05	v1.00	NB	Release code.
///
///	Known bugs:
///
///
///
///###########################################################
FUNCTION_BLOCK FB_ReadParameterInNc_v1_00
VAR_INPUT
	bExecute: BOOL;
	///16#4000=Axisdata, 16#5000=Encoderdata, 16#6000=Controldata, 16#7000=Drivedata
	nDeviceGroup: UDINT;
	nIndexOffset: UDINT;
END_VAR
VAR_OUTPUT
	nData: DWORD;
	bBusy: BOOL;
	bDone: BOOL;
	bError: BOOL;
	nErrorId: UDINT;
END_VAR
VAR_IN_OUT
	Axis: AXIS_REF;
END_VAR
VAR
	nState: UINT;
	fbADSREAD: ADSREAD;
END_VAR
</pre></div>
</div>
</div>
<div class="section" id="fb-readparameterinnc-v1-00-st">
<h3>FB_ReadParameterInNc_v1_00: ST<a class="headerlink" href="#fb-readparameterinnc-v1-00-st" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="o">*</span><span class="n">Sequence</span> <span class="k">to</span> <span class="n">read</span> <span class="n">parameter</span> <span class="k">in</span> <span class="n">Nc</span><span class="o">*</span><span class="p">)</span>
<span class="k">CASE</span> <span class="n">nState</span> <span class="k">OF</span>
<span class="mi">0</span><span class="o">:</span>  <span class="p">(</span><span class="o">*</span><span class="n">Start</span> <span class="n">sequence</span><span class="p">.</span> <span class="k">Wait</span> <span class="k">until</span> <span class="n">bExecute</span> <span class="k">is</span> <span class="n">TRUE</span><span class="o">*</span><span class="p">)</span>
	<span class="k">IF</span> <span class="n">bExecute</span> <span class="k">THEN</span>
		<span class="n">bBusy</span><span class="o">:=</span><span class="n">TRUE</span><span class="p">;</span>
		<span class="n">bError</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
		<span class="n">nErrorId</span><span class="o">:=</span><span class="mi">0</span><span class="p">;</span>
		<span class="n">nState</span><span class="o">:=</span><span class="mi">10</span><span class="p">;</span>
	<span class="n">END_IF</span>

<span class="mi">10</span><span class="o">:</span> <span class="p">(</span><span class="o">*</span><span class="n">Read</span> <span class="n">parameter</span> <span class="k">in</span> <span class="n">Nc</span><span class="o">*</span><span class="p">)</span>
	<span class="n">fbADSREAD</span><span class="p">(</span>
		<span class="k">PORT</span><span class="o">:=</span><span class="mi">500</span><span class="p">,</span>
		<span class="n">IDXGRP</span><span class="o">:=</span><span class="n">nDeviceGroup</span><span class="o">+</span><span class="n">Axis</span><span class="p">.</span><span class="n">NcToPlc</span><span class="p">.</span><span class="n">AxisId</span><span class="p">,</span>
		<span class="n">IDXOFFS</span><span class="o">:=</span><span class="n">nIndexOffset</span><span class="p">,</span>
		<span class="n">LEN</span><span class="o">:=</span><span class="n">SIZEOF</span><span class="p">(</span><span class="n">nData</span><span class="p">),</span>
		<span class="n">DESTADDR</span><span class="o">:=</span><span class="n">ADR</span><span class="p">(</span><span class="n">nData</span><span class="p">),</span>
		<span class="n">READ</span><span class="o">:=</span><span class="n">TRUE</span><span class="p">);</span>

	<span class="p">(</span><span class="o">*</span><span class="k">Wait</span> <span class="k">until</span> <span class="n">it</span><span class="na">&#39;s</span> <span class="n">done</span> <span class="k">or</span> <span class="k">if</span> <span class="n">an</span> <span class="n">error</span> <span class="n">occurs</span><span class="o">*</span><span class="p">)</span>
	<span class="k">IF</span> <span class="k">NOT</span> <span class="n">fbADSREAD</span><span class="p">.</span><span class="n">ERR</span> <span class="k">THEN</span>
		<span class="k">IF</span> <span class="k">NOT</span> <span class="n">fbADSREAD</span><span class="p">.</span><span class="n">BUSY</span> <span class="k">THEN</span>
			<span class="n">fbADSREAD</span><span class="p">(</span><span class="n">READ</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">);</span>
			<span class="n">nState</span><span class="o">:=</span><span class="mi">20</span><span class="p">;</span>
		<span class="n">END_IF</span>
	<span class="k">ELSE</span>
		<span class="n">nErrorId</span><span class="o">:=</span><span class="n">fbADSREAD</span><span class="p">.</span><span class="n">ERRID</span><span class="p">;</span>
		<span class="n">nState</span><span class="o">:=</span><span class="mi">999</span><span class="p">;</span>
	<span class="n">END_IF</span>

<span class="mi">20</span><span class="o">:</span> <span class="p">(</span><span class="o">*</span><span class="n">Sequense</span> <span class="k">is</span> <span class="n">done</span><span class="p">.</span> <span class="n">Waits</span> <span class="k">until</span> <span class="n">bExecute</span> <span class="k">is</span> <span class="n">FALSE</span><span class="o">*</span><span class="p">)</span>
	<span class="n">bBusy</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
	<span class="n">bDone</span><span class="o">:=</span><span class="n">TRUE</span><span class="p">;</span>
	<span class="k">IF</span> <span class="k">NOT</span> <span class="n">bExecute</span> <span class="k">THEN</span>
		<span class="n">bDone</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
		<span class="n">nState</span><span class="o">:=</span><span class="mi">0</span><span class="p">;</span>
	<span class="n">END_IF</span>

<span class="mi">999</span><span class="o">:</span> <span class="p">(</span><span class="o">*</span><span class="n">Error</span> <span class="k">in</span> <span class="n">sequence</span><span class="o">*</span><span class="p">)</span>
	<span class="n">bError</span><span class="o">:=</span><span class="n">TRUE</span><span class="p">;</span>
	<span class="n">bBusy</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
	<span class="n">bDone</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
	<span class="n">fbADSREAD</span><span class="p">(</span><span class="n">READ</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">);</span>
	<span class="k">IF</span> <span class="k">NOT</span> <span class="n">bExecute</span> <span class="k">THEN</span>
		<span class="n">nState</span><span class="o">:=</span><span class="mi">0</span><span class="p">;</span>
	<span class="n">END_IF</span>

<span class="n">END_CASE</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-changeconfig-fb-writefloatparameter-tcpou-tcplcobject">
<h2>tc_mca_std_lib/POUs/ChangeConfig/FB_WriteFloatParameter.TcPOU (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-changeconfig-fb-writefloatparameter-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="section" id="fb-writefloatparameter-declaration">
<h3>FB_WriteFloatParameter: Declaration<a class="headerlink" href="#fb-writefloatparameter-declaration" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span>///#########################################################
///Function block to write parameter in Nc.
///
///	Library:		
///	Tc2_MC2.lib
/// Tc2_System.lib
///
///	Global Variables:
///	
///	Data types:
///	
///	External functions:
///
///	History:
///	2014-02-05	v1.00	NB	Release code.
///
///	Known bugs:
///
///
///
///###########################################################
FUNCTION_BLOCK FB_WriteFloatParameter
VAR_INPUT
	bExecute: BOOL;
	///16#4000=Axisdata, 16#5000=Encoderdata, 16#6000=Controldata, 16#7000=Drivedata
	nDeviceGroup: UDINT;
	nIndexOffset: UDINT;
	nData: LREAL;
END_VAR
VAR_OUTPUT
	bBusy: BOOL;
	bDone: BOOL;
	bError: BOOL;
	nErrorId: UDINT;
END_VAR
VAR_IN_OUT
	Axis: AXIS_REF;
END_VAR
VAR
	nState: UINT;
	fbADSWRITE: ADSWRITE;
END_VAR
</pre></div>
</div>
</div>
<div class="section" id="fb-writefloatparameter-st">
<h3>FB_WriteFloatParameter: ST<a class="headerlink" href="#fb-writefloatparameter-st" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="o">*</span><span class="n">Sequence</span> <span class="k">to</span> <span class="n">write</span> <span class="n">parameter</span> <span class="k">in</span> <span class="n">Nc</span><span class="o">*</span><span class="p">)</span>
<span class="k">CASE</span> <span class="n">nState</span> <span class="k">OF</span>
<span class="mi">0</span><span class="o">:</span>  <span class="p">(</span><span class="o">*</span><span class="n">Start</span> <span class="n">sequence</span><span class="p">.</span> <span class="k">Wait</span> <span class="k">until</span> <span class="n">bExecute</span> <span class="k">is</span> <span class="n">TRUE</span><span class="o">*</span><span class="p">)</span>
	<span class="k">IF</span> <span class="n">bExecute</span> <span class="k">THEN</span>
		<span class="n">bBusy</span><span class="o">:=</span><span class="n">TRUE</span><span class="p">;</span>
		<span class="n">bError</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
		<span class="n">nErrorId</span><span class="o">:=</span><span class="mi">0</span><span class="p">;</span>
		<span class="n">nState</span><span class="o">:=</span><span class="mi">10</span><span class="p">;</span>
	<span class="n">END_IF</span>

<span class="mi">10</span><span class="o">:</span> <span class="p">(</span><span class="o">*</span><span class="n">Write</span> <span class="n">parameter</span> <span class="k">in</span> <span class="n">Nc</span><span class="o">*</span><span class="p">)</span>
	<span class="n">fbADSWRITE</span><span class="p">(</span>
		<span class="k">PORT</span><span class="o">:=</span><span class="mi">500</span><span class="p">,</span>
		<span class="n">IDXGRP</span><span class="o">:=</span><span class="n">nDeviceGroup</span><span class="o">+</span><span class="n">Axis</span><span class="p">.</span><span class="n">NcToPlc</span><span class="p">.</span><span class="n">AxisId</span><span class="p">,</span>
		<span class="n">IDXOFFS</span><span class="o">:=</span><span class="n">nIndexOffset</span><span class="p">,</span>
		<span class="n">LEN</span><span class="o">:=</span><span class="n">SIZEOF</span><span class="p">(</span><span class="n">nData</span><span class="p">),</span>
		<span class="n">SRCADDR</span><span class="o">:=</span><span class="n">ADR</span><span class="p">(</span><span class="n">nData</span><span class="p">),</span>
		<span class="n">WRITE</span><span class="o">:=</span><span class="n">TRUE</span><span class="p">);</span>

	<span class="p">(</span><span class="o">*</span><span class="k">Wait</span> <span class="k">until</span> <span class="n">it</span><span class="na">&#39;s</span> <span class="n">done</span> <span class="k">or</span> <span class="k">if</span> <span class="n">an</span> <span class="n">error</span> <span class="n">occurs</span><span class="o">*</span><span class="p">)</span>
	<span class="k">IF</span> <span class="k">NOT</span> <span class="n">fbADSWRITE</span><span class="p">.</span><span class="n">ERR</span> <span class="k">THEN</span>
		<span class="k">IF</span> <span class="k">NOT</span> <span class="n">fbADSWRITE</span><span class="p">.</span><span class="n">BUSY</span> <span class="k">THEN</span>
			<span class="n">fbADSWRITE</span><span class="p">(</span><span class="n">WRITE</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">);</span>
			<span class="n">nState</span><span class="o">:=</span><span class="mi">20</span><span class="p">;</span>
		<span class="n">END_IF</span>
	<span class="k">ELSE</span>
		<span class="n">nErrorId</span><span class="o">:=</span><span class="n">fbADSWRITE</span><span class="p">.</span><span class="n">ERRID</span><span class="p">;</span>
		<span class="n">nState</span><span class="o">:=</span><span class="mi">999</span><span class="p">;</span>
	<span class="n">END_IF</span>

<span class="mi">20</span><span class="o">:</span> <span class="p">(</span><span class="o">*</span><span class="n">Sequense</span> <span class="k">is</span> <span class="n">done</span><span class="p">.</span> <span class="n">Waits</span> <span class="k">until</span> <span class="n">bExecute</span> <span class="k">is</span> <span class="n">FALSE</span><span class="o">*</span><span class="p">)</span>
	<span class="n">bBusy</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
	<span class="n">bDone</span><span class="o">:=</span><span class="n">TRUE</span><span class="p">;</span>
	<span class="k">IF</span> <span class="k">NOT</span> <span class="n">bExecute</span> <span class="k">THEN</span>
		<span class="n">bDone</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
		<span class="n">nState</span><span class="o">:=</span><span class="mi">0</span><span class="p">;</span>
	<span class="n">END_IF</span>

<span class="mi">999</span><span class="o">:</span> <span class="p">(</span><span class="o">*</span><span class="n">Error</span> <span class="k">in</span> <span class="n">sequence</span><span class="o">*</span><span class="p">)</span>
	<span class="n">bError</span><span class="o">:=</span><span class="n">TRUE</span><span class="p">;</span>
	<span class="n">bBusy</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
	<span class="n">bDone</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
	<span class="n">fbADSWRITE</span><span class="p">(</span><span class="n">WRITE</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">);</span>
	<span class="k">IF</span> <span class="k">NOT</span> <span class="n">bExecute</span> <span class="k">THEN</span>
		<span class="n">nState</span><span class="o">:=</span><span class="mi">0</span><span class="p">;</span>
	<span class="n">END_IF</span>

<span class="n">END_CASE</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-changeconfig-fb-writeparameterinnc-v1-00-tcpou-tcplcobject">
<h2>tc_mca_std_lib/POUs/ChangeConfig/FB_WriteParameterInNc_v1_00.TcPOU (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-changeconfig-fb-writeparameterinnc-v1-00-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="section" id="fb-writeparameterinnc-v1-00-declaration">
<h3>FB_WriteParameterInNc_v1_00: Declaration<a class="headerlink" href="#fb-writeparameterinnc-v1-00-declaration" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span>///#########################################################
///Function block to write parameter in Nc.
///
///	Library:		
///	Tc2_MC2.lib
/// Tc2_System.lib
///
///	Global Variables:
///	
///	Data types:
///	
///	External functions:
///
///	History:
///	2014-02-05	v1.00	NB	Release code.
///
///	Known bugs:
///
///
///
///###########################################################
FUNCTION_BLOCK FB_WriteParameterInNc_v1_00
VAR_INPUT
	bExecute: BOOL;
	///16#4000=Axisdata, 16#5000=Encoderdata, 16#6000=Controldata, 16#7000=Drivedata
	nDeviceGroup: UDINT;
	nIndexOffset: UDINT;
	nData: DWORD;
END_VAR
VAR_OUTPUT
	bBusy: BOOL;
	bDone: BOOL;
	bError: BOOL;
	nErrorId: UDINT;
END_VAR
VAR_IN_OUT
	Axis: AXIS_REF;
END_VAR
VAR
	nState: UINT;
	fbADSWRITE: ADSWRITE;
END_VAR
</pre></div>
</div>
</div>
<div class="section" id="fb-writeparameterinnc-v1-00-st">
<h3>FB_WriteParameterInNc_v1_00: ST<a class="headerlink" href="#fb-writeparameterinnc-v1-00-st" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="o">*</span><span class="n">Sequence</span> <span class="k">to</span> <span class="n">write</span> <span class="n">parameter</span> <span class="k">in</span> <span class="n">Nc</span><span class="o">*</span><span class="p">)</span>
<span class="k">CASE</span> <span class="n">nState</span> <span class="k">OF</span>
<span class="mi">0</span><span class="o">:</span>  <span class="p">(</span><span class="o">*</span><span class="n">Start</span> <span class="n">sequence</span><span class="p">.</span> <span class="k">Wait</span> <span class="k">until</span> <span class="n">bExecute</span> <span class="k">is</span> <span class="n">TRUE</span><span class="o">*</span><span class="p">)</span>
	<span class="k">IF</span> <span class="n">bExecute</span> <span class="k">THEN</span>
		<span class="n">bBusy</span><span class="o">:=</span><span class="n">TRUE</span><span class="p">;</span>
		<span class="n">bError</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
		<span class="n">nErrorId</span><span class="o">:=</span><span class="mi">0</span><span class="p">;</span>
		<span class="n">nState</span><span class="o">:=</span><span class="mi">10</span><span class="p">;</span>
	<span class="n">END_IF</span>

<span class="mi">10</span><span class="o">:</span> <span class="p">(</span><span class="o">*</span><span class="n">Write</span> <span class="n">parameter</span> <span class="k">in</span> <span class="n">Nc</span><span class="o">*</span><span class="p">)</span>
	<span class="n">fbADSWRITE</span><span class="p">(</span>
		<span class="k">PORT</span><span class="o">:=</span><span class="mi">500</span><span class="p">,</span>
		<span class="n">IDXGRP</span><span class="o">:=</span><span class="n">nDeviceGroup</span><span class="o">+</span><span class="n">Axis</span><span class="p">.</span><span class="n">NcToPlc</span><span class="p">.</span><span class="n">AxisId</span><span class="p">,</span>
		<span class="n">IDXOFFS</span><span class="o">:=</span><span class="n">nIndexOffset</span><span class="p">,</span>
		<span class="n">LEN</span><span class="o">:=</span><span class="n">SIZEOF</span><span class="p">(</span><span class="n">nData</span><span class="p">),</span>
		<span class="n">SRCADDR</span><span class="o">:=</span><span class="n">ADR</span><span class="p">(</span><span class="n">nData</span><span class="p">),</span>
		<span class="n">WRITE</span><span class="o">:=</span><span class="n">TRUE</span><span class="p">);</span>

	<span class="p">(</span><span class="o">*</span><span class="k">Wait</span> <span class="k">until</span> <span class="n">it</span><span class="na">&#39;s</span> <span class="n">done</span> <span class="k">or</span> <span class="k">if</span> <span class="n">an</span> <span class="n">error</span> <span class="n">occurs</span><span class="o">*</span><span class="p">)</span>
	<span class="k">IF</span> <span class="k">NOT</span> <span class="n">fbADSWRITE</span><span class="p">.</span><span class="n">ERR</span> <span class="k">THEN</span>
		<span class="k">IF</span> <span class="k">NOT</span> <span class="n">fbADSWRITE</span><span class="p">.</span><span class="n">BUSY</span> <span class="k">THEN</span>
			<span class="n">fbADSWRITE</span><span class="p">(</span><span class="n">WRITE</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">);</span>
			<span class="n">nState</span><span class="o">:=</span><span class="mi">20</span><span class="p">;</span>
		<span class="n">END_IF</span>
	<span class="k">ELSE</span>
		<span class="n">nErrorId</span><span class="o">:=</span><span class="n">fbADSWRITE</span><span class="p">.</span><span class="n">ERRID</span><span class="p">;</span>
		<span class="n">nState</span><span class="o">:=</span><span class="mi">999</span><span class="p">;</span>
	<span class="n">END_IF</span>

<span class="mi">20</span><span class="o">:</span> <span class="p">(</span><span class="o">*</span><span class="n">Sequense</span> <span class="k">is</span> <span class="n">done</span><span class="p">.</span> <span class="n">Waits</span> <span class="k">until</span> <span class="n">bExecute</span> <span class="k">is</span> <span class="n">FALSE</span><span class="o">*</span><span class="p">)</span>
	<span class="n">bBusy</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
	<span class="n">bDone</span><span class="o">:=</span><span class="n">TRUE</span><span class="p">;</span>
	<span class="k">IF</span> <span class="k">NOT</span> <span class="n">bExecute</span> <span class="k">THEN</span>
		<span class="n">bDone</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
		<span class="n">nState</span><span class="o">:=</span><span class="mi">0</span><span class="p">;</span>
	<span class="n">END_IF</span>

<span class="mi">999</span><span class="o">:</span> <span class="p">(</span><span class="o">*</span><span class="n">Error</span> <span class="k">in</span> <span class="n">sequence</span><span class="o">*</span><span class="p">)</span>
	<span class="n">bError</span><span class="o">:=</span><span class="n">TRUE</span><span class="p">;</span>
	<span class="n">bBusy</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
	<span class="n">bDone</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
	<span class="n">fbADSWRITE</span><span class="p">(</span><span class="n">WRITE</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">);</span>
	<span class="k">IF</span> <span class="k">NOT</span> <span class="n">bExecute</span> <span class="k">THEN</span>
		<span class="n">nState</span><span class="o">:=</span><span class="mi">0</span><span class="p">;</span>
	<span class="n">END_IF</span>

<span class="n">END_CASE</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-errorhandling-dut-errorstate-tcdut-tcplcobject">
<h2>tc_mca_std_lib/POUs/ErrorHandling/DUT_ErrorState.TcDUT (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-errorhandling-dut-errorstate-tcdut-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="section" id="dut-errorstate-declaration">
<h3>DUT_ErrorState: Declaration<a class="headerlink" href="#dut-errorstate-declaration" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span>{attribute &#39;qualified_only&#39;}
{attribute &#39;strict&#39;}
TYPE DUT_ErrorState :
(
	None,
	Active,
	Inactive,
	Acknowledged
);
END_TYPE
</pre></div>
</div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-errorhandling-dut-terminalerror-tcdut-tcplcobject">
<h2>tc_mca_std_lib/POUs/ErrorHandling/DUT_TerminalError.TcDUT (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-errorhandling-dut-terminalerror-tcdut-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="section" id="dut-terminalerror-declaration">
<h3>DUT_TerminalError: Declaration<a class="headerlink" href="#dut-terminalerror-declaration" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="k">TYPE</span> <span class="n">DUT_TerminalError</span> <span class="o">:</span>
<span class="n">STRUCT</span>
	<span class="o">//</span><span class="n">Error</span> <span class="n">system</span> <span class="n">related</span>
	<span class="n">iTerminalID</span> <span class="o">:</span> <span class="n">INT</span><span class="p">;</span>					<span class="o">//</span><span class="n">ID</span> <span class="k">of</span> <span class="n">the</span> <span class="n">terminal</span>
	<span class="n">Error_ID</span> <span class="o">:</span> <span class="n">ULINT</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span>				<span class="o">//</span><span class="n">ID</span> <span class="k">for</span> <span class="n">the</span> <span class="n">Error</span> <span class="n">entry</span>
	<span class="n">ErrorState</span> <span class="o">:</span> <span class="n">DUT_ErrorState</span><span class="p">;</span>		<span class="o">//</span><span class="n">State</span> <span class="k">of</span> <span class="n">the</span> <span class="n">error</span>
	
	<span class="o">//</span><span class="n">Error</span> <span class="n">related</span>
	<span class="n">nDateTimeOn</span> <span class="o">:</span> <span class="n">ULINT</span><span class="p">;</span>				<span class="o">//</span><span class="n">Date</span> <span class="k">and</span> <span class="kt">time</span> <span class="k">when</span> <span class="n">the</span> <span class="n">error</span> <span class="n">occured</span><span class="p">.</span> <span class="n">Raw</span> <span class="n">data</span>
	<span class="n">sDateTimeOn</span> <span class="o">:</span> <span class="kt">STRING</span><span class="p">(</span><span class="mi">24</span><span class="p">);</span>			<span class="o">//</span><span class="n">Date</span> <span class="k">and</span> <span class="kt">time</span> <span class="k">when</span> <span class="n">the</span> <span class="n">error</span> <span class="n">occured</span><span class="p">.</span> <span class="n">Readable</span> <span class="n">format</span>
	<span class="n">nDateTimeOff</span> <span class="o">:</span> <span class="n">ULINT</span><span class="p">;</span>				<span class="o">//</span><span class="n">Date</span> <span class="k">and</span> <span class="kt">time</span> <span class="k">when</span> <span class="n">the</span> <span class="n">error</span> <span class="n">disapeared</span><span class="p">.</span> <span class="n">Raw</span> <span class="n">data</span>
	<span class="n">sDateTimeOff</span> <span class="o">:</span> <span class="kt">STRING</span><span class="p">(</span><span class="mi">24</span><span class="p">);</span>			<span class="o">//</span><span class="n">Date</span> <span class="k">and</span> <span class="kt">time</span> <span class="k">when</span> <span class="n">the</span> <span class="n">error</span> <span class="n">disapeared</span><span class="p">.</span> <span class="n">Readable</span> <span class="n">format</span>
	<span class="n">bWcState</span> <span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>					<span class="o">//</span><span class="n">WcState</span> <span class="k">variable</span> <span class="k">of</span> <span class="n">the</span> <span class="n">terminal</span>
	<span class="n">uiInfoDataState</span> <span class="o">:</span> <span class="n">UINT</span><span class="p">;</span>				<span class="o">//</span><span class="n">InfoData</span><span class="p">.</span><span class="n">State</span> <span class="k">variable</span> <span class="k">of</span> <span class="n">the</span> <span class="n">terminal</span>
	<span class="n">sErrorMessage</span> <span class="o">:</span> <span class="kt">STRING</span> <span class="p">(</span><span class="mi">128</span><span class="p">);</span>		<span class="o">//</span><span class="n">Error</span> <span class="n">message</span> <span class="n">corresponding</span> <span class="k">to</span> <span class="n">WcState</span> <span class="k">and</span> <span class="n">InfoData</span><span class="p">.</span><span class="n">State</span>
	<span class="n">ErrorType</span> <span class="o">:</span> <span class="n">INT</span><span class="p">;</span> 					<span class="o">//</span><span class="n">Error</span> <span class="n">types</span> <span class="p">(</span><span class="n">priorities</span><span class="p">)</span> <span class="n">need</span> <span class="k">to</span> <span class="n">be</span> <span class="n">developed</span>
<span class="n">END_STRUCT</span>
<span class="n">END_TYPE</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-errorhandling-fb-errorlist-tcpou-tcplcobject">
<h2>tc_mca_std_lib/POUs/ErrorHandling/FB_ErrorList.TcPOU (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-errorhandling-fb-errorlist-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="section" id="fb-errorlist-declaration">
<h3>FB_ErrorList: Declaration<a class="headerlink" href="#fb-errorlist-declaration" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="n">FUNCTION_BLOCK</span> <span class="n">FB_ErrorList</span>

<span class="n">VAR_INPUT</span>
	<span class="n">En</span> <span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>											<span class="o">//</span><span class="n">Enable</span> <span class="n">input</span>
	<span class="n">bReset</span> <span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>										<span class="o">//</span><span class="n">Delete</span> <span class="k">all</span> <span class="n">Error</span> <span class="n">entry</span>
	<span class="n">lErrorID</span> <span class="o">:</span> <span class="n">ULINT</span><span class="p">;</span>									<span class="o">//</span><span class="n">ErrorID</span> <span class="k">to</span> <span class="n">be</span> <span class="n">acknoledged</span>
	<span class="n">bACK</span> <span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>										<span class="o">//</span><span class="n">Acknoledge</span> <span class="n">the</span> <span class="n">given</span> <span class="n">error</span> <span class="k">and</span> <span class="n">delete</span> <span class="n">it</span> <span class="n">from</span> <span class="n">the</span> <span class="n">list</span>
<span class="n">END_VAR</span>
	
<span class="n">VAR_OUTPUT</span>
	<span class="n">EnO</span> <span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>											<span class="o">//</span><span class="n">Enable</span> <span class="n">output</span>
	<span class="n">nNoError</span><span class="o">:</span> <span class="n">UINT</span><span class="p">;</span>										<span class="o">//</span><span class="n">Number</span> <span class="k">of</span> <span class="n">Errors</span>
	<span class="n">nNoOverflow</span> <span class="o">:</span> <span class="n">INT</span><span class="p">;</span>									<span class="o">//</span><span class="n">Number</span> <span class="k">of</span> <span class="n">Overflows</span>
	<span class="n">pErrorSystem</span> <span class="o">:</span> <span class="n">POINTER</span> <span class="k">TO</span> <span class="n">ST_ErrorSystem</span><span class="p">;</span>			<span class="o">//</span><span class="n">Pointer</span> <span class="k">to</span> <span class="n">ErrorSystem</span>
<span class="n">END_VAR</span>

<span class="n">VAR</span>
	<span class="n">nFreePos</span> <span class="o">:</span> <span class="n">UINT</span><span class="p">;</span>									<span class="o">//</span><span class="n">Number</span> <span class="k">of</span> <span class="n">free</span> <span class="n">position</span> <span class="k">in</span> <span class="n">the</span> <span class="n">list</span>
	<span class="n">nListCnt1</span> <span class="o">:</span> <span class="n">UINT</span><span class="p">;</span>									<span class="o">//</span><span class="nn">work</span> <span class="k">variable</span>
	<span class="n">ErrorSystem</span> <span class="o">:</span> <span class="n">ST_ErrorSystem</span><span class="p">;</span>						<span class="o">//</span><span class="n">Data</span> <span class="n">structure</span> <span class="k">of</span> <span class="n">the</span> <span class="n">Error</span> <span class="n">list</span>
<span class="n">END_VAR</span>
</pre></div>
</div>
</div>
<div class="section" id="fb-errorlist-st">
<h3>FB_ErrorList: ST<a class="headerlink" href="#fb-errorlist-st" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="o">*</span>
<span class="o">*</span> <span class="o">================================================================================</span>
<span class="o">*</span>                                   <span class="n">DESCRIPTION</span>
<span class="o">*</span> <span class="o">================================================================================</span>
<span class="o">*</span> <span class="n">This</span> <span class="k">Function</span> <span class="k">Block</span> <span class="n">implements</span> <span class="n">the</span> <span class="n">core</span> <span class="n">structure</span> <span class="k">of</span> <span class="n">the</span> <span class="n">Error</span><span class="o">/</span><span class="n">Warning</span> <span class="n">Handling</span>
<span class="o">*</span> <span class="n">system</span><span class="p">.</span> <span class="n">It</span> <span class="n">realizes</span> <span class="n">the</span> <span class="n">datastructure</span> <span class="n">containing</span> <span class="n">every</span> <span class="n">Error</span> <span class="n">Entry</span><span class="p">,</span> <span class="n">collect</span>
<span class="o">*</span> <span class="n">statistics</span> <span class="n">about</span> <span class="n">the</span> <span class="n">usage</span> <span class="k">and</span> <span class="n">manage</span> <span class="n">the</span> <span class="n">Error</span> <span class="n">Entries</span><span class="p">.</span>
<span class="o">*</span> <span class="n">Note</span><span class="o">:</span> <span class="n">The</span> <span class="n">system</span> <span class="k">is</span> <span class="n">under</span> <span class="n">development</span><span class="p">,</span> <span class="n">most</span> <span class="k">of</span> <span class="n">the</span> <span class="n">functionalities</span> <span class="n">are</span> <span class="k">not</span>
<span class="o">*</span> <span class="n">implemented</span> <span class="k">or</span> <span class="n">existing</span> <span class="n">functionalities</span> <span class="n">may</span> <span class="n">change</span> <span class="k">with</span> <span class="kt">time</span><span class="p">.</span>
<span class="o">*</span> <span class="o">================================================================================</span>
<span class="o">*</span><span class="p">)</span>
<span class="n">EnO</span> <span class="o">:=</span> <span class="n">En</span><span class="p">;</span>

<span class="o">//</span><span class="n">Ponter</span> <span class="k">to</span> <span class="n">ErrorSystem</span>
<span class="n">pErrorSystem</span> <span class="o">:=</span> <span class="n">ADR</span><span class="p">(</span><span class="n">ErrorSystem</span><span class="p">);</span>

<span class="o">//</span><span class="n">Number</span> <span class="k">of</span> <span class="n">overflows</span>
<span class="n">nNoOverflow</span> <span class="o">:=</span> <span class="n">ErrorSystem</span><span class="p">.</span><span class="n">nNoOverflows</span><span class="p">;</span>

<span class="k">IF</span> <span class="n">bReset</span> <span class="k">THEN</span>
	<span class="n">MEMSET</span> <span class="p">(</span> <span class="n">ADR</span><span class="p">(</span><span class="n">ErrorSystem</span><span class="p">.</span><span class="n">aErrorData</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="mi">0</span><span class="p">,</span> <span class="n">GVL_ErrorSystem</span><span class="p">.</span><span class="n">cSizeOfErrorData</span> <span class="o">*</span> <span class="n">SIZEOF</span><span class="p">(</span><span class="n">DUT_TerminalError</span><span class="p">));</span>
	<span class="n">ErrorSystem</span><span class="p">.</span><span class="n">lNextErrorID</span> <span class="o">:=</span> <span class="mi">1</span><span class="p">;</span>
<span class="n">END_IF</span>

<span class="o">//</span><span class="n">Number</span> <span class="k">of</span> <span class="n">errors</span> <span class="k">in</span> <span class="n">the</span> <span class="n">system</span>
<span class="n">nNoError</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span>
<span class="k">FOR</span> <span class="n">nListCnt1</span> <span class="o">:=</span> <span class="mi">0</span> <span class="k">TO</span> <span class="n">GVL_ErrorSystem</span><span class="p">.</span><span class="n">cSizeOfErrorData</span> <span class="o">-</span> <span class="mi">1</span> <span class="n">DO</span>
	<span class="k">IF</span> <span class="n">ErrorSystem</span><span class="p">.</span><span class="n">aErrorData</span><span class="p">[</span><span class="n">nListCnt1</span><span class="p">].</span><span class="n">Error_ID</span> <span class="o">&lt;&gt;</span> <span class="mi">0</span>  <span class="k">THEN</span>
		<span class="n">nNoError</span> <span class="o">:=</span> <span class="n">nNoError</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span> 
	<span class="n">END_IF</span>
<span class="n">END_FOR</span>
<span class="n">ErrorSystem</span><span class="p">.</span><span class="n">nNoErrors</span> <span class="o">:=</span> <span class="n">nNoError</span><span class="p">;</span>

<span class="o">//</span><span class="n">Number</span> <span class="k">of</span> <span class="n">free</span> <span class="n">position</span> <span class="k">in</span> <span class="n">the</span> <span class="n">list</span>
<span class="n">nFreePos</span> <span class="o">:=</span> <span class="n">GVL_ErrorSystem</span><span class="p">.</span><span class="n">cSizeOfErrorData</span> <span class="o">-</span> <span class="n">nNoError</span><span class="p">;</span>

<span class="o">//</span><span class="n">Acknoledge</span> <span class="n">specified</span> <span class="n">Error</span> <span class="n">entry</span>
<span class="k">IF</span> <span class="n">bACK</span> <span class="k">THEN</span>
	<span class="k">FOR</span> <span class="n">nListCnt1</span> <span class="o">:=</span> <span class="mi">0</span> <span class="k">TO</span> <span class="n">GVL_ErrorSystem</span><span class="p">.</span><span class="n">cSizeOfErrorData</span> <span class="o">-</span> <span class="mi">1</span> <span class="n">DO</span>
		<span class="k">IF</span> <span class="n">ErrorSystem</span><span class="p">.</span><span class="n">aErrorData</span><span class="p">[</span><span class="n">nListCnt1</span><span class="p">].</span><span class="n">Error_ID</span> <span class="o">=</span> <span class="n">lErrorID</span> <span class="k">THEN</span>
			<span class="n">ErrorSystem</span><span class="p">.</span><span class="n">aErrorData</span><span class="p">[</span><span class="n">nListCnt1</span><span class="p">].</span><span class="n">ErrorState</span> <span class="o">:=</span> <span class="n">DUT_ErrorState</span><span class="p">.</span><span class="n">Acknowledged</span><span class="p">;</span>
		<span class="n">END_IF</span>
	<span class="n">END_FOR</span>
<span class="n">END_IF</span>

<span class="o">//</span><span class="n">Deleting</span> <span class="n">acknoledged</span> <span class="n">errors</span>
<span class="k">FOR</span> <span class="n">nListCnt1</span> <span class="o">:=</span> <span class="mi">0</span> <span class="k">TO</span> <span class="n">GVL_ErrorSystem</span><span class="p">.</span><span class="n">cSizeOfErrorData</span> <span class="o">-</span> <span class="mi">1</span> <span class="n">DO</span>
	<span class="k">IF</span> <span class="n">ErrorSystem</span><span class="p">.</span><span class="n">aErrorData</span><span class="p">[</span><span class="n">nListCnt1</span><span class="p">].</span><span class="n">ErrorState</span> <span class="o">=</span> <span class="n">DUT_ErrorState</span><span class="p">.</span><span class="n">Acknowledged</span> <span class="k">THEN</span>
		<span class="n">MEMMOVE</span> <span class="p">(</span><span class="n">ADR</span><span class="p">(</span><span class="n">ErrorSystem</span><span class="p">.</span><span class="n">aErrorData</span><span class="p">[</span><span class="n">nListCnt1</span><span class="p">]),</span> <span class="n">ADR</span><span class="p">(</span><span class="n">ErrorSystem</span><span class="p">.</span><span class="n">aErrorData</span><span class="p">[</span><span class="n">nListCnt1</span><span class="o">+</span><span class="mi">1</span><span class="p">]),</span> <span class="p">(</span><span class="n">GVL_ErrorSystem</span><span class="p">.</span><span class="n">cSizeOfErrorData</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">nListCnt1</span><span class="p">)</span> <span class="o">*</span> <span class="n">SIZEOF</span><span class="p">(</span><span class="n">DUT_TerminalError</span><span class="p">));</span>
		<span class="n">MEMSET</span><span class="p">(</span><span class="n">ADR</span><span class="p">(</span><span class="n">ErrorSystem</span><span class="p">.</span><span class="n">aErrorData</span><span class="p">[</span><span class="n">GVL_ErrorSystem</span><span class="p">.</span><span class="n">cSizeOfErrorData</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]),</span> <span class="mi">0</span><span class="p">,</span> <span class="n">SIZEOF</span><span class="p">(</span><span class="n">DUT_TerminalError</span><span class="p">));</span>
	<span class="n">END_IF</span>
<span class="n">END_FOR</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-errorhandling-fb-terminalerror-tcpou-tcplcobject">
<h2>tc_mca_std_lib/POUs/ErrorHandling/FB_TerminalError.TcPOU (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-errorhandling-fb-terminalerror-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="section" id="fb-terminalerror-declaration">
<h3>FB_TerminalError: Declaration<a class="headerlink" href="#fb-terminalerror-declaration" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="n">FUNCTION_BLOCK</span> <span class="n">FB_TerminalError</span>

<span class="n">VAR_INPUT</span>
	<span class="n">En</span>					<span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">iTerminal_ID</span>		<span class="o">:</span> <span class="n">INT</span><span class="p">;</span>
	<span class="n">bWcState</span>			<span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">uiInfoData_State</span>	<span class="o">:</span> <span class="n">UINT</span><span class="p">;</span>
	<span class="n">pErrorSystem</span>		<span class="o">:</span> <span class="n">POINTER</span> <span class="k">TO</span> <span class="n">ST_ErrorSystem</span><span class="p">;</span>					<span class="o">//</span><span class="n">Pointer</span> <span class="k">to</span> <span class="n">the</span> <span class="n">error</span> <span class="n">system</span>
<span class="n">END_VAR</span>

<span class="n">VAR_OUTPUT</span>
	<span class="n">EnO</span> <span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bError</span> <span class="o">:</span> <span class="n">BOOL</span> <span class="o">:=</span> <span class="n">FALSE</span><span class="p">;</span>
<span class="n">END_VAR</span>

<span class="n">VAR</span>
	<span class="n">iStateError</span> <span class="o">:</span> <span class="n">UINT</span><span class="p">;</span>
	<span class="n">iOtherError</span> <span class="o">:</span> <span class="n">UINT</span><span class="p">;</span>
	<span class="n">ErrorData</span>	<span class="o">:</span> <span class="n">DUT_TerminalError</span><span class="p">;</span>
	<span class="n">nErrSysCNT</span>	<span class="o">:</span> <span class="n">UINT</span><span class="p">;</span>
	
	<span class="o">//</span><span class="n">testing</span>
	<span class="n">bStateChanged</span> <span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>						<span class="o">//</span><span class="n">Indicate</span> <span class="k">if</span> <span class="n">state</span> <span class="n">change</span> <span class="n">happened</span>
	<span class="n">uiInfoData_State_Prev</span> <span class="o">:</span> <span class="n">UINT</span> <span class="o">:=</span> <span class="mi">16#8</span><span class="p">;</span>		<span class="o">//</span><span class="n">Previous</span> <span class="n">value</span> <span class="k">of</span> <span class="n">Infodata</span><span class="p">.</span><span class="n">State</span>
	<span class="n">bWcState_Prev</span> <span class="o">:</span> <span class="n">BOOL</span> <span class="o">:=</span> <span class="n">FALSE</span><span class="p">;</span>				<span class="o">//</span><span class="n">Previous</span> <span class="n">state</span> <span class="k">of</span> <span class="n">WcState</span>
	
	<span class="o">//</span><span class="n">FB</span><span class="o">-</span><span class="n">s</span>
	
<span class="n">END_VAR</span>
</pre></div>
</div>
</div>
<div class="section" id="fb-terminalerror-st">
<h3>FB_TerminalError: ST<a class="headerlink" href="#fb-terminalerror-st" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="o">*</span>
<span class="n">Currently</span><span class="o">:</span>

<span class="n">Problem</span><span class="o">:</span>

<span class="n">TODO</span><span class="o">:</span>

<span class="o">*</span><span class="p">)</span>

<span class="o">//</span><span class="n">Connect</span> <span class="n">EN</span> <span class="k">to</span> <span class="n">EnO</span>
<span class="n">EnO</span><span class="o">:=</span><span class="n">En</span><span class="p">;</span>

<span class="o">//</span><span class="n">Check</span> <span class="k">if</span> <span class="n">pointer</span> <span class="k">is</span> <span class="n">OK</span>
<span class="k">IF</span> <span class="n">pErrorSystem</span><span class="o">=</span><span class="mi">0</span> <span class="k">THEN</span> <span class="k">RETURN</span><span class="p">;</span> <span class="n">END_IF</span>

<span class="o">//</span><span class="n">Any</span> <span class="n">difference</span> <span class="n">from</span> <span class="n">normal</span> <span class="n">state</span> <span class="n">creates</span> <span class="n">an</span> <span class="n">error</span>
<span class="k">IF</span> <span class="n">En</span> <span class="k">AND</span> <span class="p">(</span><span class="n">bWcState</span> <span class="k">OR</span> <span class="n">uiInfoData_State</span><span class="o">&lt;&gt;</span><span class="mi">16#8</span><span class="p">)</span> <span class="k">THEN</span>
	<span class="n">bError</span><span class="o">:=</span><span class="n">TRUE</span><span class="p">;</span>
<span class="k">ELSE</span>
	<span class="n">bError</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
<span class="n">END_IF</span>

<span class="o">//</span><span class="n">Change</span> <span class="n">detection</span>
<span class="k">IF</span> <span class="n">uiInfoData_State</span> <span class="o">&lt;&gt;</span> <span class="n">uiInfoData_State_Prev</span> <span class="k">OR</span> <span class="n">bWcState</span> <span class="o">&lt;&gt;</span> <span class="n">bWcState_Prev</span> <span class="k">THEN</span>
	<span class="n">bStateChanged</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">;</span>
<span class="k">ELSE</span>
	<span class="n">bStateChanged</span> <span class="o">:=</span> <span class="n">FALSE</span><span class="p">;</span>
<span class="n">END_IF</span>

<span class="o">//</span><span class="n">Update</span> <span class="n">previous</span> <span class="n">values</span>
<span class="n">uiInfoData_State_Prev</span> <span class="o">:=</span> <span class="n">uiInfoData_State</span><span class="p">;</span>
<span class="n">bWcState_Prev</span> <span class="o">:=</span> <span class="n">bWcState</span><span class="p">;</span>

<span class="o">//</span><span class="n">Decision</span> <span class="n">tree</span>
<span class="k">IF</span> <span class="n">bStateChanged</span> <span class="k">THEN</span>
	<span class="k">IF</span> <span class="n">bError</span> <span class="k">THEN</span>
		<span class="k">IF</span> <span class="n">ErrorData</span><span class="p">.</span><span class="n">ErrorState</span> <span class="o">=</span> <span class="n">DUT_ErrorState</span><span class="p">.</span><span class="n">Active</span> <span class="k">THEN</span>
			<span class="o">//</span><span class="n">Close</span> <span class="n">active</span> <span class="n">error</span>
			<span class="o">//</span><span class="n">Read</span> <span class="n">system</span> <span class="kt">time</span>
			<span class="n">ErrorData</span><span class="p">.</span><span class="n">nDateTimeOff</span> <span class="o">:=</span> <span class="n">Tc2_EtherCAT</span><span class="p">.</span><span class="n">F_GetActualDcTime64</span><span class="p">();</span>
			<span class="n">ErrorData</span><span class="p">.</span><span class="n">sDateTimeOff</span> <span class="o">:=</span> <span class="n">Tc2_EtherCat</span><span class="p">.</span><span class="n">DCTIME64_TO_STRING</span><span class="p">(</span><span class="n">ErrorData</span><span class="p">.</span><span class="n">nDateTimeOff</span><span class="p">);</span>
			<span class="n">ErrorData</span><span class="p">.</span><span class="n">ErrorState</span> <span class="o">:=</span> <span class="n">DUT_ErrorState</span><span class="p">.</span><span class="n">Inactive</span><span class="p">;</span>
			<span class="o">//</span><span class="n">Write</span> <span class="n">Off</span><span class="o">-</span><span class="kt">time</span> <span class="k">to</span> <span class="n">Error</span> <span class="n">System</span>
			<span class="k">FOR</span> <span class="n">nErrSysCNT</span> <span class="o">:=</span> <span class="mi">0</span> <span class="k">TO</span> <span class="n">GVL_ErrorSystem</span><span class="p">.</span><span class="n">cSizeOfErrorData</span> <span class="o">-</span> <span class="mi">1</span> <span class="n">DO</span>
				<span class="k">IF</span> <span class="n">pErrorSystem</span><span class="o">^</span><span class="p">.</span><span class="n">aErrorData</span><span class="p">[</span><span class="n">nErrSysCNT</span><span class="p">].</span><span class="n">Error_ID</span> <span class="o">=</span> <span class="n">ErrorData</span><span class="p">.</span><span class="n">Error_ID</span> <span class="k">THEN</span>
					<span class="n">pErrorSystem</span><span class="o">^</span><span class="p">.</span><span class="n">aErrorData</span><span class="p">[</span><span class="n">nErrSysCNT</span><span class="p">].</span><span class="n">nDateTimeOff</span> <span class="o">:=</span> <span class="n">ErrorData</span><span class="p">.</span><span class="n">nDateTimeOff</span><span class="p">;</span>
					<span class="n">pErrorSystem</span><span class="o">^</span><span class="p">.</span><span class="n">aErrorData</span><span class="p">[</span><span class="n">nErrSysCNT</span><span class="p">].</span><span class="n">sDateTimeOff</span> <span class="o">:=</span> <span class="n">ErrorData</span><span class="p">.</span><span class="n">sDateTimeOff</span><span class="p">;</span>
					<span class="n">pErrorSystem</span><span class="o">^</span><span class="p">.</span><span class="n">aErrorData</span><span class="p">[</span><span class="n">nErrSysCNT</span><span class="p">].</span><span class="n">ErrorState</span> <span class="o">:=</span> <span class="n">DUT_ErrorState</span><span class="p">.</span><span class="n">Inactive</span><span class="p">;</span>
					<span class="k">EXIT</span><span class="p">;</span>
				<span class="n">END_IF</span>
			<span class="n">END_FOR</span>
				
			<span class="o">//</span><span class="n">Clear</span> <span class="n">ErrorData</span>
			<span class="n">MEMSET</span><span class="p">(</span><span class="n">ADR</span><span class="p">(</span><span class="n">ErrorData</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="n">SIZEOF</span><span class="p">(</span><span class="n">ErrorData</span><span class="p">));</span>
		<span class="n">END_IF</span>
		
		<span class="o">//</span><span class="k">Open</span> <span class="n">a</span> <span class="k">new</span> <span class="n">error</span>
		<span class="n">ErrorData</span><span class="p">.</span><span class="n">ErrorState</span> <span class="o">:=</span> <span class="n">DUT_ErrorState</span><span class="p">.</span><span class="n">Active</span><span class="p">;</span>												<span class="o">//</span><span class="n">Set</span> <span class="n">Error</span> <span class="n">State</span>
		<span class="n">ErrorData</span><span class="p">.</span><span class="n">nDateTimeOn</span> <span class="o">:=</span> <span class="n">Tc2_EtherCAT</span><span class="p">.</span><span class="n">F_GetActualDcTime64</span><span class="p">();</span>								<span class="o">//</span><span class="n">Get</span> <span class="n">system</span> <span class="kt">time</span>
		<span class="n">ErrorData</span><span class="p">.</span><span class="n">sDateTimeOn</span> <span class="o">:=</span> <span class="n">Tc2_EtherCat</span><span class="p">.</span><span class="n">DCTIME64_TO_STRING</span><span class="p">(</span><span class="n">ErrorData</span><span class="p">.</span><span class="n">nDateTimeOn</span><span class="p">);</span>			<span class="o">//</span><span class="n">Convert</span> <span class="k">to</span> <span class="kt">string</span>
		<span class="n">ErrorData</span><span class="p">.</span><span class="n">iTerminalID</span> <span class="o">:=</span> <span class="n">iTerminal_ID</span><span class="p">;</span>														<span class="o">//</span><span class="n">Terminal_ID</span>
		<span class="n">ErrorData</span><span class="p">.</span><span class="n">bWcState</span> <span class="o">:=</span> <span class="n">bWcState</span><span class="p">;</span>																<span class="o">//</span><span class="n">WcState</span> <span class="kt">bit</span>
		<span class="n">ErrorData</span><span class="p">.</span><span class="n">uiInfoDataState</span> <span class="o">:=</span> <span class="n">uiInfoData_State</span><span class="p">;</span>												<span class="o">//</span><span class="n">uiInfoData_State</span>
		
		<span class="o">//</span><span class="n">Error</span> <span class="n">message</span> <span class="n">according</span> <span class="k">to</span> <span class="n">uiInfoData_State</span> <span class="k">and</span> <span class="n">WcState</span>
		<span class="n">iStateError</span> <span class="o">:=</span> <span class="p">(</span><span class="n">uiInfoData_State</span> <span class="k">AND</span> <span class="mi">16#000F</span><span class="p">);</span>												<span class="o">//</span><span class="n">Mask</span> <span class="k">for</span> <span class="n">operation</span> <span class="n">state</span> 
		<span class="n">iOtherError</span> <span class="o">:=</span> <span class="p">(</span><span class="n">uiInfoData_State</span> <span class="k">AND</span> <span class="mi">16#00F0</span><span class="p">);</span>												<span class="o">//</span><span class="n">Mask</span> <span class="k">for</span> <span class="n">the</span> <span class="n">other</span> <span class="mi">3</span> <span class="n">kind</span> <span class="k">of</span> <span class="n">errors</span>
		<span class="o">//</span><span class="n">Error</span> <span class="n">messages</span> <span class="n">according</span> <span class="k">to</span> <span class="n">the</span> <span class="n">least</span> <span class="n">significant</span> <span class="n">digit</span>
		<span class="k">CASE</span> <span class="n">iStateError</span> <span class="k">OF</span>
			<span class="mi">16#0001</span> <span class="o">:</span> <span class="n">ErrorData</span><span class="p">.</span><span class="n">sErrorMessage</span> <span class="o">:=</span> <span class="na">&#39;Slave</span> <span class="k">in</span> <span class="n">INIT</span> <span class="n">state</span><span class="p">;</span>   <span class="p">&#39;;</span>
			<span class="mi">16#0002</span> <span class="o">:</span> <span class="n">ErrorData</span><span class="p">.</span><span class="n">sErrorMessage</span> <span class="o">:=</span> <span class="na">&#39;Slave</span> <span class="k">in</span> <span class="n">PREOP</span> <span class="n">state</span><span class="p">;</span>   <span class="p">&#39;;</span>
			<span class="mi">16#0003</span> <span class="o">:</span> <span class="n">ErrorData</span><span class="p">.</span><span class="n">sErrorMessage</span> <span class="o">:=</span> <span class="na">&#39;Slave</span> <span class="k">in</span> <span class="n">BOOT</span> <span class="n">state</span><span class="p">;</span>   <span class="p">&#39;;</span>
			<span class="mi">16#0004</span> <span class="o">:</span> <span class="n">ErrorData</span><span class="p">.</span><span class="n">sErrorMessage</span> <span class="o">:=</span> <span class="na">&#39;Slave</span> <span class="k">in</span> <span class="n">SAFEOP</span> <span class="n">state</span><span class="p">;</span>   <span class="p">&#39;;</span>
			<span class="mi">16#0008</span> <span class="o">:</span> <span class="p">;</span>																			<span class="o">//</span><span class="n">Normal</span> <span class="n">operation</span> <span class="n">state</span>
		<span class="k">ELSE</span>
			<span class="n">ErrorData</span><span class="p">.</span><span class="n">sErrorMessage</span> <span class="o">:=</span> <span class="na">&#39;Undefined</span> <span class="n">State</span> <span class="k">of</span> <span class="n">operation</span><span class="p">;</span>   <span class="p">&#39;;</span>						<span class="o">//</span><span class="n">I</span> <span class="n">hope</span> <span class="n">we</span> <span class="n">will</span> <span class="n">never</span> <span class="n">see</span> <span class="n">this</span> <span class="n">message</span>
			<span class="n">ErrorData</span><span class="p">.</span><span class="n">sErrorMessage</span> <span class="o">:=</span> <span class="n">CONCAT</span> <span class="p">(</span><span class="n">ErrorData</span><span class="p">.</span><span class="n">sErrorMessage</span><span class="p">,</span> <span class="n">UINT_TO_STRING</span><span class="p">(</span><span class="n">iStateError</span><span class="p">));</span>
			<span class="n">ErrorData</span><span class="p">.</span><span class="n">sErrorMessage</span> <span class="o">:=</span> <span class="n">CONCAT</span> <span class="p">(</span><span class="n">ErrorData</span><span class="p">.</span><span class="n">sErrorMessage</span><span class="p">,</span> <span class="p">&#39;</span>   <span class="p">&#39;);</span>
		<span class="n">END_CASE</span>
		
		<span class="o">//</span><span class="n">Error</span> <span class="n">messages</span> <span class="n">according</span> <span class="k">to</span> <span class="n">the</span> <span class="n">second</span> <span class="n">least</span> <span class="n">significant</span> <span class="n">digit</span>
		<span class="k">CASE</span> <span class="n">iOtherError</span> <span class="k">OF</span>
			<span class="mi">16#0000</span> <span class="o">:</span> <span class="p">;</span>																			<span class="o">//</span><span class="n">No</span> <span class="n">error</span> <span class="k">case</span>
			<span class="mi">16#0010</span> <span class="o">:</span> <span class="n">ErrorData</span><span class="p">.</span><span class="n">sErrorMessage</span> <span class="o">:=</span> <span class="n">CONCAT</span> <span class="p">(</span><span class="n">ErrorData</span><span class="p">.</span><span class="n">sErrorMessage</span><span class="p">,</span> <span class="na">&#39;Slave</span> <span class="n">signals</span> <span class="n">error</span><span class="p">;</span>   <span class="p">&#39;);</span>
			<span class="mi">16#0020</span> <span class="o">:</span> <span class="n">ErrorData</span><span class="p">.</span><span class="n">sErrorMessage</span> <span class="o">:=</span> <span class="n">CONCAT</span> <span class="p">(</span><span class="n">ErrorData</span><span class="p">.</span><span class="n">sErrorMessage</span><span class="p">,</span> <span class="na">&#39;Invalid</span> <span class="n">vendorID</span><span class="o">/</span><span class="n">productCode</span> <span class="n">read</span><span class="p">;</span>   <span class="p">&#39;);</span>
			<span class="mi">16#0040</span> <span class="o">:</span> <span class="n">ErrorData</span><span class="p">.</span><span class="n">sErrorMessage</span> <span class="o">:=</span> <span class="n">CONCAT</span> <span class="p">(</span><span class="n">ErrorData</span><span class="p">.</span><span class="n">sErrorMessage</span><span class="p">,</span> <span class="na">&#39;Initialisation</span> <span class="n">error</span> <span class="n">occured</span><span class="p">;</span>   <span class="p">&#39;);</span>
		<span class="k">ELSE</span>
			<span class="n">ErrorData</span><span class="p">.</span><span class="n">sErrorMessage</span> <span class="o">:=</span> <span class="n">CONCAT</span> <span class="p">(</span><span class="n">ErrorData</span><span class="p">.</span><span class="n">sErrorMessage</span><span class="p">,</span> <span class="na">&#39;Undefined</span> <span class="n">Error</span> <span class="n">ID</span><span class="o">:</span> <span class="p">&#39;);</span>
			<span class="n">ErrorData</span><span class="p">.</span><span class="n">sErrorMessage</span> <span class="o">:=</span> <span class="n">CONCAT</span> <span class="p">(</span><span class="n">ErrorData</span><span class="p">.</span><span class="n">sErrorMessage</span><span class="p">,</span> <span class="n">UINT_TO_STRING</span><span class="p">(</span><span class="n">iOtherError</span><span class="p">));</span>
			<span class="n">ErrorData</span><span class="p">.</span><span class="n">sErrorMessage</span> <span class="o">:=</span> <span class="n">CONCAT</span> <span class="p">(</span><span class="n">ErrorData</span><span class="p">.</span><span class="n">sErrorMessage</span><span class="p">,</span> <span class="p">&#39;</span>   <span class="p">&#39;);</span>
		<span class="n">END_CASE</span>
	
		<span class="o">//</span><span class="n">Errormessage</span> <span class="n">according</span> <span class="k">to</span> <span class="n">WcState</span> <span class="kt">bit</span>
		<span class="k">IF</span> <span class="n">bWcState</span> <span class="k">THEN</span>
			<span class="n">ErrorData</span><span class="p">.</span><span class="n">sErrorMessage</span> <span class="o">:=</span> <span class="n">CONCAT</span> <span class="p">(</span><span class="n">ErrorData</span><span class="p">.</span><span class="n">sErrorMessage</span><span class="p">,</span> <span class="na">&#39;Invalid</span> <span class="n">Data</span><span class="p">;&#39;);</span>
		<span class="n">END_IF</span>
		
		<span class="o">//</span><span class="n">Check</span> <span class="k">for</span> <span class="n">overflow</span>
		<span class="k">IF</span> <span class="n">pErrorSystem</span><span class="o">^</span><span class="p">.</span><span class="n">nNoErrors</span> <span class="o">=</span> <span class="n">GVL_ErrorSystem</span><span class="p">.</span><span class="n">cSizeOfErrorData</span> <span class="k">THEN</span>
			<span class="n">pErrorSystem</span><span class="o">^</span><span class="p">.</span><span class="n">nNoOverflows</span> <span class="o">:=</span> <span class="n">pErrorSystem</span><span class="o">^</span><span class="p">.</span><span class="n">nNoOverflows</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span>
		<span class="n">END_IF</span>
		
		<span class="o">//</span><span class="n">Write</span> <span class="n">Error</span> <span class="n">Data</span> <span class="n">into</span> <span class="n">Error</span> <span class="n">System</span>
		<span class="n">ErrorData</span><span class="p">.</span><span class="n">Error_ID</span> <span class="o">:=</span> <span class="n">pErrorSystem</span><span class="o">^</span><span class="p">.</span><span class="n">lNextErrorID</span> <span class="p">;</span>
		<span class="n">MEMMOVE</span><span class="p">(</span> <span class="n">ADR</span><span class="p">(</span><span class="n">pErrorSystem</span><span class="o">^</span><span class="p">.</span><span class="n">aErrorData</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="n">ADR</span><span class="p">(</span><span class="n">pErrorSystem</span><span class="o">^</span><span class="p">.</span><span class="n">aErrorData</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="p">(</span><span class="n">GVL_ErrorSystem</span><span class="p">.</span><span class="n">cSizeOfErrorData</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="n">SIZEOF</span><span class="p">(</span><span class="n">DUT_TerminalError</span><span class="p">));</span>
		<span class="n">pErrorSystem</span><span class="o">^</span><span class="p">.</span><span class="n">aErrorData</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">:=</span> <span class="n">ErrorData</span><span class="p">;</span>
		<span class="n">pErrorSystem</span><span class="o">^</span><span class="p">.</span><span class="n">lNextErrorID</span> <span class="o">:=</span> <span class="n">pErrorSystem</span><span class="o">^</span><span class="p">.</span><span class="n">lNextErrorID</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span>
		
	<span class="k">ELSE</span>
		<span class="o">//</span><span class="n">Close</span> <span class="n">Active</span> <span class="n">Error</span>
		<span class="o">//</span><span class="n">Read</span> <span class="n">system</span> <span class="kt">time</span>
		<span class="n">ErrorData</span><span class="p">.</span><span class="n">nDateTimeOff</span> <span class="o">:=</span> <span class="n">Tc2_EtherCAT</span><span class="p">.</span><span class="n">F_GetActualDcTime64</span><span class="p">();</span>
		<span class="n">ErrorData</span><span class="p">.</span><span class="n">sDateTimeOff</span> <span class="o">:=</span> <span class="n">Tc2_EtherCat</span><span class="p">.</span><span class="n">DCTIME64_TO_STRING</span><span class="p">(</span><span class="n">ErrorData</span><span class="p">.</span><span class="n">nDateTimeOff</span><span class="p">);</span>
		<span class="n">ErrorData</span><span class="p">.</span><span class="n">ErrorState</span> <span class="o">:=</span> <span class="n">DUT_ErrorState</span><span class="p">.</span><span class="n">Inactive</span><span class="p">;</span>
		
		<span class="o">//</span><span class="n">Write</span> <span class="n">Off</span> <span class="kt">time</span> <span class="k">to</span> <span class="n">Error</span> <span class="n">System</span>
		<span class="k">FOR</span> <span class="n">nErrSysCNT</span> <span class="o">:=</span> <span class="mi">0</span> <span class="k">TO</span> <span class="n">GVL_ErrorSystem</span><span class="p">.</span><span class="n">cSizeOfErrorData</span> <span class="o">-</span> <span class="mi">1</span> <span class="n">DO</span>
			<span class="k">IF</span> <span class="n">pErrorSystem</span><span class="o">^</span><span class="p">.</span><span class="n">aErrorData</span><span class="p">[</span><span class="n">nErrSysCNT</span><span class="p">].</span><span class="n">Error_ID</span> <span class="o">=</span> <span class="n">ErrorData</span><span class="p">.</span><span class="n">Error_ID</span> <span class="k">THEN</span>
				<span class="n">pErrorSystem</span><span class="o">^</span><span class="p">.</span><span class="n">aErrorData</span><span class="p">[</span><span class="n">nErrSysCNT</span><span class="p">].</span><span class="n">nDateTimeOff</span> <span class="o">:=</span> <span class="n">ErrorData</span><span class="p">.</span><span class="n">nDateTimeOff</span><span class="p">;</span>
				<span class="n">pErrorSystem</span><span class="o">^</span><span class="p">.</span><span class="n">aErrorData</span><span class="p">[</span><span class="n">nErrSysCNT</span><span class="p">].</span><span class="n">sDateTimeOff</span> <span class="o">:=</span> <span class="n">ErrorData</span><span class="p">.</span><span class="n">sDateTimeOff</span><span class="p">;</span>
				<span class="n">pErrorSystem</span><span class="o">^</span><span class="p">.</span><span class="n">aErrorData</span><span class="p">[</span><span class="n">nErrSysCNT</span><span class="p">].</span><span class="n">ErrorState</span> <span class="o">:=</span> <span class="n">DUT_ErrorState</span><span class="p">.</span><span class="n">Inactive</span><span class="p">;</span>
				<span class="k">EXIT</span><span class="p">;</span>
			<span class="n">END_IF</span>
		<span class="n">END_FOR</span>
			
		<span class="o">//</span><span class="n">Clear</span> <span class="n">ErrorData</span>
		<span class="n">MEMSET</span><span class="p">(</span><span class="n">ADR</span><span class="p">(</span><span class="n">ErrorData</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="n">SIZEOF</span><span class="p">(</span><span class="n">ErrorData</span><span class="p">));</span>
	<span class="n">END_IF</span>
<span class="n">END_IF</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-errorhandling-gvl-errorsystem-tcgvl-tcplcobject">
<h2>tc_mca_std_lib/POUs/ErrorHandling/GVL_ErrorSystem.TcGVL (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-errorhandling-gvl-errorsystem-tcgvl-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="section" id="gvl-errorsystem-declaration">
<h3>GVL_ErrorSystem: Declaration<a class="headerlink" href="#gvl-errorsystem-declaration" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span>{attribute &#39;qualified_only&#39;}
VAR_GLOBAL CONSTANT
	cSizeOfErrorData : UINT := 128;
	
END_VAR
</pre></div>
</div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-errorhandling-st-errorsystem-tcdut-tcplcobject">
<h2>tc_mca_std_lib/POUs/ErrorHandling/ST_ErrorSystem.TcDUT (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-errorhandling-st-errorsystem-tcdut-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="section" id="st-errorsystem-declaration">
<h3>ST_ErrorSystem: Declaration<a class="headerlink" href="#st-errorsystem-declaration" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="k">TYPE</span> <span class="n">ST_ErrorSystem</span> <span class="o">:</span>
<span class="n">STRUCT</span>
	<span class="o">//</span><span class="k">Array</span> <span class="k">of</span> <span class="n">error</span> <span class="n">data</span><span class="p">.</span> <span class="n">Size</span> <span class="o">=</span> <span class="n">cSizeOfErrorData</span> <span class="k">in</span> <span class="n">the</span> <span class="n">GVL</span>
	<span class="n">aErrorData</span> <span class="o">:</span> <span class="k">ARRAY</span> <span class="p">[</span><span class="mi">0</span><span class="p">..</span><span class="n">GVL_ErrorSystem</span><span class="p">.</span><span class="n">cSizeOfErrorData</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="k">OF</span> <span class="n">DUT_TerminalError</span><span class="p">;</span>
	<span class="n">lNextErrorID</span> <span class="o">:</span> <span class="n">ULINT</span> <span class="o">:=</span> <span class="mi">1</span><span class="p">;</span>					<span class="o">//</span><span class="n">ErrorID</span> <span class="k">for</span> <span class="n">the</span> <span class="k">next</span> <span class="n">error</span> <span class="n">entry</span>
	<span class="n">nNoErrors</span> <span class="o">:</span> <span class="n">UINT</span><span class="p">;</span>							<span class="o">//</span><span class="n">Number</span> <span class="k">of</span> <span class="n">errors</span> <span class="k">in</span> <span class="n">the</span> <span class="n">list</span>
	<span class="n">nNoOverflows</span> <span class="o">:</span> <span class="n">INT</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span>					<span class="o">//</span><span class="n">Number</span> <span class="k">of</span> <span class="n">overflows</span><span class="p">.</span> <span class="n">How</span> <span class="n">many</span> <span class="n">error</span> <span class="n">entries</span> <span class="n">have</span> <span class="n">been</span> <span class="n">lost</span>
<span class="n">END_STRUCT</span>
<span class="n">END_TYPE</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-hardware-ethercat-terminals-analog-inputs-el3174-0002-tcpou-tcplcobject">
<h2>tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Analog_Inputs/EL3174_0002.TcPOU (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-analog-inputs-el3174-0002-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="section" id="el3174-0002-declaration">
<h3>EL3174_0002: Declaration<a class="headerlink" href="#el3174-0002-declaration" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="o">//</span><span class="n">EL3174</span><span class="o">-</span><span class="mi">0002</span> <span class="o">|</span> <span class="mi">4</span><span class="o">-</span><span class="n">channel</span> <span class="n">analog</span> <span class="n">input</span><span class="p">,</span> <span class="o">-</span><span class="mi">10</span><span class="o">/</span><span class="mi">0</span><span class="p">...</span><span class="o">+</span><span class="mi">10</span><span class="n">V</span><span class="p">,</span> <span class="o">-</span><span class="mi">20</span><span class="o">/</span><span class="mi">0</span><span class="o">/+</span><span class="mi">4</span><span class="p">...</span><span class="mi">20</span><span class="n">mA</span><span class="p">,</span> <span class="mi">16</span> <span class="kt">bit</span><span class="p">,</span> <span class="n">differential</span>
<span class="n">FUNCTION_BLOCK</span> <span class="n">EL3174_0002</span>

<span class="n">VAR_INPUT</span>
	<span class="n">En</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">iTerminal_ID</span> <span class="o">:</span> <span class="n">INT</span><span class="p">;</span>
	<span class="n">ErrorSystem</span> <span class="o">:</span> <span class="n">POINTER</span> <span class="k">TO</span> <span class="n">ST_ErrorSystem</span><span class="p">;</span>
<span class="n">END_VAR</span>
	
<span class="n">VAR_OUTPUT</span>
	<span class="n">EnO</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">iAi_Ch1_Value</span> <span class="o">:</span> <span class="n">INT</span><span class="p">;</span>
	<span class="n">iAi_Ch2_Value</span> <span class="o">:</span> <span class="n">INT</span><span class="p">;</span>
	<span class="n">iAi_Ch3_Value</span> <span class="o">:</span> <span class="n">INT</span><span class="p">;</span>
	<span class="n">iAi_Ch4_Value</span> <span class="o">:</span> <span class="n">INT</span><span class="p">;</span>
	<span class="n">bError</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
<span class="n">END_VAR</span>

<span class="n">VAR</span>
	<span class="o">//</span><span class="n">Channels</span>
	<span class="n">AI_Std_Ch_1_Status</span>	<span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="o">:</span> <span class="n">WORD</span><span class="p">;</span>
	<span class="n">AI_Std_Ch_1_Value</span> 	<span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="o">:</span> <span class="n">INT</span><span class="p">;</span>
	<span class="n">AI_Std_Ch_2_Status</span> 	<span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="o">:</span> <span class="n">WORD</span><span class="p">;</span>
	<span class="n">AI_Std_Ch_2_Value</span> 	<span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="o">:</span> <span class="n">INT</span><span class="p">;</span>
	<span class="n">AI_Std_Ch_3_Status</span> 	<span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="o">:</span> <span class="n">WORD</span><span class="p">;</span>
	<span class="n">AI_Std_Ch_3_Value</span> 	<span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="o">:</span> <span class="n">INT</span><span class="p">;</span>
	<span class="n">AI_Std_Ch_4_Status</span> 	<span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="o">:</span> <span class="n">WORD</span><span class="p">;</span>
	<span class="n">AI_Std_Ch_4_Value</span> 	<span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="o">:</span> <span class="n">INT</span><span class="p">;</span>
	
	<span class="o">//</span><span class="n">Terminal</span> <span class="n">status</span>
	<span class="n">WcState_WcState</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">InfoData_State</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">UINT</span><span class="p">;</span>
	
	<span class="o">//</span><span class="n">FB</span><span class="o">-</span><span class="n">s</span>
	<span class="n">EL3174_0002_Error</span> <span class="o">:</span> <span class="n">FB_TerminalError</span><span class="p">;</span>
<span class="n">END_VAR</span>
</pre></div>
</div>
</div>
<div class="section" id="el3174-0002-st">
<h3>EL3174_0002: ST<a class="headerlink" href="#el3174-0002-st" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="o">*</span>
<span class="o">*</span> <span class="n">TODO</span><span class="o">:</span>
<span class="o">*</span> <span class="n">Status</span> <span class="n">words</span> <span class="k">of</span> <span class="n">the</span> <span class="n">channels</span>
<span class="o">*</span><span class="p">)</span>

<span class="n">EnO</span> <span class="o">:=</span> <span class="n">En</span><span class="p">;</span>

<span class="o">//</span><span class="n">Error</span> <span class="n">FB</span> <span class="n">instance</span>
<span class="n">EL3174_0002_Error</span><span class="p">(</span>
	<span class="n">En</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span>
	<span class="n">iTerminal_ID</span> <span class="o">:=</span> <span class="n">iTerminal_ID</span><span class="p">,</span>
	<span class="n">bWcState</span> <span class="o">:=</span> <span class="n">WcState_WcState</span><span class="p">,</span>
	<span class="n">uiInfoData_State</span> <span class="o">:=</span> <span class="n">InfoData_State</span><span class="p">,</span>
	<span class="n">pErrorSystem</span> <span class="o">:=</span> <span class="n">ErrorSystem</span><span class="p">,</span>
	<span class="n">bError</span> <span class="o">=&gt;</span> <span class="n">bError</span><span class="p">,</span>
<span class="p">);</span>

<span class="k">IF</span> <span class="n">En</span> <span class="k">THEN</span>
	<span class="k">IF</span> <span class="n">bError</span> <span class="o">=</span> <span class="n">FALSE</span> <span class="k">THEN</span>
		<span class="n">iAi_Ch1_Value</span> <span class="o">:=</span> <span class="n">AI_Std_Ch_1_Value</span><span class="p">;</span>
		<span class="n">iAi_Ch2_Value</span> <span class="o">:=</span> <span class="n">AI_Std_Ch_2_Value</span><span class="p">;</span>
		<span class="n">iAi_Ch3_Value</span> <span class="o">:=</span> <span class="n">AI_Std_Ch_3_Value</span><span class="p">;</span>
		<span class="n">iAi_Ch4_Value</span> <span class="o">:=</span> <span class="n">AI_Std_Ch_4_Value</span><span class="p">;</span>
	<span class="k">ELSE</span>
		<span class="n">iAi_Ch1_Value</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span>
		<span class="n">iAi_Ch2_Value</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span>
		<span class="n">iAi_Ch3_Value</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span>
		<span class="n">iAi_Ch4_Value</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="n">END_IF</span>
<span class="n">END_IF</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-hardware-ethercat-terminals-analog-inputs-el3214-tcpou-tcplcobject">
<h2>tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Analog_Inputs/EL3214.TcPOU (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-analog-inputs-el3214-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="section" id="el3214-declaration">
<h3>EL3214: Declaration<a class="headerlink" href="#el3214-declaration" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="o">//</span><span class="n">EL3214</span> <span class="o">|</span> <span class="mi">4</span><span class="o">-</span><span class="n">channel</span> <span class="n">analog</span> <span class="n">input</span> <span class="n">terminal</span><span class="p">,</span> <span class="n">PT100</span> <span class="p">(</span><span class="n">RTD</span><span class="p">)</span>
<span class="n">FUNCTION_BLOCK</span> <span class="n">EL3214</span>

<span class="n">VAR_INPUT</span>
	<span class="n">En</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">iTerminal_ID</span> <span class="o">:</span> <span class="n">INT</span><span class="p">;</span>
	<span class="n">ErrorSystem</span> <span class="o">:</span> <span class="n">POINTER</span> <span class="k">TO</span> <span class="n">ST_ErrorSystem</span><span class="p">;</span>
<span class="n">END_VAR</span>

<span class="n">VAR_OUTPUT</span>
	<span class="n">EnO</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">iAi_Ch1_Value</span> <span class="o">:</span> <span class="n">INT</span><span class="p">;</span>
	<span class="n">iAi_Ch2_Value</span> <span class="o">:</span> <span class="n">INT</span><span class="p">;</span>
	<span class="n">iAi_Ch3_Value</span> <span class="o">:</span> <span class="n">INT</span><span class="p">;</span>
	<span class="n">iAi_Ch4_Value</span> <span class="o">:</span> <span class="n">INT</span><span class="p">;</span>
	<span class="n">bError</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
<span class="n">END_VAR</span>

<span class="n">VAR</span>
	<span class="o">//</span><span class="n">Channels</span>
	<span class="n">AI_RTD_Ch_1_Status</span>	<span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="o">:</span> <span class="n">WORD</span><span class="p">;</span>
	<span class="n">AI_RTD_Ch_1_Value</span> 	<span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="o">:</span> <span class="n">INT</span><span class="p">;</span>
	<span class="n">AI_RTD_Ch_2_Status</span> 	<span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="o">:</span> <span class="n">WORD</span><span class="p">;</span>
	<span class="n">AI_RTD_Ch_2_Value</span> 	<span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="o">:</span> <span class="n">INT</span><span class="p">;</span>
	<span class="n">AI_RTD_Ch_3_Status</span> 	<span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="o">:</span> <span class="n">WORD</span><span class="p">;</span>
	<span class="n">AI_RTD_Ch_3_Value</span> 	<span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="o">:</span> <span class="n">INT</span><span class="p">;</span>
	<span class="n">AI_RTD_Ch_4_Status</span> 	<span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="o">:</span> <span class="n">WORD</span><span class="p">;</span>
	<span class="n">AI_RTD_Ch_4_Value</span> 	<span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="o">:</span> <span class="n">INT</span><span class="p">;</span>
	
	<span class="o">//</span><span class="n">Terminal</span> <span class="n">status</span>
	<span class="n">WcState_WcState</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">InfoData_State</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">UINT</span><span class="p">;</span>
	
	<span class="o">//</span><span class="n">FB</span><span class="o">-</span><span class="n">s</span>
	<span class="n">EL3214_Error</span> <span class="o">:</span> <span class="n">FB_TerminalError</span><span class="p">;</span>
<span class="n">END_VAR</span>
</pre></div>
</div>
</div>
<div class="section" id="el3214-st">
<h3>EL3214: ST<a class="headerlink" href="#el3214-st" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="o">*</span>
<span class="o">*</span> <span class="n">TODO</span><span class="o">:</span>
<span class="o">*</span> <span class="n">Status</span> <span class="n">words</span> <span class="k">of</span> <span class="n">the</span> <span class="n">channels</span>
<span class="o">*</span><span class="p">)</span>

<span class="n">EnO</span> <span class="o">:=</span> <span class="n">En</span><span class="p">;</span>

<span class="o">//</span><span class="n">Error</span> <span class="n">FB</span> <span class="n">instance</span>
<span class="n">EL3214_Error</span><span class="p">(</span>
	<span class="n">En</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span>
	<span class="n">iTerminal_ID</span> <span class="o">:=</span> <span class="n">iTerminal_ID</span><span class="p">,</span>
	<span class="n">bWcState</span> <span class="o">:=</span> <span class="n">WcState_WcState</span><span class="p">,</span>
	<span class="n">uiInfoData_State</span> <span class="o">:=</span> <span class="n">InfoData_State</span><span class="p">,</span>
	<span class="n">pErrorSystem</span> <span class="o">:=</span> <span class="n">ErrorSystem</span><span class="p">,</span>
	<span class="n">bError</span> <span class="o">=&gt;</span> <span class="n">bError</span><span class="p">,</span>
<span class="p">);</span>

<span class="k">IF</span> <span class="n">En</span> <span class="k">THEN</span>
	<span class="k">IF</span> <span class="n">bError</span> <span class="o">=</span> <span class="n">FALSE</span> <span class="k">THEN</span>
		<span class="n">iAi_Ch1_Value</span> <span class="o">:=</span> <span class="n">AI_RTD_Ch_1_Value</span><span class="p">;</span>
		<span class="n">iAi_Ch2_Value</span> <span class="o">:=</span> <span class="n">AI_RTD_Ch_2_Value</span><span class="p">;</span>
		<span class="n">iAi_Ch3_Value</span> <span class="o">:=</span> <span class="n">AI_RTD_Ch_3_Value</span><span class="p">;</span>
		<span class="n">iAi_Ch4_Value</span> <span class="o">:=</span> <span class="n">AI_RTD_Ch_4_Value</span><span class="p">;</span>
	<span class="k">ELSE</span>
		<span class="n">iAi_Ch1_Value</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span>
		<span class="n">iAi_Ch2_Value</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span>
		<span class="n">iAi_Ch3_Value</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span>
		<span class="n">iAi_Ch4_Value</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="n">END_IF</span>
<span class="n">END_IF</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-hardware-ethercat-terminals-analog-inputs-el3255-tcpou-tcplcobject">
<h2>tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Analog_Inputs/EL3255.TcPOU (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-analog-inputs-el3255-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="section" id="el3255-declaration">
<h3>EL3255: Declaration<a class="headerlink" href="#el3255-declaration" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="o">//</span><span class="n">EL3255</span> <span class="o">|</span> <span class="mi">5</span><span class="o">-</span><span class="n">channel</span> <span class="n">potentiometer</span> <span class="n">measurement</span> <span class="k">with</span> <span class="n">sensor</span> <span class="n">supply</span>
<span class="n">FUNCTION_BLOCK</span> <span class="n">EL3255</span>

<span class="n">VAR_INPUT</span>
	<span class="n">En</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">iTerminal_ID</span> <span class="o">:</span> <span class="n">INT</span><span class="p">;</span>
	<span class="n">ErrorSystem</span> <span class="o">:</span> <span class="n">POINTER</span> <span class="k">TO</span> <span class="n">ST_ErrorSystem</span><span class="p">;</span>
<span class="n">END_VAR</span>

<span class="n">VAR_OUTPUT</span>
	<span class="n">EnO</span> <span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>	
	<span class="n">Ch1_Value</span> <span class="o">:</span> <span class="n">INT</span><span class="p">;</span>
	<span class="n">Ch2_Value</span> <span class="o">:</span> <span class="n">INT</span><span class="p">;</span>
	<span class="n">Ch3_Value</span> <span class="o">:</span> <span class="n">INT</span><span class="p">;</span>
	<span class="n">Ch4_Value</span> <span class="o">:</span> <span class="n">INT</span><span class="p">;</span>
	<span class="n">Ch5_Value</span> <span class="o">:</span> <span class="n">INT</span><span class="p">;</span>
	<span class="n">bError</span> <span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
<span class="n">END_VAR</span>

<span class="n">VAR</span>
	<span class="n">AI_Std_Ch1_Value</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="o">:</span> <span class="n">INT</span><span class="p">;</span>
	<span class="n">AI_Std_Ch2_Value</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="o">:</span> <span class="n">INT</span><span class="p">;</span>
	<span class="n">AI_Std_Ch3_Value</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="o">:</span> <span class="n">INT</span><span class="p">;</span>
	<span class="n">AI_Std_Ch4_Value</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="o">:</span> <span class="n">INT</span><span class="p">;</span>
	<span class="n">AI_Std_Ch5_Value</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="o">:</span> <span class="n">INT</span><span class="p">;</span>
	<span class="n">WcState_WcState</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">InfoData_State</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">UINT</span><span class="p">;</span>
	
	<span class="o">//</span><span class="n">FB</span><span class="o">-</span><span class="n">s</span>
	<span class="n">EL3255_Error</span> <span class="o">:</span> <span class="n">FB_TerminalError</span><span class="p">;</span>
<span class="n">END_VAR</span>
</pre></div>
</div>
</div>
<div class="section" id="el3255-st">
<h3>EL3255: ST<a class="headerlink" href="#el3255-st" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="o">*</span>
<span class="o">*</span> <span class="n">TODO</span><span class="o">:</span>
<span class="o">*</span> <span class="n">Channel</span> <span class="n">Status</span> <span class="n">words</span>
<span class="o">*</span><span class="p">)</span>

<span class="n">EnO</span><span class="o">:=</span><span class="n">En</span><span class="p">;</span>

<span class="o">//</span><span class="n">Error</span> <span class="n">FB</span> <span class="n">instance</span>
<span class="n">EL3255_Error</span><span class="p">(</span>
	<span class="n">En</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span>
	<span class="n">iTerminal_ID</span> <span class="o">:=</span> <span class="n">iTerminal_ID</span><span class="p">,</span>
	<span class="n">bWcState</span> <span class="o">:=</span> <span class="n">WcState_WcState</span><span class="p">,</span>
	<span class="n">uiInfoData_State</span> <span class="o">:=</span> <span class="n">InfoData_State</span><span class="p">,</span>
	<span class="n">pErrorSystem</span> <span class="o">:=</span> <span class="n">ErrorSystem</span><span class="p">,</span>
	<span class="n">bError</span> <span class="o">=&gt;</span> <span class="n">bError</span><span class="p">,</span>
<span class="p">);</span>

<span class="k">IF</span> <span class="n">EN</span> <span class="k">THEN</span>
	<span class="k">IF</span> <span class="k">NOT</span> <span class="n">bError</span> <span class="k">THEN</span>
		<span class="n">Ch1_Value</span> <span class="o">:=</span> <span class="n">AI_Std_Ch1_Value</span><span class="p">;</span>
		<span class="n">Ch2_Value</span> <span class="o">:=</span> <span class="n">AI_Std_Ch2_Value</span><span class="p">;</span>
		<span class="n">Ch3_Value</span> <span class="o">:=</span> <span class="n">AI_Std_Ch3_Value</span><span class="p">;</span>
		<span class="n">Ch4_Value</span> <span class="o">:=</span> <span class="n">AI_Std_Ch4_Value</span><span class="p">;</span>
		<span class="n">Ch5_Value</span> <span class="o">:=</span> <span class="n">AI_Std_Ch5_Value</span><span class="p">;</span>
	<span class="k">ELSE</span>
		<span class="n">Ch1_Value</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span>
		<span class="n">Ch2_Value</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span>
		<span class="n">Ch3_Value</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span>
		<span class="n">Ch4_Value</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span>
		<span class="n">Ch5_Value</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="n">END_IF</span>
<span class="n">END_IF</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-hardware-ethercat-terminals-analog-inputs-fb-calculatefrequency-3702-v0-01-tcpou-tcplcobject">
<h2>tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Analog_Inputs/FB_CalculateFrequency_3702_v0_01.TcPOU (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-analog-inputs-fb-calculatefrequency-3702-v0-01-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="section" id="fb-calculatefrequency-3702-v0-01-declaration">
<h3>FB_CalculateFrequency_3702_v0_01: Declaration<a class="headerlink" href="#fb-calculatefrequency-3702-v0-01-declaration" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="n">FUNCTION_BLOCK</span> <span class="n">FB_CalculateFrequency_3702_v0_01</span>
<span class="n">VAR</span> <span class="k">CONSTANT</span>
	<span class="o">///</span><span class="mi">200</span> <span class="n">samples</span><span class="o">/</span><span class="n">period</span>
	<span class="n">cBufferSize</span><span class="o">:</span> <span class="n">INT</span> <span class="o">:=</span> <span class="mi">1000</span><span class="p">;</span>
<span class="n">END_VAR</span>
<span class="n">VAR_INPUT</span>
	<span class="n">En</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bCalculate</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">aBufferValue</span><span class="o">:</span> <span class="k">ARRAY</span><span class="p">[</span><span class="mi">0</span><span class="p">..(</span><span class="n">cBuffersize</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)]</span> <span class="k">OF</span> <span class="n">INT</span><span class="p">;</span>
	<span class="n">aBufferDcTime</span><span class="o">:</span> <span class="k">ARRAY</span><span class="p">[</span><span class="mi">0</span><span class="p">..(</span><span class="n">cBuffersize</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)]</span> <span class="k">OF</span> <span class="n">UDINT</span><span class="p">;</span>
	<span class="o">///</span><span class="k">If</span> <span class="n">curve</span> <span class="n">has</span> <span class="n">a</span> <span class="n">DC</span> <span class="n">offset</span>
	<span class="n">nDCOffset</span><span class="o">:</span> <span class="n">INT</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span>
<span class="n">END_VAR</span>
<span class="n">VAR_OUTPUT</span>
	<span class="n">EnO</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bError</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">fActFrequency</span><span class="o">:</span> <span class="n">LREAL</span><span class="p">;</span>
<span class="n">END_VAR</span>
<span class="n">VAR</span>
	<span class="n">nIndex</span><span class="o">:</span> <span class="n">INT</span><span class="p">;</span>
	<span class="n">nFirstZeroCrossing</span><span class="o">:</span> <span class="n">INT</span><span class="p">;</span>
	<span class="n">nLastZeroCrossing</span><span class="o">:</span> <span class="n">INT</span><span class="p">;</span>
	<span class="n">rTimeFirst</span><span class="o">:</span> <span class="n">REAL</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="n">rTimeLast</span><span class="o">:</span> <span class="n">REAL</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="n">rTimeRes</span><span class="o">:</span> <span class="n">REAL</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="n">nCrossings</span><span class="o">:</span> <span class="n">INT</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span>
<span class="n">END_VAR</span>
<span class="n">VAR_TEMP</span>
	<span class="n">rRange</span><span class="o">:</span> <span class="n">REAL</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="n">rTimeSpan</span><span class="o">:</span> <span class="n">REAL</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span>
<span class="n">END_VAR</span>
</pre></div>
</div>
</div>
<div class="section" id="fb-calculatefrequency-3702-v0-01-st">
<h3>FB_CalculateFrequency_3702_v0_01: ST<a class="headerlink" href="#fb-calculatefrequency-3702-v0-01-st" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="n">EnO</span><span class="o">:=</span><span class="n">En</span><span class="p">;</span>
<span class="n">bError</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
<span class="n">nCrossings</span><span class="o">:=</span><span class="mi">0</span><span class="p">;</span>
<span class="k">IF</span> <span class="n">En</span> <span class="k">AND</span> <span class="n">bCalculate</span> <span class="k">THEN</span>
	<span class="o">//</span><span class="n">Serach</span> <span class="k">for</span> <span class="n">crossings</span> <span class="k">of</span> <span class="n">nDCOffset</span>
	<span class="k">FOR</span> <span class="n">nIndex</span><span class="o">:=</span><span class="mi">1</span> <span class="k">TO</span> <span class="n">cBuffersize</span><span class="o">-</span><span class="mi">1</span> <span class="n">DO</span>
		<span class="k">IF</span><span class="p">((</span><span class="n">aBufferValue</span><span class="p">[</span><span class="n">nIndex</span><span class="p">]</span><span class="o">&gt;</span><span class="n">nDCOffset</span> <span class="k">AND</span> <span class="n">aBufferValue</span><span class="p">[</span><span class="n">nIndex</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">&lt;=</span><span class="n">nDCOffset</span><span class="p">)</span> <span class="k">OR</span> <span class="p">(</span><span class="n">aBufferValue</span><span class="p">[</span><span class="n">nIndex</span><span class="p">]</span><span class="o">&lt;</span><span class="n">nDCOffset</span> <span class="k">AND</span> <span class="n">aBufferValue</span><span class="p">[</span><span class="n">nIndex</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">&gt;=</span><span class="n">nDCOffset</span><span class="p">))</span>	<span class="k">THEN</span>
			<span class="k">IF</span><span class="p">(</span><span class="n">nCrossings</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span> <span class="k">THEN</span>
				<span class="n">nFirstZeroCrossing</span><span class="o">:=</span><span class="n">nIndex</span><span class="p">;</span>
			<span class="n">END_IF</span>
			<span class="n">nLastZeroCrossing</span><span class="o">:=</span><span class="n">nIndex</span><span class="p">;</span>
			<span class="n">nCrossings</span><span class="o">:=</span><span class="n">nCrossings</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span>
		<span class="n">END_IF</span>
	<span class="n">END_FOR</span>	
	
	<span class="k">IF</span> <span class="n">nFirstZeroCrossing</span> <span class="o">&lt;</span> <span class="n">nLastZeroCrossing</span>  <span class="k">AND</span>  <span class="n">nCrossings</span><span class="o">&gt;</span><span class="mi">2</span> <span class="k">THEN</span>
		<span class="o">//</span><span class="n">interpolate</span> <span class="n">zero</span> <span class="n">crossings</span> <span class="k">for</span> <span class="n">higher</span> <span class="n">accuracy</span>
		<span class="n">rTimeRes</span><span class="o">:=</span><span class="n">UDINT_TO_REAL</span><span class="p">(</span><span class="n">aBufferDcTime</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">aBufferDcTime</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span> <span class="o">//</span><span class="k">Buffer</span> <span class="n">must</span> <span class="n">contain</span> <span class="n">more</span> <span class="n">than</span> <span class="mi">2</span> <span class="n">values</span>
		<span class="n">rRange</span><span class="o">:=</span><span class="n">INT_TO_REAL</span><span class="p">(</span><span class="k">ABS</span><span class="p">(</span><span class="n">aBufferValue</span><span class="p">[</span><span class="n">nFirstZeroCrossing</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">aBufferValue</span><span class="p">[</span><span class="n">nFirstZeroCrossing</span><span class="p">]));</span>
		<span class="n">rTimeFirst</span><span class="o">:=</span><span class="n">UDINT_TO_REAL</span><span class="p">(</span> <span class="n">aBufferDcTime</span><span class="p">[</span><span class="n">nFirstZeroCrossing</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span><span class="o">+</span><span class="k">ABS</span><span class="p">(</span><span class="n">INT_TO_REAL</span><span class="p">(</span><span class="n">aBufferValue</span><span class="p">[</span><span class="n">nFirstZeroCrossing</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span><span class="o">/</span><span class="n">rRange</span><span class="o">*</span><span class="n">rTimeRes</span><span class="p">);</span>
		<span class="n">rRange</span><span class="o">:=</span><span class="n">INT_TO_REAL</span><span class="p">(</span><span class="k">ABS</span><span class="p">(</span><span class="n">aBufferValue</span><span class="p">[</span><span class="n">nLastZeroCrossing</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">aBufferValue</span><span class="p">[</span><span class="n">nLastZeroCrossing</span><span class="p">]));</span>
		<span class="n">rTimeLast</span><span class="o">:=</span><span class="n">UDINT_TO_REAL</span><span class="p">(</span> <span class="n">aBufferDcTime</span><span class="p">[</span><span class="n">nLastZeroCrossing</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span><span class="o">+</span><span class="k">ABS</span><span class="p">(</span><span class="n">INT_TO_REAL</span><span class="p">(</span><span class="n">aBufferValue</span><span class="p">[</span><span class="n">nLastZeroCrossing</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span><span class="o">/</span><span class="n">rRange</span><span class="o">*</span><span class="n">rTimeRes</span><span class="p">);</span>

		<span class="o">//</span><span class="kt">Time</span> <span class="n">span</span> <span class="n">first</span> <span class="k">to</span> <span class="n">last</span> <span class="p">(</span><span class="n">considering</span> <span class="n">that</span> <span class="n">max</span> <span class="n">one</span> <span class="kt">time</span> <span class="n">counter</span> <span class="n">overflow</span> <span class="n">have</span> <span class="n">occured</span> <span class="k">in</span> <span class="n">the</span> <span class="n">total</span> <span class="kt">time</span> <span class="k">range</span> <span class="k">of</span> <span class="n">the</span> <span class="kt">time</span> <span class="k">buffer</span><span class="p">)</span>	
		<span class="k">IF</span> <span class="n">rTimeFirst</span><span class="o">&lt;</span><span class="n">rTimeLast</span> <span class="k">THEN</span>		
			<span class="n">rTimeSpan</span><span class="o">:=</span><span class="n">rTimeLast</span><span class="o">-</span><span class="n">rTimeFirst</span><span class="p">;</span>
		<span class="k">ELSE</span> <span class="o">//</span><span class="n">overflow</span> <span class="k">of</span> <span class="n">counter</span> <span class="n">once</span> <span class="p">(</span><span class="n">only</span> <span class="mi">32</span><span class="kt">bit</span> <span class="n">timestamp</span> <span class="o">=</span><span class="mi">4</span><span class="p">.</span><span class="mi">29</span><span class="n">seconds</span><span class="p">)</span>
			<span class="n">rTimeSpan</span><span class="o">:=</span><span class="mi">4294967296</span><span class="p">.</span><span class="mi">0</span><span class="o">-</span><span class="n">rTimeFirst</span><span class="o">+</span><span class="n">rTimeLast</span><span class="p">;</span>
		<span class="n">END_IF</span>
		
		<span class="n">fActFrequency</span><span class="o">:=</span><span class="mi">1000000000</span><span class="p">.</span><span class="mi">0</span><span class="o">/</span><span class="n">rTimeSpan</span><span class="o">*</span><span class="p">(</span><span class="n">nCrossings</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">;</span> <span class="o">//</span><span class="n">two</span> <span class="n">crossings</span> <span class="n">per</span> <span class="n">period</span> <span class="o">=&gt;</span> <span class="n">Average</span> <span class="n">frequency</span> <span class="n">over</span> <span class="k">buffer</span><span class="p">.</span>
	<span class="k">ELSE</span>
		<span class="n">fActFrequency</span><span class="o">:=</span><span class="mi">0</span><span class="p">;</span>
	<span class="n">END_IF</span>
<span class="n">END_IF</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-hardware-ethercat-terminals-digital-inputs-el1008-tcpou-tcplcobject">
<h2>tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Digital_Inputs/EL1008.TcPOU (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-digital-inputs-el1008-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="section" id="el1008-declaration">
<h3>EL1008: Declaration<a class="headerlink" href="#el1008-declaration" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="o">///</span><span class="n">EL1008</span> <span class="o">|</span> <span class="mi">8</span><span class="o">-</span><span class="n">channel</span> <span class="n">digital</span> <span class="n">input</span> <span class="n">terminal</span> <span class="mi">24</span> <span class="n">V</span> <span class="n">DC</span><span class="p">,</span> <span class="mi">3</span> <span class="n">ms</span>
<span class="n">FUNCTION_BLOCK</span> <span class="n">EL1008</span>

<span class="n">VAR_INPUT</span>
	<span class="n">En</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">iTerminal_ID</span> <span class="o">:</span> <span class="n">INT</span><span class="p">;</span>
	<span class="n">ErrorSystem</span> <span class="o">:</span> <span class="n">POINTER</span> <span class="k">TO</span> <span class="n">ST_ErrorSystem</span><span class="p">;</span>
<span class="n">END_VAR</span>

<span class="n">VAR_OUTPUT</span>
	<span class="n">EnO</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bDi_1</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bDi_2</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bDi_3</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bDi_4</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bDi_5</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bDi_6</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bDi_7</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bDi_8</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bError</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
<span class="n">END_VAR</span>

<span class="n">VAR</span>
	<span class="n">Channel_1_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">Channel_2_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">Channel_3_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">Channel_4_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">Channel_5_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">Channel_6_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">Channel_7_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">Channel_8_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">WcState_WcState</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">InfoData_State</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">UINT</span><span class="p">;</span>
	
	<span class="o">//</span><span class="n">FB</span><span class="o">-</span><span class="n">s</span>
	<span class="n">EL1008_Error</span> <span class="o">:</span> <span class="n">FB_TerminalError</span><span class="p">;</span>
<span class="n">END_VAR</span>
</pre></div>
</div>
</div>
<div class="section" id="el1008-st">
<h3>EL1008: ST<a class="headerlink" href="#el1008-st" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="n">EnO</span><span class="o">:=</span><span class="n">En</span><span class="p">;</span>

<span class="o">//</span><span class="n">Error</span> <span class="n">FB</span> <span class="n">instance</span>
<span class="n">EL1008_Error</span><span class="p">(</span>
	<span class="n">En</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span>
	<span class="n">iTerminal_ID</span> <span class="o">:=</span> <span class="n">iTerminal_ID</span><span class="p">,</span>
	<span class="n">bWcState</span> <span class="o">:=</span> <span class="n">WcState_WcState</span><span class="p">,</span>
	<span class="n">uiInfoData_State</span> <span class="o">:=</span> <span class="n">InfoData_State</span><span class="p">,</span>
	<span class="n">pErrorSystem</span> <span class="o">:=</span> <span class="n">ErrorSystem</span><span class="p">,</span>
	<span class="n">bError</span> <span class="o">=&gt;</span> <span class="n">bError</span><span class="p">,</span>
<span class="p">);</span>

<span class="k">IF</span> <span class="n">En</span> <span class="k">THEN</span>
	<span class="k">IF</span> <span class="n">bError</span><span class="o">=</span><span class="n">FALSE</span> <span class="k">THEN</span>
		<span class="n">bDi_1</span><span class="o">:=</span><span class="n">Channel_1_Input</span><span class="p">;</span>
		<span class="n">bDi_2</span><span class="o">:=</span><span class="n">Channel_2_Input</span><span class="p">;</span>
		<span class="n">bDi_3</span><span class="o">:=</span><span class="n">Channel_3_Input</span><span class="p">;</span>
		<span class="n">bDi_4</span><span class="o">:=</span><span class="n">Channel_4_Input</span><span class="p">;</span>
		<span class="n">bDi_5</span><span class="o">:=</span><span class="n">Channel_5_Input</span><span class="p">;</span>
		<span class="n">bDi_6</span><span class="o">:=</span><span class="n">Channel_6_Input</span><span class="p">;</span>
		<span class="n">bDi_7</span><span class="o">:=</span><span class="n">Channel_7_Input</span><span class="p">;</span>
		<span class="n">bDi_8</span><span class="o">:=</span><span class="n">Channel_8_Input</span><span class="p">;</span>
	<span class="k">ELSE</span>
		<span class="n">bDi_1</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
		<span class="n">bDi_2</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
		<span class="n">bDi_3</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
		<span class="n">bDi_4</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
		<span class="n">bDi_5</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
		<span class="n">bDi_6</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
		<span class="n">bDi_7</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
		<span class="n">bDi_8</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
	<span class="n">END_IF</span>
<span class="n">END_IF</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-hardware-ethercat-terminals-digital-inputs-el1018-tcpou-tcplcobject">
<h2>tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Digital_Inputs/EL1018.TcPOU (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-digital-inputs-el1018-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="section" id="el1018-declaration">
<h3>EL1018: Declaration<a class="headerlink" href="#el1018-declaration" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span>///EL1018 | 8-channel digital input terminal 24 V DC, 10 Âµs
FUNCTION_BLOCK EL1018

VAR_INPUT
	En: BOOL;
	iTerminal_ID : INT;
	ErrorSystem : POINTER TO ST_ErrorSystem;
END_VAR

VAR_OUTPUT
	EnO: BOOL;
	bDi_1: BOOL;
	bDi_2: BOOL;
	bDi_3: BOOL;
	bDi_4: BOOL;
	bDi_5: BOOL;
	bDi_6: BOOL;
	bDi_7: BOOL;
	bDi_8: BOOL;
	bError : BOOL;
END_VAR

VAR
	Channel_1_Input AT %I*: BOOL;
	Channel_2_Input AT %I*: BOOL;
	Channel_3_Input AT %I*: BOOL;
	Channel_4_Input AT %I*: BOOL;
	Channel_5_Input AT %I*: BOOL;
	Channel_6_Input AT %I*: BOOL;
	Channel_7_Input AT %I*: BOOL;
	Channel_8_Input AT %I*: BOOL;
	WcState_WcState AT %I*: BOOL;
	InfoData_State  AT %I*: UINT;
	
	//FB-s
	EL1018_Error : FB_TerminalError;
END_VAR
</pre></div>
</div>
</div>
<div class="section" id="el1018-st">
<h3>EL1018: ST<a class="headerlink" href="#el1018-st" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="n">EnO</span><span class="o">:=</span><span class="n">En</span><span class="p">;</span>

<span class="o">//</span><span class="n">Error</span> <span class="n">FB</span> <span class="n">instance</span>
<span class="n">EL1018_Error</span><span class="p">(</span>
	<span class="n">En</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span>
	<span class="n">iTerminal_ID</span> <span class="o">:=</span> <span class="n">iTerminal_ID</span><span class="p">,</span>
	<span class="n">bWcState</span> <span class="o">:=</span> <span class="n">WcState_WcState</span><span class="p">,</span>
	<span class="n">uiInfoData_State</span> <span class="o">:=</span> <span class="n">InfoData_State</span><span class="p">,</span>
	<span class="n">pErrorSystem</span> <span class="o">:=</span> <span class="n">ErrorSystem</span><span class="p">,</span>
	<span class="n">bError</span> <span class="o">=&gt;</span> <span class="n">bError</span><span class="p">,</span>
<span class="p">);</span>

<span class="k">IF</span> <span class="n">En</span> <span class="k">THEN</span>
	<span class="k">IF</span> <span class="n">bError</span><span class="o">=</span><span class="n">FALSE</span> <span class="k">THEN</span>
		<span class="n">bDi_1</span><span class="o">:=</span><span class="n">Channel_1_Input</span><span class="p">;</span>
		<span class="n">bDi_2</span><span class="o">:=</span><span class="n">Channel_2_Input</span><span class="p">;</span>
		<span class="n">bDi_3</span><span class="o">:=</span><span class="n">Channel_3_Input</span><span class="p">;</span>
		<span class="n">bDi_4</span><span class="o">:=</span><span class="n">Channel_4_Input</span><span class="p">;</span>
		<span class="n">bDi_5</span><span class="o">:=</span><span class="n">Channel_5_Input</span><span class="p">;</span>
		<span class="n">bDi_6</span><span class="o">:=</span><span class="n">Channel_6_Input</span><span class="p">;</span>
		<span class="n">bDi_7</span><span class="o">:=</span><span class="n">Channel_7_Input</span><span class="p">;</span>
		<span class="n">bDi_8</span><span class="o">:=</span><span class="n">Channel_8_Input</span><span class="p">;</span>
	<span class="k">ELSE</span>
		<span class="n">bDi_1</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
		<span class="n">bDi_2</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
		<span class="n">bDi_3</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
		<span class="n">bDi_4</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
		<span class="n">bDi_5</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
		<span class="n">bDi_6</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
		<span class="n">bDi_7</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
		<span class="n">bDi_8</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
	<span class="n">END_IF</span>
<span class="n">END_IF</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-hardware-ethercat-terminals-digital-inputs-el1808-tcpou-tcplcobject">
<h2>tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Digital_Inputs/EL1808.TcPOU (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-digital-inputs-el1808-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="section" id="el1808-declaration">
<h3>EL1808: Declaration<a class="headerlink" href="#el1808-declaration" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="o">///</span><span class="n">EL1808</span> <span class="o">|</span> <span class="n">HD</span> <span class="n">EtherCAT</span> <span class="n">Terminals</span><span class="p">,</span> <span class="mi">8</span><span class="o">-</span><span class="n">channel</span> <span class="n">digital</span> <span class="n">input</span> <span class="mi">24</span> <span class="n">V</span> <span class="n">DC</span><span class="p">,</span> <span class="mi">3</span> <span class="n">ms</span><span class="p">,</span> <span class="mi">2</span><span class="o">-</span><span class="n">wire</span> <span class="n">connection</span>
<span class="n">FUNCTION_BLOCK</span> <span class="n">EL1808</span>

<span class="n">VAR_INPUT</span>
	<span class="n">En</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">iTerminal_ID</span> <span class="o">:</span> <span class="n">INT</span><span class="p">;</span>
	<span class="n">ErrorSystem</span> <span class="o">:</span> <span class="n">POINTER</span> <span class="k">TO</span> <span class="n">ST_ErrorSystem</span><span class="p">;</span>
<span class="n">END_VAR</span>

<span class="n">VAR_OUTPUT</span>
	<span class="n">EnO</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bDi_1</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bDi_2</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bDi_3</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bDi_4</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bDi_5</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bDi_6</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bDi_7</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bDi_8</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bError</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
<span class="n">END_VAR</span>

<span class="n">VAR</span>
	<span class="n">Channel_1_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">Channel_2_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">Channel_3_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">Channel_4_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">Channel_5_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">Channel_6_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">Channel_7_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">Channel_8_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">WcState_WcState</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">InfoData_State</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">UINT</span><span class="p">;</span>
	
	<span class="o">//</span><span class="n">FB</span><span class="o">-</span><span class="n">s</span>
	<span class="n">EL1808_Error</span> <span class="o">:</span> <span class="n">FB_TerminalError</span><span class="p">;</span>
<span class="n">END_VAR</span>
</pre></div>
</div>
</div>
<div class="section" id="el1808-st">
<h3>EL1808: ST<a class="headerlink" href="#el1808-st" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="n">EnO</span><span class="o">:=</span><span class="n">En</span><span class="p">;</span>

<span class="o">//</span><span class="n">Error</span> <span class="n">FB</span> <span class="n">instance</span>
<span class="n">EL1808_Error</span><span class="p">(</span>
	<span class="n">En</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span>
	<span class="n">iTerminal_ID</span> <span class="o">:=</span> <span class="n">iTerminal_ID</span><span class="p">,</span>
	<span class="n">bWcState</span> <span class="o">:=</span> <span class="n">WcState_WcState</span><span class="p">,</span>
	<span class="n">uiInfoData_State</span> <span class="o">:=</span> <span class="n">InfoData_State</span><span class="p">,</span>
	<span class="n">pErrorSystem</span> <span class="o">:=</span> <span class="n">ErrorSystem</span><span class="p">,</span>
	<span class="n">bError</span> <span class="o">=&gt;</span> <span class="n">bError</span><span class="p">,</span>
<span class="p">);</span>

<span class="k">IF</span> <span class="n">En</span> <span class="k">THEN</span>
	<span class="k">IF</span> <span class="n">bError</span><span class="o">=</span><span class="n">FALSE</span> <span class="k">THEN</span>
		<span class="n">bDi_1</span><span class="o">:=</span><span class="n">Channel_1_Input</span><span class="p">;</span>
		<span class="n">bDi_2</span><span class="o">:=</span><span class="n">Channel_2_Input</span><span class="p">;</span>
		<span class="n">bDi_3</span><span class="o">:=</span><span class="n">Channel_3_Input</span><span class="p">;</span>
		<span class="n">bDi_4</span><span class="o">:=</span><span class="n">Channel_4_Input</span><span class="p">;</span>
		<span class="n">bDi_5</span><span class="o">:=</span><span class="n">Channel_5_Input</span><span class="p">;</span>
		<span class="n">bDi_6</span><span class="o">:=</span><span class="n">Channel_6_Input</span><span class="p">;</span>
		<span class="n">bDi_7</span><span class="o">:=</span><span class="n">Channel_7_Input</span><span class="p">;</span>
		<span class="n">bDi_8</span><span class="o">:=</span><span class="n">Channel_8_Input</span><span class="p">;</span>
	<span class="k">ELSE</span>
		<span class="n">bDi_1</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
		<span class="n">bDi_2</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
		<span class="n">bDi_3</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
		<span class="n">bDi_4</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
		<span class="n">bDi_5</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
		<span class="n">bDi_6</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
		<span class="n">bDi_7</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
		<span class="n">bDi_8</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
	<span class="n">END_IF</span>
<span class="n">END_IF</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-hardware-ethercat-terminals-digital-inputs-el1809-tcpou-tcplcobject">
<h2>tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Digital_Inputs/EL1809.TcPOU (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-digital-inputs-el1809-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="section" id="el1809-declaration">
<h3>EL1809: Declaration<a class="headerlink" href="#el1809-declaration" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="o">///</span><span class="n">EL1809</span> <span class="o">|</span> <span class="n">HD</span> <span class="n">EtherCAT</span> <span class="n">Terminals</span><span class="p">,</span> <span class="mi">16</span><span class="o">-</span><span class="n">channel</span> <span class="n">digital</span> <span class="n">input</span> <span class="mi">24</span> <span class="n">V</span> <span class="n">DC</span><span class="p">,</span> <span class="mi">3</span> <span class="n">ms</span>
<span class="n">FUNCTION_BLOCK</span> <span class="n">EL1809</span>

<span class="n">VAR_INPUT</span>
	<span class="n">En</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">iTerminal_ID</span> <span class="o">:</span> <span class="n">INT</span><span class="p">;</span>
	<span class="n">ErrorSystem</span> <span class="o">:</span> <span class="n">POINTER</span> <span class="k">TO</span> <span class="n">ST_ErrorSystem</span><span class="p">;</span>
<span class="n">END_VAR</span>

<span class="n">VAR_OUTPUT</span>
	<span class="n">EnO</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bDi_1</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bDi_2</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bDi_3</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bDi_4</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bDi_5</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bDi_6</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bDi_7</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bDi_8</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bDi_9</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bDi_10</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bDi_11</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bDi_12</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bDi_13</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bDi_14</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bDi_15</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bDi_16</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bError</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
<span class="n">END_VAR</span>

<span class="n">VAR</span>
	<span class="n">Channel_1_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">Channel_2_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">Channel_3_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">Channel_4_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">Channel_5_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">Channel_6_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">Channel_7_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">Channel_8_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">Channel_9_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">Channel_10_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">Channel_11_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">Channel_12_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">Channel_13_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">Channel_14_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">Channel_15_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">Channel_16_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">WcState_WcState</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">InfoData_State</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">UINT</span><span class="p">;</span>
	
	<span class="o">//</span><span class="n">FB</span><span class="o">-</span><span class="n">s</span>
	<span class="n">EL1809_Error</span> <span class="o">:</span> <span class="n">FB_TerminalError</span><span class="p">;</span>
<span class="n">END_VAR</span>
</pre></div>
</div>
</div>
<div class="section" id="el1809-st">
<h3>EL1809: ST<a class="headerlink" href="#el1809-st" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="n">EnO</span><span class="o">:=</span><span class="n">En</span><span class="p">;</span>

<span class="o">//</span><span class="n">Error</span> <span class="n">FB</span> <span class="n">instance</span>
<span class="n">EL1809_Error</span><span class="p">(</span>
	<span class="n">En</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span>
	<span class="n">iTerminal_ID</span> <span class="o">:=</span> <span class="n">iTerminal_ID</span><span class="p">,</span>
	<span class="n">bWcState</span> <span class="o">:=</span> <span class="n">WcState_WcState</span><span class="p">,</span>
	<span class="n">uiInfoData_State</span> <span class="o">:=</span> <span class="n">InfoData_State</span><span class="p">,</span>
	<span class="n">pErrorSystem</span> <span class="o">:=</span> <span class="n">ErrorSystem</span><span class="p">,</span>
	<span class="n">bError</span> <span class="o">=&gt;</span> <span class="n">bError</span><span class="p">,</span>
<span class="p">);</span>

<span class="k">IF</span> <span class="n">En</span> <span class="k">THEN</span>
	<span class="k">IF</span> <span class="n">bError</span><span class="o">=</span><span class="n">FALSE</span> <span class="k">THEN</span>
		<span class="n">bDi_1</span><span class="o">:=</span><span class="n">Channel_1_Input</span><span class="p">;</span>
		<span class="n">bDi_2</span><span class="o">:=</span><span class="n">Channel_2_Input</span><span class="p">;</span>
		<span class="n">bDi_3</span><span class="o">:=</span><span class="n">Channel_3_Input</span><span class="p">;</span>
		<span class="n">bDi_4</span><span class="o">:=</span><span class="n">Channel_4_Input</span><span class="p">;</span>
		<span class="n">bDi_5</span><span class="o">:=</span><span class="n">Channel_5_Input</span><span class="p">;</span>
		<span class="n">bDi_6</span><span class="o">:=</span><span class="n">Channel_6_Input</span><span class="p">;</span>
		<span class="n">bDi_7</span><span class="o">:=</span><span class="n">Channel_7_Input</span><span class="p">;</span>
		<span class="n">bDi_8</span><span class="o">:=</span><span class="n">Channel_8_Input</span><span class="p">;</span>
		<span class="n">bDi_9</span><span class="o">:=</span><span class="n">Channel_9_Input</span><span class="p">;</span>
		<span class="n">bDi_10</span><span class="o">:=</span><span class="n">Channel_10_Input</span><span class="p">;</span>
		<span class="n">bDi_11</span><span class="o">:=</span><span class="n">Channel_11_Input</span><span class="p">;</span>
		<span class="n">bDi_12</span><span class="o">:=</span><span class="n">Channel_12_Input</span><span class="p">;</span>
		<span class="n">bDi_13</span><span class="o">:=</span><span class="n">Channel_13_Input</span><span class="p">;</span>
		<span class="n">bDi_14</span><span class="o">:=</span><span class="n">Channel_14_Input</span><span class="p">;</span>
		<span class="n">bDi_15</span><span class="o">:=</span><span class="n">Channel_15_Input</span><span class="p">;</span>
		<span class="n">bDi_16</span><span class="o">:=</span><span class="n">Channel_16_Input</span><span class="p">;</span>
	<span class="k">ELSE</span>
		<span class="n">bDi_1</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
		<span class="n">bDi_2</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
		<span class="n">bDi_3</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
		<span class="n">bDi_4</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
		<span class="n">bDi_5</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
		<span class="n">bDi_6</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
		<span class="n">bDi_7</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
		<span class="n">bDi_8</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
		<span class="n">bDi_9</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
		<span class="n">bDi_10</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
		<span class="n">bDi_11</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
		<span class="n">bDi_12</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
		<span class="n">bDi_13</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
		<span class="n">bDi_14</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
		<span class="n">bDi_15</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
		<span class="n">bDi_16</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
	<span class="n">END_IF</span>
<span class="n">END_IF</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-hardware-ethercat-terminals-digital-inputs-el1819-tcpou-tcplcobject">
<h2>tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Digital_Inputs/EL1819.TcPOU (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-digital-inputs-el1819-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="section" id="el1819-declaration">
<h3>EL1819: Declaration<a class="headerlink" href="#el1819-declaration" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span>///EL1819 | HD EtherCAT Terminals, 16-channel digital input 24 V DC, 10 Âµs
FUNCTION_BLOCK EL1819

VAR_INPUT
	En: BOOL;
	iTerminal_ID : INT;
	ErrorSystem : POINTER TO ST_ErrorSystem;
END_VAR

VAR_OUTPUT
	EnO: BOOL;
	bDi_1: BOOL;
	bDi_2: BOOL;
	bDi_3: BOOL;
	bDi_4: BOOL;
	bDi_5: BOOL;
	bDi_6: BOOL;
	bDi_7: BOOL;
	bDi_8: BOOL;
	bDi_9: BOOL;
	bDi_10: BOOL;
	bDi_11: BOOL;
	bDi_12: BOOL;
	bDi_13: BOOL;
	bDi_14: BOOL;
	bDi_15: BOOL;
	bDi_16: BOOL;
	bError: BOOL;
END_VAR

VAR
	Channel_1_Input AT %I*: BOOL;
	Channel_2_Input AT %I*: BOOL;
	Channel_3_Input AT %I*: BOOL;
	Channel_4_Input AT %I*: BOOL;
	Channel_5_Input AT %I*: BOOL;
	Channel_6_Input AT %I*: BOOL;
	Channel_7_Input AT %I*: BOOL;
	Channel_8_Input AT %I*: BOOL;
	Channel_9_Input AT %I*: BOOL;
	Channel_10_Input AT %I*: BOOL;
	Channel_11_Input AT %I*: BOOL;
	Channel_12_Input AT %I*: BOOL;
	Channel_13_Input AT %I*: BOOL;
	Channel_14_Input AT %I*: BOOL;
	Channel_15_Input AT %I*: BOOL;
	Channel_16_Input AT %I*: BOOL;
	WcState_WcState AT %I*: BOOL;
	InfoData_State AT %I*: UINT;
	
	//FB-s
	EL1819_Error : FB_TerminalError;
END_VAR
</pre></div>
</div>
</div>
<div class="section" id="el1819-st">
<h3>EL1819: ST<a class="headerlink" href="#el1819-st" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="n">EnO</span><span class="o">:=</span><span class="n">En</span><span class="p">;</span>

<span class="o">//</span><span class="n">Error</span> <span class="n">FB</span> <span class="n">instance</span>
<span class="n">EL1819_Error</span><span class="p">(</span>
	<span class="n">En</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span>
	<span class="n">iTerminal_ID</span> <span class="o">:=</span> <span class="n">iTerminal_ID</span><span class="p">,</span>
	<span class="n">bWcState</span> <span class="o">:=</span> <span class="n">WcState_WcState</span><span class="p">,</span>
	<span class="n">uiInfoData_State</span> <span class="o">:=</span> <span class="n">InfoData_State</span><span class="p">,</span>
	<span class="n">pErrorSystem</span> <span class="o">:=</span> <span class="n">ErrorSystem</span><span class="p">,</span>
	<span class="n">bError</span> <span class="o">=&gt;</span> <span class="n">bError</span><span class="p">,</span>
<span class="p">);</span>

<span class="k">IF</span> <span class="n">En</span> <span class="k">THEN</span>
	<span class="k">IF</span> <span class="n">bError</span><span class="o">=</span><span class="n">FALSE</span> <span class="k">THEN</span>
		<span class="n">bDi_1</span><span class="o">:=</span><span class="n">Channel_1_Input</span><span class="p">;</span>
		<span class="n">bDi_2</span><span class="o">:=</span><span class="n">Channel_2_Input</span><span class="p">;</span>
		<span class="n">bDi_3</span><span class="o">:=</span><span class="n">Channel_3_Input</span><span class="p">;</span>
		<span class="n">bDi_4</span><span class="o">:=</span><span class="n">Channel_4_Input</span><span class="p">;</span>
		<span class="n">bDi_5</span><span class="o">:=</span><span class="n">Channel_5_Input</span><span class="p">;</span>
		<span class="n">bDi_6</span><span class="o">:=</span><span class="n">Channel_6_Input</span><span class="p">;</span>
		<span class="n">bDi_7</span><span class="o">:=</span><span class="n">Channel_7_Input</span><span class="p">;</span>
		<span class="n">bDi_8</span><span class="o">:=</span><span class="n">Channel_8_Input</span><span class="p">;</span>
		<span class="n">bDi_9</span><span class="o">:=</span><span class="n">Channel_9_Input</span><span class="p">;</span>
		<span class="n">bDi_10</span><span class="o">:=</span><span class="n">Channel_10_Input</span><span class="p">;</span>
		<span class="n">bDi_11</span><span class="o">:=</span><span class="n">Channel_11_Input</span><span class="p">;</span>
		<span class="n">bDi_12</span><span class="o">:=</span><span class="n">Channel_12_Input</span><span class="p">;</span>
		<span class="n">bDi_13</span><span class="o">:=</span><span class="n">Channel_13_Input</span><span class="p">;</span>
		<span class="n">bDi_14</span><span class="o">:=</span><span class="n">Channel_14_Input</span><span class="p">;</span>
		<span class="n">bDi_15</span><span class="o">:=</span><span class="n">Channel_15_Input</span><span class="p">;</span>
		<span class="n">bDi_16</span><span class="o">:=</span><span class="n">Channel_16_Input</span><span class="p">;</span>
	<span class="k">ELSE</span>
		<span class="n">bDi_1</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
		<span class="n">bDi_2</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
		<span class="n">bDi_3</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
		<span class="n">bDi_4</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
		<span class="n">bDi_5</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
		<span class="n">bDi_6</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
		<span class="n">bDi_7</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
		<span class="n">bDi_8</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
		<span class="n">bDi_9</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
		<span class="n">bDi_10</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
		<span class="n">bDi_11</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
		<span class="n">bDi_12</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
		<span class="n">bDi_13</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
		<span class="n">bDi_14</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
		<span class="n">bDi_15</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
		<span class="n">bDi_16</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
	<span class="n">END_IF</span>
<span class="n">END_IF</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-hardware-ethercat-terminals-digital-inputs-fb-el1252asm-v1-00-tcpou-tcplcobject">
<h2>tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Digital_Inputs/FB_EL1252ASM_v1_00.TcPOU (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-digital-inputs-fb-el1252asm-v1-00-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="section" id="fb-el1252asm-v1-00-declaration">
<h3>FB_EL1252ASM_v1_00: Declaration<a class="headerlink" href="#fb-el1252asm-v1-00-declaration" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="n">FUNCTION_BLOCK</span> <span class="n">FB_EL1252ASM_v1_00</span>
<span class="n">VAR_INPUT</span>
	<span class="n">En</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
<span class="n">END_VAR</span>
<span class="n">VAR_OUTPUT</span>
	<span class="n">EnO</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">Di_1</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">Di_2</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">Di_1_LatchTimePos</span><span class="o">:</span> <span class="n">ULINT</span><span class="p">;</span>
	<span class="n">Di_2_LatchTimePos</span><span class="o">:</span> <span class="n">ULINT</span><span class="p">;</span>
	<span class="n">Di_1_LatchTimeNeg</span><span class="o">:</span> <span class="n">ULINT</span><span class="p">;</span>
	<span class="n">Di_2_LatchTimeNeg</span><span class="o">:</span> <span class="n">ULINT</span><span class="p">;</span>
	<span class="o">///</span><span class="n">Below</span> <span class="n">bits</span> <span class="n">can</span> <span class="n">be</span> <span class="n">used</span> <span class="n">but</span> <span class="k">then</span> <span class="n">they</span> <span class="n">must</span> <span class="n">be</span> <span class="n">enabled</span> <span class="k">in</span> <span class="n">the</span> <span class="n">COE</span> <span class="k">of</span> <span class="n">the</span> <span class="n">card</span><span class="p">.</span> <span class="n">Nicklas</span> <span class="n">suggested</span> <span class="k">to</span> <span class="k">not</span> <span class="k">use</span> <span class="nn">these</span> <span class="p">(</span><span class="n">since</span> <span class="n">something</span> <span class="n">wss</span> <span class="n">written</span> <span class="n">that</span> <span class="n">you</span> <span class="k">then</span> <span class="n">only</span> <span class="n">were</span> <span class="n">allowed</span> <span class="k">to</span> <span class="n">read</span> <span class="n">the</span> <span class="n">latch</span> <span class="kt">time</span> <span class="n">onece</span> <span class="p">(</span><span class="n">some</span> <span class="n">kkind</span> <span class="k">of</span> <span class="n">auto</span> <span class="n">reset</span><span class="o">??</span><span class="p">))</span>	
	<span class="o">///</span><span class="n">Di_1_LatchNeg</span><span class="o">:</span><span class="n">BOOL</span><span class="p">;</span>
	<span class="o">///</span>	<span class="n">Di_1_LatchPos</span><span class="o">:</span><span class="n">BOOL</span><span class="p">;</span>
	<span class="o">///</span>	<span class="n">Di_2_LatchNeg</span><span class="o">:</span><span class="n">BOOL</span><span class="p">;</span>
	<span class="o">///</span>	<span class="n">Di_2_LatchPos</span><span class="o">:</span><span class="n">BOOL</span><span class="p">;</span>
	<span class="n">Error</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
<span class="n">END_VAR</span>
<span class="n">VAR</span>
	<span class="n">Channel_1_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">Channel_2_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="o">///</span><span class="n">Latch_Status1</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">USINT</span><span class="p">;</span>
	<span class="o">///</span>	<span class="n">Latch_Status2</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">USINT</span><span class="p">;</span>
	<span class="n">Latch_LatchPos1</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">ULINT</span><span class="p">;</span>
	<span class="n">Latch_LatchNeg1</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">ULINT</span><span class="p">;</span>
	<span class="n">Latch_LatchPos2</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">ULINT</span><span class="p">;</span>
	<span class="n">Latch_LatchNeg2</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">ULINT</span><span class="p">;</span>
	<span class="n">WcState_WcState</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">InfoData_State</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">UINT</span><span class="p">;</span>
<span class="n">END_VAR</span>
</pre></div>
</div>
</div>
<div class="section" id="fb-el1252asm-v1-00-st">
<h3>FB_EL1252ASM_v1_00: ST<a class="headerlink" href="#fb-el1252asm-v1-00-st" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="n">EnO</span><span class="o">:=</span><span class="n">En</span><span class="p">;</span>

<span class="k">IF</span> <span class="n">En</span> <span class="k">AND</span> <span class="p">(</span><span class="n">WcState_WcState</span> <span class="k">OR</span> <span class="n">InfoData_State</span><span class="o">&lt;&gt;</span><span class="mi">16#8</span><span class="p">)</span> <span class="k">THEN</span> <span class="o">//</span><span class="n">InfoData_State</span><span class="o">==</span><span class="mi">0</span> <span class="o">=&gt;</span> <span class="k">in</span> <span class="n">OP</span> <span class="n">mode</span>
	<span class="n">Error</span><span class="o">:=</span><span class="n">TRUE</span><span class="p">;</span>
<span class="k">ELSE</span>
	<span class="n">Error</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
<span class="n">END_IF</span>

<span class="k">IF</span> <span class="n">En</span> <span class="k">THEN</span>
	<span class="k">IF</span> <span class="n">Error</span><span class="o">=</span><span class="n">FALSE</span> <span class="k">THEN</span>
		<span class="n">Di_1</span><span class="o">:=</span><span class="n">Channel_1_Input</span><span class="p">;</span>
		<span class="n">Di_2</span><span class="o">:=</span><span class="n">Channel_2_Input</span><span class="p">;</span>
	<span class="p">(</span><span class="o">*</span>	<span class="n">Di_1_LatchPos</span><span class="o">:=</span><span class="n">Latch_Status1</span><span class="p">.</span><span class="mi">0</span><span class="p">;</span>
		<span class="n">Di_1_LatchNeg</span><span class="o">:=</span><span class="n">Latch_Status1</span><span class="p">.</span><span class="mi">1</span><span class="p">;</span>
		<span class="n">Di_2_LatchPos</span><span class="o">:=</span><span class="n">Latch_Status2</span><span class="p">.</span><span class="mi">0</span><span class="p">;</span>
		<span class="n">Di_2_LatchNeg</span><span class="o">:=</span><span class="n">Latch_Status2</span><span class="p">.</span><span class="mi">1</span><span class="p">;</span><span class="o">*</span><span class="p">)</span>
		<span class="n">Di_1_LatchTimePos</span><span class="o">:=</span><span class="n">Latch_LatchPos1</span><span class="p">;</span>
		<span class="n">Di_2_LatchTimePos</span><span class="o">:=</span><span class="n">Latch_LatchPos2</span><span class="p">;</span>		
		<span class="n">Di_1_LatchTimeNeg</span><span class="o">:=</span><span class="n">Latch_LatchNeg1</span><span class="p">;</span>		
		<span class="n">Di_2_LatchTimeNeg</span><span class="o">:=</span><span class="n">Latch_LatchNeg2</span><span class="p">;</span>
		
	<span class="k">ELSE</span>
		<span class="n">Di_1</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
		<span class="n">Di_2</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
	<span class="n">END_IF</span>
<span class="n">END_IF</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-hardware-ethercat-terminals-digital-outputs-el2014-tcpou-tcplcobject">
<h2>tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Digital_Outputs/EL2014.TcPOU (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-digital-outputs-el2014-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="section" id="el2014-declaration">
<h3>EL2014: Declaration<a class="headerlink" href="#el2014-declaration" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="n">FUNCTION_BLOCK</span> <span class="n">EL2014</span>
<span class="n">VAR_INPUT</span>
	<span class="n">En</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">iTerminal_ID</span> <span class="o">:</span> <span class="n">INT</span><span class="p">;</span> 
	<span class="n">bDo_1</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bDo_2</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bDo_3</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bDo_4</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">ErrorSystem</span> <span class="o">:</span> <span class="n">POINTER</span> <span class="k">TO</span> <span class="n">ST_ErrorSystem</span><span class="p">;</span>
<span class="n">END_VAR</span>

<span class="n">VAR_OUTPUT</span>
	<span class="n">EnO</span> <span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bError</span> <span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
<span class="n">END_VAR</span>

<span class="n">VAR</span>
	<span class="n">Channel_1_Output</span> <span class="n">AT</span> <span class="o">%</span><span class="n">Q</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">Channel_2_Output</span> <span class="n">AT</span> <span class="o">%</span><span class="n">Q</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">Channel_3_Output</span> <span class="n">AT</span> <span class="o">%</span><span class="n">Q</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">Channel_4_Output</span> <span class="n">AT</span> <span class="o">%</span><span class="n">Q</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">WcState_WcState</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">InfoData_State</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">UINT</span><span class="p">;</span>
	
	<span class="o">//</span><span class="n">FB</span><span class="o">-</span><span class="n">s</span>
	<span class="n">EL2014_Error</span> <span class="o">:</span> <span class="n">FB_TerminalError</span><span class="p">;</span>
<span class="n">END_VAR</span>
</pre></div>
</div>
</div>
<div class="section" id="el2014-st">
<h3>EL2014: ST<a class="headerlink" href="#el2014-st" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="o">*</span>
<span class="o">*</span> <span class="n">TODO</span><span class="o">:</span>
<span class="o">*</span> <span class="n">Channel</span> <span class="n">diagnostic</span> <span class="n">variables</span> <span class="k">and</span> <span class="n">device</span> <span class="n">diag</span> <span class="n">variables</span>
<span class="o">*</span><span class="p">)</span>

<span class="n">EnO</span><span class="o">:=</span><span class="n">En</span><span class="p">;</span>

<span class="n">EL2014_Error</span><span class="p">(</span>
	<span class="n">En</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span>
	<span class="n">iTerminal_ID</span> <span class="o">:=</span> <span class="n">iTerminal_ID</span><span class="p">,</span>
	<span class="n">bWcState</span> <span class="o">:=</span> <span class="n">WcState_WcState</span><span class="p">,</span>
	<span class="n">uiInfoData_State</span> <span class="o">:=</span> <span class="n">InfoData_State</span><span class="p">,</span>
	<span class="n">pErrorSystem</span> <span class="o">:=</span> <span class="n">ErrorSystem</span><span class="p">,</span>
	<span class="n">bError</span> <span class="o">=&gt;</span> <span class="n">bError</span><span class="p">,</span>
<span class="p">);</span>

<span class="k">IF</span> <span class="n">En</span> <span class="k">THEN</span>
	<span class="k">IF</span> <span class="n">bError</span><span class="o">=</span><span class="n">FALSE</span> <span class="k">THEN</span>
		<span class="n">Channel_1_Output</span><span class="o">:=</span><span class="n">bDo_1</span><span class="p">;</span>
		<span class="n">Channel_2_Output</span><span class="o">:=</span><span class="n">bDo_2</span><span class="p">;</span>
		<span class="n">Channel_3_Output</span><span class="o">:=</span><span class="n">bDo_3</span><span class="p">;</span>
		<span class="n">Channel_4_Output</span><span class="o">:=</span><span class="n">bDo_4</span><span class="p">;</span>
	<span class="k">ELSE</span>
		<span class="n">Channel_1_Output</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
		<span class="n">Channel_2_Output</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
		<span class="n">Channel_3_Output</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
		<span class="n">Channel_4_Output</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
	<span class="n">END_IF</span>
<span class="n">END_IF</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-hardware-ethercat-terminals-digital-outputs-el2252-tcpou-tcplcobject">
<h2>tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Digital_Outputs/EL2252.TcPOU (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-digital-outputs-el2252-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="section" id="el2252-declaration">
<h3>EL2252: Declaration<a class="headerlink" href="#el2252-declaration" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="o">///</span><span class="n">EL2252</span> <span class="o">|</span> <span class="n">XFC</span><span class="p">,</span> <span class="mi">2</span><span class="o">-</span><span class="n">channel</span> <span class="n">digital</span> <span class="n">output</span> <span class="n">terminal</span> <span class="k">with</span> <span class="kt">time</span> <span class="n">stamp</span><span class="p">,</span> <span class="n">tri</span><span class="o">-</span><span class="n">state</span>
<span class="n">FUNCTION_BLOCK</span> <span class="n">EL2252</span>
<span class="n">VAR_INPUT</span>
	<span class="n">En</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">iTerminal_ID</span> <span class="o">:</span> <span class="n">INT</span><span class="p">;</span> 
	<span class="n">bDo_1</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bDo_2</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
<span class="n">ErrorSystem</span> <span class="o">:</span> <span class="n">POINTER</span> <span class="k">TO</span> <span class="n">ST_ErrorSystem</span><span class="p">;</span>
<span class="n">END_VAR</span>

<span class="n">VAR_OUTPUT</span>
	<span class="n">EnO</span> <span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bError</span> <span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
<span class="n">END_VAR</span>

<span class="n">VAR</span>
	<span class="n">Channel_1_Output</span> <span class="n">AT</span> <span class="o">%</span><span class="n">Q</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">Channel_2_Output</span> <span class="n">AT</span> <span class="o">%</span><span class="n">Q</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">WcState_WcState</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">InfoData_State</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">UINT</span><span class="p">;</span>
	
	<span class="o">//</span><span class="n">FB</span><span class="o">-</span><span class="n">s</span>
	<span class="n">EL2252_Error</span> <span class="o">:</span> <span class="n">FB_TerminalError</span><span class="p">;</span>
<span class="n">END_VAR</span>
</pre></div>
</div>
</div>
<div class="section" id="el2252-st">
<h3>EL2252: ST<a class="headerlink" href="#el2252-st" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="o">*</span>
<span class="o">*</span> <span class="n">TODO</span><span class="o">:</span>
<span class="o">*</span> <span class="n">Add</span> <span class="n">the</span> <span class="n">DC</span> <span class="n">sync</span> <span class="n">variables</span>
<span class="o">*</span><span class="p">)</span>

<span class="n">EL2252_Error</span><span class="p">(</span>
	<span class="n">En</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span>
	<span class="n">iTerminal_ID</span> <span class="o">:=</span> <span class="n">iTerminal_ID</span><span class="p">,</span>
	<span class="n">bWcState</span> <span class="o">:=</span> <span class="n">WcState_WcState</span><span class="p">,</span>
	<span class="n">uiInfoData_State</span> <span class="o">:=</span> <span class="n">InfoData_State</span><span class="p">,</span>
	<span class="n">pErrorSystem</span> <span class="o">:=</span> <span class="n">ErrorSystem</span><span class="p">,</span>
	<span class="n">bError</span> <span class="o">=&gt;</span> <span class="n">bError</span><span class="p">,</span>
<span class="p">);</span>

<span class="k">IF</span> <span class="n">En</span> <span class="k">THEN</span>
	<span class="k">IF</span> <span class="n">bError</span><span class="o">=</span><span class="n">FALSE</span> <span class="k">THEN</span>
		<span class="n">Channel_1_Output</span><span class="o">:=</span><span class="n">bDo_1</span><span class="p">;</span>
		<span class="n">Channel_2_Output</span><span class="o">:=</span><span class="n">bDo_2</span><span class="p">;</span>
	<span class="k">ELSE</span>
		<span class="n">Channel_1_Output</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
		<span class="n">Channel_2_Output</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
	<span class="n">END_IF</span>
<span class="n">END_IF</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-hardware-ethercat-terminals-digital-outputs-el2808-tcpou-tcplcobject">
<h2>tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Digital_Outputs/EL2808.TcPOU (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-digital-outputs-el2808-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="section" id="el2808-declaration">
<h3>EL2808: Declaration<a class="headerlink" href="#el2808-declaration" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="n">FUNCTION_BLOCK</span> <span class="n">EL2808</span>

<span class="n">VAR_INPUT</span>
	<span class="n">En</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">iTerminal_ID</span> <span class="o">:</span> <span class="n">INT</span><span class="p">;</span> 
	<span class="n">bDo_1</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bDo_2</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bDo_3</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bDo_4</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bDo_5</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bDo_6</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bDo_7</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bDo_8</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">ErrorSystem</span> <span class="o">:</span> <span class="n">POINTER</span> <span class="k">TO</span> <span class="n">ST_ErrorSystem</span><span class="p">;</span>
<span class="n">END_VAR</span>

<span class="n">VAR_OUTPUT</span>
	<span class="n">EnO</span> <span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bError</span> <span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
<span class="n">END_VAR</span>

<span class="n">VAR</span>
	<span class="n">Channel_1_Output</span> <span class="n">AT</span> <span class="o">%</span><span class="n">Q</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">Channel_2_Output</span> <span class="n">AT</span> <span class="o">%</span><span class="n">Q</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">Channel_3_Output</span> <span class="n">AT</span> <span class="o">%</span><span class="n">Q</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">Channel_4_Output</span> <span class="n">AT</span> <span class="o">%</span><span class="n">Q</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">Channel_5_Output</span> <span class="n">AT</span> <span class="o">%</span><span class="n">Q</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">Channel_6_Output</span> <span class="n">AT</span> <span class="o">%</span><span class="n">Q</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">Channel_7_Output</span> <span class="n">AT</span> <span class="o">%</span><span class="n">Q</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">Channel_8_Output</span> <span class="n">AT</span> <span class="o">%</span><span class="n">Q</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">WcState_WcState</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">InfoData_State</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">UINT</span><span class="p">;</span>
	
	<span class="o">//</span><span class="n">FB</span><span class="o">-</span><span class="n">s</span>
	<span class="n">EL2808_Error</span> <span class="o">:</span> <span class="n">FB_TerminalError</span><span class="p">;</span>
<span class="n">END_VAR</span>
</pre></div>
</div>
</div>
<div class="section" id="el2808-st">
<h3>EL2808: ST<a class="headerlink" href="#el2808-st" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="n">EnO</span><span class="o">:=</span><span class="n">En</span><span class="p">;</span>

<span class="n">EL2808_Error</span><span class="p">(</span>
	<span class="n">En</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span>
	<span class="n">iTerminal_ID</span> <span class="o">:=</span> <span class="n">iTerminal_ID</span><span class="p">,</span>
	<span class="n">bWcState</span> <span class="o">:=</span> <span class="n">WcState_WcState</span><span class="p">,</span>
	<span class="n">uiInfoData_State</span> <span class="o">:=</span> <span class="n">InfoData_State</span><span class="p">,</span>
	<span class="n">pErrorSystem</span> <span class="o">:=</span> <span class="n">ErrorSystem</span><span class="p">,</span>
	<span class="n">bError</span> <span class="o">=&gt;</span> <span class="n">bError</span><span class="p">,</span>
<span class="p">);</span>

<span class="k">IF</span> <span class="n">En</span> <span class="k">THEN</span>
	<span class="k">IF</span> <span class="n">bError</span><span class="o">=</span><span class="n">FALSE</span> <span class="k">THEN</span>
		<span class="n">Channel_1_Output</span><span class="o">:=</span><span class="n">bDo_1</span><span class="p">;</span>
		<span class="n">Channel_2_Output</span><span class="o">:=</span><span class="n">bDo_2</span><span class="p">;</span>
		<span class="n">Channel_3_Output</span><span class="o">:=</span><span class="n">bDo_3</span><span class="p">;</span>
		<span class="n">Channel_4_Output</span><span class="o">:=</span><span class="n">bDo_4</span><span class="p">;</span>
		<span class="n">Channel_5_Output</span><span class="o">:=</span><span class="n">bDo_5</span><span class="p">;</span>
		<span class="n">Channel_6_Output</span><span class="o">:=</span><span class="n">bDo_6</span><span class="p">;</span>
		<span class="n">Channel_7_Output</span><span class="o">:=</span><span class="n">bDo_7</span><span class="p">;</span>
		<span class="n">Channel_8_Output</span><span class="o">:=</span><span class="n">bDo_8</span><span class="p">;</span>
	<span class="k">ELSE</span>
		<span class="n">Channel_1_Output</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
		<span class="n">Channel_2_Output</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
		<span class="n">Channel_3_Output</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
		<span class="n">Channel_4_Output</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
		<span class="n">Channel_5_Output</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
		<span class="n">Channel_6_Output</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
		<span class="n">Channel_7_Output</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
		<span class="n">Channel_8_Output</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
	<span class="n">END_IF</span>
<span class="n">END_IF</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-hardware-ethercat-terminals-digital-outputs-el2819-tcpou-tcplcobject">
<h2>tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Digital_Outputs/EL2819.TcPOU (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-digital-outputs-el2819-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="section" id="el2819-declaration">
<h3>EL2819: Declaration<a class="headerlink" href="#el2819-declaration" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="n">FUNCTION_BLOCK</span> <span class="n">EL2819</span>
<span class="n">VAR_INPUT</span>
	<span class="n">En</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">iTerminal_ID</span> <span class="o">:</span> <span class="n">INT</span><span class="p">;</span> 
	<span class="n">bDo_1</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bDo_2</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bDo_3</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bDo_4</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bDo_5</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bDo_6</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bDo_7</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bDo_8</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bDo_9</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bDo_10</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bDo_11</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bDo_12</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bDo_13</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bDo_14</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bDo_15</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bDo_16</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">ErrorSystem</span> <span class="o">:</span> <span class="n">POINTER</span> <span class="k">TO</span> <span class="n">ST_ErrorSystem</span><span class="p">;</span>
<span class="n">END_VAR</span>

<span class="n">VAR_OUTPUT</span>
	<span class="n">EnO</span> <span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bError</span> <span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
<span class="n">END_VAR</span>

<span class="n">VAR</span>
	<span class="n">Channel_1_Output</span> <span class="n">AT</span> <span class="o">%</span><span class="n">Q</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">Channel_2_Output</span> <span class="n">AT</span> <span class="o">%</span><span class="n">Q</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">Channel_3_Output</span> <span class="n">AT</span> <span class="o">%</span><span class="n">Q</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">Channel_4_Output</span> <span class="n">AT</span> <span class="o">%</span><span class="n">Q</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">Channel_5_Output</span> <span class="n">AT</span> <span class="o">%</span><span class="n">Q</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">Channel_6_Output</span> <span class="n">AT</span> <span class="o">%</span><span class="n">Q</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">Channel_7_Output</span> <span class="n">AT</span> <span class="o">%</span><span class="n">Q</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">Channel_8_Output</span> <span class="n">AT</span> <span class="o">%</span><span class="n">Q</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">Channel_9_Output</span> <span class="n">AT</span> <span class="o">%</span><span class="n">Q</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">Channel_10_Output</span> <span class="n">AT</span> <span class="o">%</span><span class="n">Q</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">Channel_11_Output</span> <span class="n">AT</span> <span class="o">%</span><span class="n">Q</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">Channel_12_Output</span> <span class="n">AT</span> <span class="o">%</span><span class="n">Q</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">Channel_13_Output</span> <span class="n">AT</span> <span class="o">%</span><span class="n">Q</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">Channel_14_Output</span> <span class="n">AT</span> <span class="o">%</span><span class="n">Q</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">Channel_15_Output</span> <span class="n">AT</span> <span class="o">%</span><span class="n">Q</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">Channel_16_Output</span> <span class="n">AT</span> <span class="o">%</span><span class="n">Q</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	
	<span class="n">WcState_WcState</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">InfoData_State</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">UINT</span><span class="p">;</span>
	
	<span class="o">//</span><span class="n">FB</span><span class="o">-</span><span class="n">s</span>
	<span class="n">EL2819_Error</span> <span class="o">:</span> <span class="n">FB_TerminalError</span><span class="p">;</span>
<span class="n">END_VAR</span>
</pre></div>
</div>
</div>
<div class="section" id="el2819-st">
<h3>EL2819: ST<a class="headerlink" href="#el2819-st" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="o">*</span>
<span class="o">*</span> <span class="n">TODO</span><span class="o">:</span>
<span class="o">*</span> <span class="n">Channel</span> <span class="n">diagnostic</span> <span class="n">variables</span> <span class="k">and</span> <span class="n">device</span> <span class="n">diag</span> <span class="n">variables</span>
<span class="o">*</span><span class="p">)</span>

<span class="n">EnO</span><span class="o">:=</span><span class="n">En</span><span class="p">;</span>

<span class="n">EL2819_Error</span><span class="p">(</span>
	<span class="n">En</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span>
	<span class="n">iTerminal_ID</span> <span class="o">:=</span> <span class="n">iTerminal_ID</span><span class="p">,</span>
	<span class="n">bWcState</span> <span class="o">:=</span> <span class="n">WcState_WcState</span><span class="p">,</span>
	<span class="n">uiInfoData_State</span> <span class="o">:=</span> <span class="n">InfoData_State</span><span class="p">,</span>
	<span class="n">pErrorSystem</span> <span class="o">:=</span> <span class="n">ErrorSystem</span><span class="p">,</span>
	<span class="n">bError</span> <span class="o">=&gt;</span> <span class="n">bError</span><span class="p">,</span>
<span class="p">);</span>

<span class="k">IF</span> <span class="n">En</span> <span class="k">THEN</span>
	<span class="k">IF</span> <span class="n">bError</span><span class="o">=</span><span class="n">FALSE</span> <span class="k">THEN</span>
		<span class="n">Channel_1_Output</span><span class="o">:=</span><span class="n">bDo_1</span><span class="p">;</span>
		<span class="n">Channel_2_Output</span><span class="o">:=</span><span class="n">bDo_2</span><span class="p">;</span>
		<span class="n">Channel_3_Output</span><span class="o">:=</span><span class="n">bDo_3</span><span class="p">;</span>
		<span class="n">Channel_4_Output</span><span class="o">:=</span><span class="n">bDo_4</span><span class="p">;</span>
		<span class="n">Channel_5_Output</span><span class="o">:=</span><span class="n">bDo_5</span><span class="p">;</span>
		<span class="n">Channel_6_Output</span><span class="o">:=</span><span class="n">bDo_6</span><span class="p">;</span>
		<span class="n">Channel_7_Output</span><span class="o">:=</span><span class="n">bDo_7</span><span class="p">;</span>
		<span class="n">Channel_8_Output</span><span class="o">:=</span><span class="n">bDo_8</span><span class="p">;</span>
		<span class="n">Channel_9_Output</span><span class="o">:=</span><span class="n">bDo_9</span><span class="p">;</span>
		<span class="n">Channel_10_Output</span><span class="o">:=</span><span class="n">bDo_10</span><span class="p">;</span>
		<span class="n">Channel_11_Output</span><span class="o">:=</span><span class="n">bDo_11</span><span class="p">;</span>
		<span class="n">Channel_12_Output</span><span class="o">:=</span><span class="n">bDo_12</span><span class="p">;</span>
		<span class="n">Channel_13_Output</span><span class="o">:=</span><span class="n">bDo_13</span><span class="p">;</span>
		<span class="n">Channel_14_Output</span><span class="o">:=</span><span class="n">bDo_14</span><span class="p">;</span>
		<span class="n">Channel_15_Output</span><span class="o">:=</span><span class="n">bDo_15</span><span class="p">;</span>
		<span class="n">Channel_16_Output</span><span class="o">:=</span><span class="n">bDo_16</span><span class="p">;</span>
	<span class="k">ELSE</span>
		<span class="n">Channel_1_Output</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
		<span class="n">Channel_2_Output</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
		<span class="n">Channel_3_Output</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
		<span class="n">Channel_4_Output</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
		<span class="n">Channel_5_Output</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
		<span class="n">Channel_6_Output</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
		<span class="n">Channel_7_Output</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
		<span class="n">Channel_8_Output</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
		<span class="n">Channel_9_Output</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
		<span class="n">Channel_10_Output</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
		<span class="n">Channel_11_Output</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
		<span class="n">Channel_12_Output</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
		<span class="n">Channel_13_Output</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
		<span class="n">Channel_14_Output</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
		<span class="n">Channel_15_Output</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
		<span class="n">Channel_16_Output</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
	<span class="n">END_IF</span>
<span class="n">END_IF</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-hardware-ethercat-terminals-digital-outputs-external-types-dutel2521-ctrl-tcdut-tcplcobject">
<h2>tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Digital_Outputs/External_Types/dutEL2521_Ctrl.TcDUT (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-digital-outputs-external-types-dutel2521-ctrl-tcdut-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="section" id="dutel2521-ctrl-declaration">
<h3>dutEL2521_Ctrl: Declaration<a class="headerlink" href="#dutel2521-ctrl-declaration" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="k">TYPE</span> <span class="n">dutEL2521_Ctrl</span> <span class="o">:</span>
<span class="n">STRUCT</span>
	<span class="o">///</span><span class="n">The</span> <span class="n">control</span> <span class="n">word</span> <span class="p">(</span><span class="n">CW</span><span class="p">)</span> <span class="k">is</span> <span class="n">located</span> <span class="k">in</span> <span class="n">the</span> <span class="n">output</span> <span class="k">process</span> <span class="n">image</span><span class="p">,</span> <span class="k">and</span> <span class="k">is</span> <span class="n">transmitted</span> <span class="n">from</span> <span class="n">the</span> <span class="n">controller</span> <span class="k">to</span> <span class="n">the</span> <span class="n">terminal</span><span class="p">.</span>
	<span class="o">///</span><span class="n">CW</span><span class="p">.</span><span class="mi">0</span> <span class="n">FREQ_SEL</span> <span class="mi">0</span><span class="n">bin</span> <span class="o">/</span> <span class="mi">1</span><span class="n">bin</span>  <span class="n">Rapid</span> <span class="n">change</span> <span class="k">of</span> <span class="n">the</span> <span class="n">base</span> <span class="n">frequency</span> <span class="p">(</span><span class="n">only</span> <span class="k">if</span> <span class="n">the</span> <span class="n">ramp</span> <span class="k">function</span> <span class="k">is</span> <span class="n">inactive</span><span class="p">)</span><span class="o">:</span>
	<span class="o">///</span><span class="mi">0</span><span class="n">bin</span> <span class="o">=</span> <span class="n">Base</span> <span class="n">frequency</span> <span class="mi">1</span> <span class="p">(</span><span class="n">object</span> <span class="mi">8001</span><span class="o">:</span><span class="mi">02</span><span class="p">)</span>
	<span class="o">///</span><span class="mi">1</span><span class="n">bin</span> <span class="o">=</span> <span class="n">Base</span> <span class="n">frequency</span> <span class="mi">2</span> <span class="p">(</span><span class="n">object</span> <span class="mi">8001</span><span class="o">:</span><span class="mi">03</span><span class="p">)</span> 
	<span class="n">FREQ_SEL</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="o">///</span><span class="n">CW</span><span class="p">.</span><span class="mi">1</span> <span class="n">RAMP_DIS</span> <span class="mi">1</span><span class="n">bin</span> <span class="n">Operation</span> <span class="k">of</span> <span class="n">the</span> <span class="n">ramp</span> <span class="k">function</span> <span class="k">is</span> <span class="n">cancelled</span><span class="p">,</span> <span class="k">in</span> <span class="n">spite</span> <span class="k">of</span> <span class="n">object</span> <span class="mi">8000</span><span class="o">:</span><span class="mi">06</span> <span class="n">being</span> <span class="n">active</span><span class="p">;</span> <span class="k">if</span> <span class="n">travel</span> <span class="n">distance</span> <span class="n">control</span> <span class="k">is</span> <span class="n">active</span><span class="p">,</span> <span class="n">it</span> <span class="k">is</span> <span class="n">interrupted</span> <span class="n">by</span> <span class="n">this</span> <span class="kt">bit</span> 
	<span class="n">RAMP_DIS</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="o">///</span><span class="n">CW</span><span class="p">.</span><span class="mi">2</span> <span class="n">GO_COUNTER</span> <span class="mi">1</span><span class="n">bin</span>  <span class="k">If</span> <span class="n">travel</span> <span class="n">distance</span> <span class="n">control</span> <span class="k">is</span> <span class="n">active</span> <span class="p">(</span><span class="n">object</span> <span class="mi">8000</span><span class="o">:</span><span class="mi">0</span><span class="n">A</span><span class="p">),</span> <span class="k">then</span> <span class="n">a</span> <span class="n">pre</span><span class="o">-</span><span class="n">set</span> <span class="n">counter</span> <span class="n">value</span> <span class="k">is</span> <span class="n">approached</span> <span class="k">when</span> <span class="n">the</span> <span class="kt">bit</span> <span class="k">is</span> <span class="n">set</span> 
	<span class="n">GO_COUNTER</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="o">///</span><span class="n">CW</span><span class="p">.</span><span class="mi">5</span> <span class="n">CNT_CLR</span> <span class="mi">1</span><span class="n">bin</span> <span class="n">The</span> <span class="n">contents</span> <span class="k">of</span> <span class="n">the</span> <span class="n">counter</span> <span class="k">is</span> <span class="n">cleared</span> <span class="k">or</span> <span class="n">set</span> <span class="p">(</span><span class="n">object</span> <span class="mi">8000</span><span class="o">:</span><span class="mi">0</span><span class="n">B</span><span class="p">)</span> <span class="n">by</span> <span class="n">this</span> <span class="kt">bit</span><span class="p">.</span> 
	<span class="o">///</span><span class="n">Any</span> <span class="n">overflow</span> <span class="k">or</span> <span class="n">underflow</span> <span class="n">bits</span> <span class="n">that</span> <span class="n">might</span> <span class="n">be</span> <span class="n">set</span> <span class="n">are</span> <span class="n">also</span> <span class="n">cleared</span> <span class="n">by</span> <span class="n">this</span> <span class="kt">bit</span><span class="p">.</span> 
	<span class="o">///</span><span class="n">The</span> <span class="k">process</span> <span class="n">can</span> <span class="n">be</span> <span class="n">edge</span> <span class="n">triggered</span> <span class="k">or</span> <span class="n">level</span> <span class="n">triggered</span> <span class="p">(</span><span class="n">object</span> <span class="mi">8000</span><span class="o">:</span><span class="mi">05</span><span class="p">).</span> 
	<span class="n">CNT_CLR</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
<span class="n">END_STRUCT</span>
<span class="n">END_TYPE</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-hardware-ethercat-terminals-digital-outputs-external-types-dutel2521-status-tcdut-tcplcobject">
<h2>tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Digital_Outputs/External_Types/dutEL2521_Status.TcDUT (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-digital-outputs-external-types-dutel2521-status-tcdut-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="section" id="dutel2521-status-declaration">
<h3>dutEL2521_Status: Declaration<a class="headerlink" href="#dutel2521-status-declaration" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="k">TYPE</span> <span class="n">dutEL2521_Status</span> <span class="o">:</span>
<span class="n">STRUCT</span>
	<span class="o">///</span><span class="n">The</span> <span class="n">status</span> <span class="n">word</span> <span class="p">(</span><span class="n">SW</span><span class="p">)</span> <span class="k">is</span> <span class="n">located</span> <span class="k">in</span> <span class="n">the</span> <span class="n">input</span> <span class="k">process</span> <span class="n">image</span><span class="p">,</span> <span class="k">and</span> <span class="k">is</span> <span class="n">transmitted</span> <span class="n">from</span> <span class="n">the</span> <span class="n">terminal</span> <span class="k">to</span> <span class="n">the</span> <span class="n">controller</span><span class="p">.</span>
	<span class="o">///</span><span class="n">SW</span><span class="p">.</span><span class="mi">0</span> <span class="n">SEL_ACK</span><span class="o">/</span><span class="n">END_COUNTER</span> <span class="mi">1</span><span class="n">bin</span>  <span class="n">Confirms</span> <span class="n">the</span> <span class="n">change</span> <span class="k">of</span> <span class="n">base</span> <span class="n">frequency</span><span class="p">.</span> <span class="n">At</span> <span class="n">activated</span> <span class="n">travel</span> <span class="n">distance</span> <span class="n">control</span><span class="o">:</span> <span class="n">target</span> <span class="n">counter</span> <span class="n">value</span> <span class="n">reached</span> 
	<span class="n">SEL_ACK</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="o">///</span><span class="n">SW</span><span class="p">.</span><span class="mi">1</span> <span class="n">RAMP_ACTIVE</span> <span class="mi">1</span><span class="n">bin</span> <span class="n">Ramp</span> <span class="k">is</span> <span class="n">currently</span> <span class="n">being</span> <span class="n">followed</span> 
	<span class="n">RAMP_ACTIVE</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="o">///</span><span class="n">SW</span><span class="p">.</span><span class="mi">2</span> <span class="n">UNDERFLOW</span> <span class="mi">1</span><span class="n">bin</span> <span class="n">This</span> <span class="kt">bit</span> <span class="k">is</span> <span class="n">set</span> <span class="k">if</span> <span class="n">the</span> <span class="mi">16</span><span class="o">-</span><span class="kt">bit</span> <span class="n">counter</span> <span class="n">underflows</span> <span class="p">(</span><span class="mi">0</span> <span class="o">-&gt;</span> <span class="mi">65535</span><span class="p">).</span> <span class="n">It</span> <span class="k">is</span> <span class="n">reset</span> <span class="k">when</span> <span class="n">the</span> <span class="n">counter</span> <span class="n">drops</span> <span class="n">below</span> <span class="n">two</span> <span class="n">thirds</span> <span class="k">of</span> <span class="n">its</span> <span class="n">measuring</span> <span class="k">range</span> <span class="p">(</span><span class="mi">43690</span> <span class="o">-&gt;</span> <span class="mi">43689</span><span class="p">)</span> <span class="k">or</span> <span class="n">immediately</span> <span class="n">an</span> <span class="n">overflow</span> <span class="n">occurs</span><span class="p">.</span> 
	<span class="n">UNDERFLOW</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="o">///</span><span class="n">SW</span><span class="p">.</span><span class="mi">3</span> <span class="n">OVERFLOW</span> <span class="mi">1</span><span class="n">bin</span> <span class="n">This</span> <span class="kt">bit</span> <span class="k">is</span> <span class="n">set</span> <span class="k">if</span> <span class="n">the</span> <span class="mi">16</span><span class="o">-</span><span class="kt">bit</span> <span class="n">counter</span> <span class="n">overflows</span> <span class="p">(</span><span class="mi">65535</span> <span class="o">-&gt;</span> <span class="mi">0</span><span class="p">).</span> <span class="n">It</span> <span class="k">is</span> <span class="n">reset</span> <span class="k">when</span> <span class="n">the</span> <span class="n">counter</span> <span class="n">exceeds</span> <span class="n">one</span> <span class="n">third</span> <span class="k">of</span> <span class="n">its</span> <span class="n">measuring</span> <span class="k">range</span> <span class="p">(</span><span class="mi">21845</span> <span class="o">-&gt;</span> <span class="mi">21846</span><span class="p">)</span> <span class="k">or</span> <span class="n">immediately</span> <span class="n">an</span> <span class="n">underflow</span> <span class="n">occurs</span> 
	<span class="n">OVERFLOW</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="o">///</span><span class="n">SW</span><span class="p">.</span><span class="mi">4</span> <span class="n">INPUT_T</span> <span class="mi">1</span><span class="n">bin</span> <span class="n">Status</span> <span class="k">of</span> <span class="n">INPUT_T</span> 
	<span class="n">INPUT_T</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="o">///</span><span class="n">SW</span><span class="p">.</span><span class="mi">5</span> <span class="n">INPUT_Z</span> <span class="mi">1</span><span class="n">bin</span> <span class="n">Status</span> <span class="k">of</span> <span class="n">INPUT_Z</span> 
	<span class="n">INPUT_Z</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="o">///</span><span class="n">SW</span><span class="p">.</span><span class="mi">6</span> <span class="n">ERROR</span> <span class="mi">1</span><span class="n">bin</span> <span class="n">General</span> <span class="n">error</span> <span class="kt">bit</span><span class="p">,</span> <span class="n">included</span> <span class="k">with</span> <span class="n">overflow</span><span class="o">/</span><span class="n">underflow</span> 
	<span class="n">ERROR</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
<span class="n">END_STRUCT</span>
<span class="n">END_TYPE</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-hardware-ethercat-terminals-measuring-terminals-el5002-tcpou-tcplcobject">
<h2>tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Measuring_Terminals/EL5002.TcPOU (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-measuring-terminals-el5002-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="section" id="el5002-declaration">
<h3>EL5002: Declaration<a class="headerlink" href="#el5002-declaration" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="o">//</span><span class="n">EL5002</span> <span class="o">|</span> <span class="mi">2</span><span class="o">-</span><span class="n">chennel</span> <span class="n">SSI</span> <span class="n">absolute</span> <span class="n">encoder</span> <span class="n">terminal</span>
<span class="n">FUNCTION_BLOCK</span> <span class="n">EL5002</span>

<span class="n">VAR_INPUT</span>
	<span class="n">En</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">iTerminal_ID</span> <span class="o">:</span> <span class="n">INT</span><span class="p">;</span>
	<span class="n">ErrorSystem</span> <span class="o">:</span> <span class="n">POINTER</span> <span class="k">TO</span> <span class="n">ST_ErrorSystem</span><span class="p">;</span>
<span class="n">END_VAR</span>

<span class="n">VAR_OUTPUT</span>
	<span class="n">EnO</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">Ch1_Counter_Value</span> <span class="o">:</span> <span class="n">UDINT</span><span class="p">;</span>
	<span class="n">Ch2_Counter_Value</span> <span class="o">:</span> <span class="n">UDINT</span><span class="p">;</span>
	<span class="n">bError</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
<span class="n">END_VAR</span>

<span class="n">VAR</span>
	<span class="n">udi_Ch1_Cnt_Value</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="o">:</span> <span class="n">UDINT</span><span class="p">;</span>
	<span class="n">udi_Ch2_Cnt_Value</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="o">:</span> <span class="n">UDINT</span><span class="p">;</span>
	<span class="n">WcState_WcState</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">InfoData_State</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">UINT</span><span class="p">;</span>
	
	<span class="o">//</span><span class="n">FB</span><span class="o">-</span><span class="n">s</span>
	<span class="n">EL5002_Error</span> <span class="o">:</span> <span class="n">FB_TerminalError</span><span class="p">;</span>
<span class="n">END_VAR</span>
</pre></div>
</div>
</div>
<div class="section" id="el5002-st">
<h3>EL5002: ST<a class="headerlink" href="#el5002-st" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="o">*</span>
<span class="o">*</span> <span class="n">TODO</span><span class="o">:</span>
<span class="o">*</span> <span class="n">Channel</span> <span class="n">Status</span> <span class="n">words</span>
<span class="o">*</span><span class="p">)</span>

<span class="n">EnO</span><span class="o">:=</span><span class="n">En</span><span class="p">;</span>

<span class="o">//</span><span class="n">Error</span> <span class="n">FB</span> <span class="n">instance</span>
<span class="n">EL5002_Error</span><span class="p">(</span>
	<span class="n">En</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span>
	<span class="n">iTerminal_ID</span> <span class="o">:=</span> <span class="n">iTerminal_ID</span><span class="p">,</span>
	<span class="n">bWcState</span> <span class="o">:=</span> <span class="n">WcState_WcState</span><span class="p">,</span>
	<span class="n">uiInfoData_State</span> <span class="o">:=</span> <span class="n">InfoData_State</span><span class="p">,</span>
	<span class="n">pErrorSystem</span> <span class="o">:=</span> <span class="n">ErrorSystem</span><span class="p">,</span>
	<span class="n">bError</span> <span class="o">=&gt;</span> <span class="n">bError</span><span class="p">,</span>
<span class="p">);</span>

<span class="k">IF</span> <span class="n">EN</span> <span class="k">THEN</span>
	<span class="k">IF</span> <span class="k">NOT</span> <span class="n">bError</span> <span class="k">THEN</span>
		<span class="n">Ch1_Counter_Value</span> <span class="o">:=</span> <span class="n">udi_Ch1_Cnt_Value</span><span class="p">;</span>
		<span class="n">Ch2_Counter_Value</span> <span class="o">:=</span> <span class="n">udi_Ch2_Cnt_Value</span><span class="p">;</span>
	<span class="k">ELSE</span>
		<span class="n">Ch1_Counter_Value</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span>
		<span class="n">Ch2_Counter_Value</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="n">END_IF</span>
<span class="n">END_IF</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-hardware-ethercat-terminals-measuring-terminals-el5021-tcpou-tcplcobject">
<h2>tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Measuring_Terminals/EL5021.TcPOU (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-measuring-terminals-el5021-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="section" id="el5021-declaration">
<h3>EL5021: Declaration<a class="headerlink" href="#el5021-declaration" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="o">//</span><span class="n">EL5021</span> <span class="o">|</span> <span class="mi">1</span><span class="o">-</span><span class="n">channel</span> <span class="n">Sin</span><span class="o">/</span><span class="n">Cos</span> <span class="n">encoder</span>
<span class="n">FUNCTION_BLOCK</span> <span class="n">EL5021</span>

<span class="n">VAR_INPUT</span>
	<span class="n">En</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">iTerminal_ID</span> <span class="o">:</span> <span class="n">INT</span><span class="p">;</span>
	<span class="n">ErrorSystem</span> <span class="o">:</span> <span class="n">POINTER</span> <span class="k">TO</span> <span class="n">ST_ErrorSystem</span><span class="p">;</span>
<span class="n">END_VAR</span>

<span class="n">VAR_OUTPUT</span>
	<span class="n">EnO</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">Counter_Value</span> <span class="o">:</span> <span class="n">UDINT</span><span class="p">;</span>
	<span class="n">Latch_Value</span> <span class="o">:</span> <span class="n">UDINT</span><span class="p">;</span>
	<span class="n">bError</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
<span class="n">END_VAR</span>

<span class="n">VAR</span>
	<span class="n">udiCounter_Value</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="o">:</span> <span class="n">UDINT</span><span class="p">;</span>
	<span class="n">udiLatch_Value</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="o">:</span> <span class="n">UDINT</span><span class="p">;</span>
	<span class="n">WcState_WcState</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">InfoData_State</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">UINT</span><span class="p">;</span>
	
	<span class="o">//</span><span class="n">FB</span><span class="o">-</span><span class="n">s</span>
	<span class="n">EL5021_Error</span> <span class="o">:</span> <span class="n">FB_TerminalError</span><span class="p">;</span>
<span class="n">END_VAR</span>
</pre></div>
</div>
</div>
<div class="section" id="el5021-st">
<h3>EL5021: ST<a class="headerlink" href="#el5021-st" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="o">*</span>
<span class="o">*</span> <span class="n">TODO</span><span class="o">:</span>
<span class="o">*</span> <span class="n">Channel</span> <span class="n">Status</span> <span class="n">words</span><span class="p">,</span> <span class="n">control</span> <span class="n">words</span>
<span class="o">*</span><span class="p">)</span>

<span class="n">EnO</span><span class="o">:=</span><span class="n">En</span><span class="p">;</span>

<span class="o">//</span><span class="n">Error</span> <span class="n">FB</span> <span class="n">instance</span>
<span class="n">EL5021_Error</span><span class="p">(</span>
	<span class="n">En</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span>
	<span class="n">iTerminal_ID</span> <span class="o">:=</span> <span class="n">iTerminal_ID</span><span class="p">,</span>
	<span class="n">bWcState</span> <span class="o">:=</span> <span class="n">WcState_WcState</span><span class="p">,</span>
	<span class="n">uiInfoData_State</span> <span class="o">:=</span> <span class="n">InfoData_State</span><span class="p">,</span>
	<span class="n">pErrorSystem</span> <span class="o">:=</span> <span class="n">ErrorSystem</span><span class="p">,</span>
	<span class="n">bError</span> <span class="o">=&gt;</span> <span class="n">bError</span><span class="p">,</span>
<span class="p">);</span>

<span class="k">IF</span> <span class="n">EN</span> <span class="k">THEN</span>
	<span class="k">IF</span> <span class="k">NOT</span> <span class="n">bError</span> <span class="k">THEN</span>
		<span class="n">Counter_Value</span> <span class="o">:=</span> <span class="n">udiCounter_Value</span><span class="p">;</span>
		<span class="n">Latch_Value</span> <span class="o">:=</span> <span class="n">udiLatch_Value</span><span class="p">;</span>
	<span class="k">ELSE</span>
		<span class="n">Counter_Value</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span>
		<span class="n">Latch_Value</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="n">END_IF</span>
<span class="n">END_IF</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-hardware-ethercat-terminals-measuring-terminals-el5042-tcpou-tcplcobject">
<h2>tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Measuring_Terminals/EL5042.TcPOU (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-measuring-terminals-el5042-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="section" id="el5042-declaration">
<h3>EL5042: Declaration<a class="headerlink" href="#el5042-declaration" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="o">//</span><span class="n">EL5042</span> <span class="o">|</span> <span class="mi">2</span><span class="o">-</span><span class="n">channel</span> <span class="n">BiSS</span><span class="o">-</span><span class="n">C</span> <span class="n">absolute</span> <span class="n">encoder</span> <span class="n">terminal</span>
<span class="n">FUNCTION_BLOCK</span> <span class="n">EL5042</span>

<span class="n">VAR_INPUT</span>
	<span class="n">En</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">iTerminal_ID</span> <span class="o">:</span> <span class="n">INT</span><span class="p">;</span>
	<span class="n">ErrorSystem</span> <span class="o">:</span> <span class="n">POINTER</span> <span class="k">TO</span> <span class="n">ST_ErrorSystem</span><span class="p">;</span>
<span class="n">END_VAR</span>

<span class="n">VAR_OUTPUT</span>
	<span class="n">EnO</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">Ch1_Position</span> <span class="o">:</span> <span class="n">ULINT</span><span class="p">;</span>
	<span class="n">Ch2_Position</span> <span class="o">:</span> <span class="n">ULINT</span><span class="p">;</span>
	<span class="n">bError</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
<span class="n">END_VAR</span>

<span class="n">VAR</span>
	<span class="n">FB_Inputs_ch1_Position</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="o">:</span> <span class="n">ULINT</span><span class="p">;</span>
	<span class="n">FB_Inputs_ch2_Position</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="o">:</span> <span class="n">ULINT</span><span class="p">;</span>
	<span class="n">WcState_WcState</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">InfoData_State</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">UINT</span><span class="p">;</span>
	
	<span class="o">//</span><span class="n">FB</span><span class="o">-</span><span class="n">s</span>
	<span class="n">EL5042_Error</span> <span class="o">:</span> <span class="n">FB_TerminalError</span><span class="p">;</span>
<span class="n">END_VAR</span>
</pre></div>
</div>
</div>
<div class="section" id="el5042-st">
<h3>EL5042: ST<a class="headerlink" href="#el5042-st" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="o">*</span>
<span class="o">*</span> <span class="n">TODO</span><span class="o">:</span>
<span class="o">*</span> <span class="n">Channel</span> <span class="n">Status</span> <span class="n">words</span>
<span class="o">*</span><span class="p">)</span>

<span class="n">EnO</span><span class="o">:=</span><span class="n">En</span><span class="p">;</span>

<span class="o">//</span><span class="n">Error</span> <span class="n">FB</span> <span class="n">instance</span>
<span class="n">EL5042_Error</span><span class="p">(</span>
	<span class="n">En</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span>
	<span class="n">iTerminal_ID</span> <span class="o">:=</span> <span class="n">iTerminal_ID</span><span class="p">,</span>
	<span class="n">bWcState</span> <span class="o">:=</span> <span class="n">WcState_WcState</span><span class="p">,</span>
	<span class="n">uiInfoData_State</span> <span class="o">:=</span> <span class="n">InfoData_State</span><span class="p">,</span>
	<span class="n">pErrorSystem</span> <span class="o">:=</span> <span class="n">ErrorSystem</span><span class="p">,</span>
	<span class="n">bError</span> <span class="o">=&gt;</span> <span class="n">bError</span><span class="p">,</span>
<span class="p">);</span>

<span class="k">IF</span> <span class="n">EN</span> <span class="k">THEN</span>
	<span class="k">IF</span> <span class="k">NOT</span> <span class="n">bError</span> <span class="k">THEN</span>
		<span class="n">Ch1_Position</span> <span class="o">:=</span> <span class="n">FB_Inputs_ch1_Position</span><span class="p">;</span>
		<span class="n">Ch2_Position</span> <span class="o">:=</span> <span class="n">FB_Inputs_ch2_Position</span><span class="p">;</span>
	<span class="k">ELSE</span>
		<span class="n">Ch1_Position</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span>
		<span class="n">Ch2_Position</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="n">END_IF</span>
<span class="n">END_IF</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-hardware-ethercat-terminals-measuring-terminals-el5101-tcpou-tcplcobject">
<h2>tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Measuring_Terminals/EL5101.TcPOU (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-measuring-terminals-el5101-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="section" id="el5101-declaration">
<h3>EL5101: Declaration<a class="headerlink" href="#el5101-declaration" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">EL5101</span> <span class="o">|</span> <span class="mi">1</span><span class="o">-</span><span class="n">channel</span> <span class="n">incremental</span> <span class="n">encoder</span> <span class="n">terminal</span><span class="p">,</span> <span class="mi">5</span><span class="n">V</span><span class="p">,</span> <span class="n">RS422</span>
<span class="n">FUNCTION_BLOCK</span> <span class="n">EL5101</span>

<span class="n">VAR_INPUT</span>
	<span class="n">En</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">iTerminal_ID</span> <span class="o">:</span> <span class="n">INT</span><span class="p">;</span>
	<span class="n">ErrorSystem</span> <span class="o">:</span> <span class="n">POINTER</span> <span class="k">TO</span> <span class="n">ST_ErrorSystem</span><span class="p">;</span>
<span class="n">END_VAR</span>

<span class="n">VAR_OUTPUT</span>
	<span class="n">EnO</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">Counter_Value</span> <span class="o">:</span> <span class="n">UINT</span><span class="p">;</span>
	<span class="n">Latch_Value</span> <span class="o">:</span> <span class="n">UINT</span><span class="p">;</span>
	<span class="n">bError</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
<span class="n">END_VAR</span>

<span class="n">VAR</span>
	<span class="n">uiCounter_Value</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="o">:</span> <span class="n">UINT</span><span class="p">;</span>
	<span class="n">uiLatch_Value</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="o">:</span> <span class="n">UINT</span><span class="p">;</span>
	<span class="n">WcState_WcState</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">InfoData_State</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">UINT</span><span class="p">;</span>
	
	<span class="o">//</span><span class="n">FB</span><span class="o">-</span><span class="n">s</span>
	<span class="n">EL5101_Error</span> <span class="o">:</span> <span class="n">FB_TerminalError</span><span class="p">;</span>
<span class="n">END_VAR</span>
</pre></div>
</div>
</div>
<div class="section" id="el5101-st">
<h3>EL5101: ST<a class="headerlink" href="#el5101-st" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="o">*</span>
<span class="o">*</span> <span class="n">TODO</span><span class="o">:</span>
<span class="o">*</span> <span class="n">Channel</span> <span class="n">Status</span> <span class="n">word</span><span class="p">,</span> <span class="n">control</span> <span class="n">words</span>
<span class="o">*</span><span class="p">)</span>

<span class="n">EnO</span><span class="o">:=</span><span class="n">En</span><span class="p">;</span>

<span class="o">//</span><span class="n">Error</span> <span class="n">FB</span> <span class="n">instance</span>
<span class="n">EL5101_Error</span><span class="p">(</span>
	<span class="n">En</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span>
	<span class="n">iTerminal_ID</span> <span class="o">:=</span> <span class="n">iTerminal_ID</span><span class="p">,</span>
	<span class="n">bWcState</span> <span class="o">:=</span> <span class="n">WcState_WcState</span><span class="p">,</span>
	<span class="n">uiInfoData_State</span> <span class="o">:=</span> <span class="n">InfoData_State</span><span class="p">,</span>
	<span class="n">pErrorSystem</span> <span class="o">:=</span> <span class="n">ErrorSystem</span><span class="p">,</span>
	<span class="n">bError</span> <span class="o">=&gt;</span> <span class="n">bError</span><span class="p">,</span>
<span class="p">);</span>

<span class="k">IF</span> <span class="n">EN</span> <span class="k">THEN</span>
	<span class="k">IF</span> <span class="k">NOT</span> <span class="n">bError</span> <span class="k">THEN</span>
		<span class="n">Counter_Value</span> <span class="o">:=</span> <span class="n">uiCounter_Value</span><span class="p">;</span>
		<span class="n">Latch_Value</span> <span class="o">:=</span> <span class="n">uiLatch_Value</span><span class="p">;</span>
	<span class="k">ELSE</span>
		<span class="n">Counter_Value</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span>
		<span class="n">Latch_Value</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="n">END_IF</span>
<span class="n">END_IF</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-hardware-ethercat-terminals-motion-el7211-v1-00-tcpou-tcplcobject">
<h2>tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Motion/EL7211_v1_00.TcPOU (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-motion-el7211-v1-00-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="section" id="el7211-v1-00-declaration">
<h3>EL7211_v1_00: Declaration<a class="headerlink" href="#el7211-v1-00-declaration" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="o">///</span><span class="n">EL7211</span> <span class="o">|</span> <span class="n">Servo</span> <span class="n">motor</span> <span class="n">termional</span> <span class="mi">5</span> <span class="n">A</span>
<span class="n">FUNCTION_BLOCK</span> <span class="n">EL7211_v1_00</span>
<span class="n">VAR_INPUT</span>
	<span class="n">En</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
<span class="n">END_VAR</span>
<span class="n">VAR_OUTPUT</span>
	<span class="n">EnO</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>

	<span class="n">bError</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
<span class="n">END_VAR</span>
<span class="n">VAR</span>
	<span class="n">WcState_WcState</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">InfoData_State</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">UINT</span><span class="p">;</span>
<span class="n">END_VAR</span>
</pre></div>
</div>
</div>
<div class="section" id="el7211-v1-00-st">
<h3>EL7211_v1_00: ST<a class="headerlink" href="#el7211-v1-00-st" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="n">EnO</span><span class="o">:=</span><span class="n">En</span><span class="p">;</span>

<span class="k">IF</span> <span class="n">En</span> <span class="k">AND</span> <span class="p">(</span><span class="n">WcState_WcState</span> <span class="k">OR</span> <span class="n">InfoData_State</span><span class="o">&lt;&gt;</span><span class="mi">16#8</span><span class="p">)</span> <span class="k">THEN</span>
	<span class="n">bError</span><span class="o">:=</span><span class="n">TRUE</span><span class="p">;</span>
<span class="k">ELSE</span>
	<span class="n">bError</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
<span class="n">END_IF</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-hardware-ethercat-terminals-motion-el9576-v1-00-tcpou-tcplcobject">
<h2>tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Motion/EL9576_v1_00.TcPOU (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-motion-el9576-v1-00-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="section" id="el9576-v1-00-declaration">
<h3>EL9576_v1_00: Declaration<a class="headerlink" href="#el9576-v1-00-declaration" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="o">///</span><span class="n">EL9576</span> <span class="o">|</span> <span class="n">Brake</span> <span class="n">terminal</span> <span class="p">(</span><span class="n">vap</span> <span class="k">and</span> <span class="n">resistor</span><span class="p">)</span>
<span class="n">FUNCTION_BLOCK</span> <span class="n">EL9576_v1_00</span>
<span class="n">VAR_INPUT</span>
	<span class="n">En</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
<span class="n">END_VAR</span>
<span class="n">VAR_OUTPUT</span>
	<span class="n">EnO</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bError</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>	
	<span class="n">OverTemperature</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">I2TError</span> <span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">I2TWarning</span> <span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">OverVoltage</span>  <span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">UnderVoltage</span> <span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">ChopperOn</span> <span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">DCLinkVoltage</span> <span class="o">:</span> <span class="n">LREAL</span><span class="p">;</span>
	<span class="n">DutyCycle</span>  <span class="o">:</span> <span class="n">LREAL</span><span class="p">;</span>
	<span class="n">ResistorCurrent</span> <span class="o">:</span> <span class="n">LREAL</span><span class="p">;</span>
	
<span class="n">END_VAR</span>
<span class="n">VAR</span>
	<span class="n">BCTOverTemperature</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">BCTI2TError</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">BCTI2TWarning</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">BCTOverVoltage</span>  <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">BCTUnderVoltage</span>  <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">BCTChopperOn</span>  <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">BCTDCLinkVoltage</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">UDINT</span><span class="p">;</span>
	<span class="n">BCTDutyCycle</span>  <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">USINT</span><span class="p">;</span>
	<span class="n">BCTResistorCurrent</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">UDINT</span><span class="p">;</span>
	<span class="n">WcState_WcState</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">InfoData_State</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">UINT</span><span class="p">;</span>
	
<span class="n">END_VAR</span>
</pre></div>
</div>
</div>
<div class="section" id="el9576-v1-00-st">
<h3>EL9576_v1_00: ST<a class="headerlink" href="#el9576-v1-00-st" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="n">EnO</span><span class="o">:=</span><span class="n">En</span><span class="p">;</span>

<span class="k">IF</span> <span class="n">En</span> <span class="k">AND</span> <span class="p">(</span><span class="n">WcState_WcState</span> <span class="k">OR</span> <span class="n">InfoData_State</span><span class="o">&lt;&gt;</span><span class="mi">16#8</span> <span class="k">OR</span> <span class="n">BCTI2TError</span> <span class="k">OR</span> <span class="n">BCTI2TWarning</span> <span class="k">OR</span> <span class="n">BCTOverTemperature</span> <span class="k">OR</span> <span class="n">BCTOverVoltage</span> <span class="k">OR</span> <span class="n">BCTUnderVoltage</span><span class="p">)</span> <span class="k">THEN</span>
	<span class="n">bError</span><span class="o">:=</span><span class="n">TRUE</span><span class="p">;</span>
<span class="k">ELSE</span>
	<span class="n">bError</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
<span class="n">END_IF</span>

<span class="n">OverTemperature</span><span class="o">:=</span><span class="n">BCTOverTemperature</span><span class="p">;</span>
<span class="n">I2TError</span><span class="o">:=</span><span class="n">BCTI2TError</span><span class="p">;</span>
<span class="n">I2TWarning</span><span class="o">:=</span><span class="n">BCTI2TWarning</span><span class="p">;</span>
<span class="n">OverVoltage</span><span class="o">:=</span><span class="n">BCTOverVoltage</span><span class="p">;</span>
<span class="n">UnderVoltage</span><span class="o">:=</span><span class="n">bctUnderVoltage</span><span class="p">;</span>
<span class="n">ChopperOn</span><span class="o">:=</span><span class="n">bctChopperOn</span><span class="p">;</span>
<span class="n">DCLinkVoltage</span><span class="o">:=</span><span class="n">UDINT_TO_LREAL</span><span class="p">(</span><span class="n">bctDCLinkVoltage</span><span class="p">);</span>
<span class="n">DutyCycle</span><span class="o">:=</span><span class="n">USINT_TO_LREAL</span><span class="p">(</span><span class="n">BCTDutyCycle</span><span class="p">);</span>
<span class="n">ResistorCurrent</span><span class="o">:=</span><span class="n">UDINT_TO_LREAL</span><span class="p">(</span><span class="n">BCTResistorCurrent</span><span class="p">);</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-hardware-ethercat-terminals-system-el9410-tcpou-tcplcobject">
<h2>tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/System/EL9410.TcPOU (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-system-el9410-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="section" id="el9410-declaration">
<h3>EL9410: Declaration<a class="headerlink" href="#el9410-declaration" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="o">//</span><span class="n">EL9410</span> <span class="o">|</span> <span class="n">E</span><span class="o">-</span><span class="k">Bus</span> <span class="n">power</span> <span class="n">supplier</span> <span class="k">and</span> <span class="n">refresher</span><span class="p">,</span> <span class="n">diagnostics</span>
<span class="n">FUNCTION_BLOCK</span> <span class="n">EL9410</span>

<span class="n">VAR_INPUT</span>
	<span class="n">En</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">iTerminal_ID</span> <span class="o">:</span> <span class="n">INT</span><span class="p">;</span>
	<span class="n">ErrorSystem</span> <span class="o">:</span> <span class="n">POINTER</span> <span class="k">TO</span> <span class="n">ST_ErrorSystem</span><span class="p">;</span>
<span class="n">END_VAR</span>

<span class="n">VAR_OUTPUT</span>
	<span class="n">EnO</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bError</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
<span class="n">END_VAR</span>

<span class="n">VAR</span>
	<span class="n">bStatus_Us_UV</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bStatus_Up_UV</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">WcState_WcState</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">InfoData_State</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">UINT</span><span class="p">;</span>
	
	<span class="o">//</span><span class="n">FB</span><span class="o">-</span><span class="n">s</span>
	<span class="n">EL9410_Error</span> <span class="o">:</span> <span class="n">FB_TerminalError</span><span class="p">;</span>
<span class="n">END_VAR</span>
</pre></div>
</div>
</div>
<div class="section" id="el9410-st">
<h3>EL9410: ST<a class="headerlink" href="#el9410-st" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="o">*</span>
<span class="o">*</span> <span class="n">TODO</span><span class="o">:</span>
<span class="o">*</span> <span class="n">Status</span> <span class="n">bits</span>
<span class="o">*</span><span class="p">)</span>

<span class="n">EnO</span><span class="o">:=</span><span class="n">En</span><span class="p">;</span>

<span class="o">//</span><span class="n">Error</span> <span class="n">FB</span> <span class="n">instance</span>
<span class="n">EL9410_Error</span><span class="p">(</span>
	<span class="n">En</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span>
	<span class="n">iTerminal_ID</span> <span class="o">:=</span> <span class="n">iTerminal_ID</span><span class="p">,</span>
	<span class="n">bWcState</span> <span class="o">:=</span> <span class="n">WcState_WcState</span><span class="p">,</span>
	<span class="n">uiInfoData_State</span> <span class="o">:=</span> <span class="n">InfoData_State</span><span class="p">,</span>
	<span class="n">pErrorSystem</span> <span class="o">:=</span> <span class="n">ErrorSystem</span><span class="p">,</span>
	<span class="n">bError</span> <span class="o">=&gt;</span> <span class="n">bError</span><span class="p">,</span>
<span class="p">);</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-hardware-ethercat-terminals-system-el9505-tcpou-tcplcobject">
<h2>tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/System/EL9505.TcPOU (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-system-el9505-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="section" id="el9505-declaration">
<h3>EL9505: Declaration<a class="headerlink" href="#el9505-declaration" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="o">//</span><span class="n">EL9505</span> <span class="o">|</span> <span class="n">Power</span> <span class="n">supply</span> <span class="n">terminal</span> <span class="mi">5</span><span class="n">V</span>
<span class="n">FUNCTION_BLOCK</span> <span class="n">EL9505</span>

<span class="n">VAR_INPUT</span>
	<span class="n">En</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">iTerminal_ID</span> <span class="o">:</span> <span class="n">INT</span><span class="p">;</span>
	<span class="n">ErrorSystem</span> <span class="o">:</span> <span class="n">POINTER</span> <span class="k">TO</span> <span class="n">ST_ErrorSystem</span><span class="p">;</span>
<span class="n">END_VAR</span>

<span class="n">VAR_OUTPUT</span>
	<span class="n">EnO</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bError</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
<span class="n">END_VAR</span>

<span class="n">VAR</span>
	<span class="n">bStatus_Uo_Power_OK</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bStatus_Uo_Overload</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">WcState_WcState</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">InfoData_State</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*:</span> <span class="n">UINT</span><span class="p">;</span>
	
	<span class="o">//</span><span class="n">FB</span><span class="o">-</span><span class="n">s</span>
	<span class="n">EL9505_Error</span> <span class="o">:</span> <span class="n">FB_TerminalError</span><span class="p">;</span>
<span class="n">END_VAR</span>
</pre></div>
</div>
</div>
<div class="section" id="el9505-st">
<h3>EL9505: ST<a class="headerlink" href="#el9505-st" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="o">*</span>
<span class="o">*</span> <span class="n">TODO</span><span class="o">:</span>
<span class="o">*</span> <span class="n">Status</span> <span class="n">bits</span>
<span class="o">*</span><span class="p">)</span>
<span class="n">EnO</span><span class="o">:=</span><span class="n">En</span><span class="p">;</span>

<span class="o">//</span><span class="n">Error</span> <span class="n">FB</span> <span class="n">instance</span>
<span class="n">EL9505_Error</span><span class="p">(</span>
	<span class="n">En</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span>
	<span class="n">iTerminal_ID</span> <span class="o">:=</span> <span class="n">iTerminal_ID</span><span class="p">,</span>
	<span class="n">bWcState</span> <span class="o">:=</span> <span class="n">WcState_WcState</span><span class="p">,</span>
	<span class="n">uiInfoData_State</span> <span class="o">:=</span> <span class="n">InfoData_State</span><span class="p">,</span>
	<span class="n">pErrorSystem</span> <span class="o">:=</span> <span class="n">ErrorSystem</span><span class="p">,</span>
	<span class="n">bError</span> <span class="o">=&gt;</span> <span class="n">bError</span><span class="p">,</span>
<span class="p">);</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-hardware-other-ek1200-tcpou-tcplcobject">
<h2>tc_mca_std_lib/POUs/Hardware/Other/EK1200.TcPOU (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-hardware-other-ek1200-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="section" id="ek1200-declaration">
<h3>EK1200: Declaration<a class="headerlink" href="#ek1200-declaration" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="n">FUNCTION_BLOCK</span> <span class="n">EK1200</span>
<span class="n">VAR_INPUT</span>
	<span class="n">En</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
<span class="n">END_VAR</span>
<span class="n">VAR_OUTPUT</span>
	<span class="n">EnO</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
<span class="n">END_VAR</span>
</pre></div>
</div>
</div>
<div class="section" id="ek1200-st">
<h3>EK1200: ST<a class="headerlink" href="#ek1200-st" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="n">EnO</span><span class="o">:=</span><span class="n">En</span><span class="p">;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-motion-fb-drivevirtual-tcpou-tcplcobject">
<h2>tc_mca_std_lib/POUs/Motion/FB_DriveVirtual.TcPOU (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-motion-fb-drivevirtual-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="section" id="fb-drivevirtual-declaration">
<h3>FB_DriveVirtual: Declaration<a class="headerlink" href="#fb-drivevirtual-declaration" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span>///#########################################################
///Function block to run a virtual drive with Nc
///	Library:		
///	Tc2_MC2.lib
///
///	Global Variables:
///	
///	Data types:
///	
///	External functions:
///
///###########################################################
FUNCTION_BLOCK FB_DriveVirtual
VAR
	sVersion: STRING:=&#39;1.0.3&#39;;	
END_VAR
VAR_INPUT
	En: BOOL;
	bEnable: BOOL;
	bReset: BOOL;
	bExecute: BOOL;
	/////	nCommandLocal...
	/////	0 = Jog
	/////	1 = MoveVelocity
	/////	2 = MoveRelative
	/////	3 = MoveAbsolut
	/////	4 = MoveModulo
	/////	10 = Homing
	/////	20 = SuperInp &gt;&gt;&gt;ToBe
	/////	30 = Gear
	nCommand: UINT;
	nCmdData: UINT;
	fVelocity: LREAL;
	fPosition: LREAL;
	fAcceleration: LREAL;
	fDeceleration: LREAL;
	bJogFwd: BOOL;
	bJogBwd: BOOL;
	bLimitFwd: BOOL;
	bLimitBwd: BOOL;	
	fOverride: LREAL := 100;
	bHomeSensor: BOOL;
	fHomePosition:LREAL;
	nHomeRevOffset: UINT;
	MasterAxis: AXIS_REF;
	bPowerSelf: BOOL;
END_VAR
VAR_OUTPUT
	EnO: BOOL;
	bEnabled: BOOL;
	bBusy: BOOL;
	bDone: BOOL;
	bError: BOOL;
	bHomed: BOOL;
	nErrorId: UDINT;
	nMotionAxisID:UDINT:=0;  //Axis id in Motion (NC)
	Status: ST_AxisStatus;
	fActVelocity: LREAL;
	fActPosition: LREAL;
	fActDiff: LREAL;
    sErrorMessage:STRING;
END_VAR
VAR_IN_OUT
	Axis: AXIS_REF;
END_VAR
VAR	
	nCommandLocal: UINT;
	nCmdDataLocal: UINT;
	bFirstScan: BOOL := TRUE;
	fbReset: MC_Reset;
	fbPower: MC_Power;
	fbHalt: MC_Halt;
	fbJog: MC_Jog;
	fbMoveVelocity: MC_MoveVelocity;
	fbMoveRelative: MC_MoveRelative;
	fbMoveAbsolute: MC_MoveAbsolute;
	fbMoveModulo: MC_MoveModulo;	
	fbHomeVirtual:FB_HomeVirtual;
	fbGearInDyn: MC_GearInDyn;
	fbGearOut: MC_GearOut;
	fbExecuteRiseEdge: R_TRIG;
	stAxisStatus: DUT_AxisStatus_v0_01;	
END_VAR
</pre></div>
</div>
</div>
<div class="section" id="fb-drivevirtual-st">
<h3>FB_DriveVirtual: ST<a class="headerlink" href="#fb-drivevirtual-st" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="n">EnO</span><span class="o">:=</span><span class="n">En</span><span class="p">;</span>

<span class="o">//</span> <span class="n">Transfer</span> <span class="n">nCommand</span> <span class="k">and</span> <span class="n">nCmdData</span> <span class="k">to</span> <span class="n">local</span> <span class="n">copies</span> <span class="n">at</span> <span class="n">rising</span> <span class="n">edge</span> <span class="k">of</span> <span class="n">bExecute</span> <span class="p">(</span><span class="n">avoid</span> <span class="n">issues</span> <span class="k">if</span> <span class="n">nCommand</span> <span class="k">or</span> <span class="n">nCmdData</span> <span class="n">are</span> <span class="n">changed</span> <span class="n">during</span> <span class="n">a</span> <span class="n">command</span><span class="p">)</span> 
<span class="n">fbExecuteRiseEdge</span><span class="p">(</span><span class="n">CLK</span><span class="o">:=</span><span class="n">bExecute</span><span class="p">);</span>
<span class="k">IF</span> <span class="n">fbExecuteRiseEdge</span><span class="p">.</span><span class="n">Q</span> <span class="k">THEN</span>
  <span class="n">nCmdDataLocal</span><span class="o">:=</span><span class="n">nCmdData</span><span class="p">;</span>
  <span class="n">nCommandLocal</span><span class="o">:=</span><span class="n">nCommand</span><span class="p">;</span>
<span class="n">END_IF</span>

<span class="n">bHomed</span><span class="o">:=</span><span class="n">fbHomeVirtual</span><span class="p">.</span><span class="n">bHomed</span><span class="p">;</span> <span class="o">//</span><span class="n">Add</span> <span class="k">in</span> <span class="n">DUT_AxisStatus</span> <span class="n">later</span>
<span class="n">bDone</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>

<span class="p">(</span><span class="o">*</span><span class="n">Reset</span><span class="o">*</span><span class="p">)</span>
<span class="n">fbReset</span><span class="p">(</span>
	<span class="n">Execute</span><span class="o">:=</span><span class="n">bReset</span> <span class="k">AND</span> <span class="n">Axis</span><span class="p">.</span><span class="n">Status</span><span class="p">.</span><span class="n">Error</span><span class="p">,</span>
	<span class="n">Axis</span><span class="o">:=</span><span class="n">Axis</span><span class="p">,</span>
	<span class="n">Done</span><span class="o">=&gt;</span> <span class="p">,</span>
	<span class="n">Busy</span><span class="o">=&gt;</span> <span class="p">,</span>
	<span class="n">Error</span><span class="o">=&gt;</span> <span class="p">,</span>
	<span class="n">ErrorID</span><span class="o">=&gt;</span> <span class="p">);</span>

<span class="p">(</span><span class="o">*</span><span class="n">Power</span><span class="o">*</span><span class="p">)</span>
<span class="k">IF</span> <span class="n">bPowerSelf</span> <span class="k">THEN</span>
<span class="n">fbPower</span><span class="p">(</span>
	<span class="n">Axis</span><span class="o">:=</span><span class="n">Axis</span><span class="p">,</span>
	<span class="n">Enable</span><span class="o">:=</span><span class="n">bEnable</span><span class="p">,</span>	
	<span class="n">Enable_Positive</span><span class="o">:=</span><span class="n">bEnable</span> <span class="k">AND</span> <span class="n">bLimitFwd</span><span class="p">,</span>	
	<span class="n">Enable_Negative</span><span class="o">:=</span><span class="n">bEnable</span> <span class="k">AND</span> <span class="n">bLimitBwd</span><span class="p">,</span>	
	<span class="n">Override</span><span class="o">:=</span><span class="n">fOverride</span><span class="p">,</span>
	<span class="n">BufferMode</span><span class="o">:=</span> <span class="p">,</span>
	<span class="n">Status</span><span class="o">=&gt;</span> <span class="p">,</span>
	<span class="n">Busy</span><span class="o">=&gt;</span> <span class="p">,</span>
	<span class="n">Active</span><span class="o">=&gt;</span> <span class="p">,</span>
	<span class="n">Error</span><span class="o">=&gt;</span> <span class="p">,</span>
	<span class="n">ErrorID</span><span class="o">=&gt;</span> <span class="p">);</span>
<span class="n">END_IF</span>

<span class="p">(</span><span class="o">*</span><span class="n">Halt</span><span class="o">*</span><span class="p">)</span>
<span class="n">fbHalt</span><span class="p">(</span>
	<span class="n">Execute</span><span class="o">:=</span><span class="k">NOT</span> <span class="n">bExecute</span>  <span class="k">AND</span> <span class="p">(((</span><span class="n">fbMoveVelocity</span><span class="p">.</span><span class="n">Busy</span> <span class="k">OR</span> <span class="n">fbPower</span><span class="p">.</span><span class="n">Busy</span><span class="p">)</span> <span class="k">AND</span> <span class="p">(</span><span class="n">nCommandLocal</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span> <span class="k">OR</span> <span class="p">(</span><span class="n">fbMoveRelative</span><span class="p">.</span><span class="n">Busy</span> <span class="k">AND</span> <span class="p">(</span><span class="n">nCommandLocal</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span> <span class="k">OR</span> <span class="p">(</span><span class="n">fbMoveAbsolute</span><span class="p">.</span><span class="n">Busy</span> <span class="k">AND</span> <span class="p">(</span><span class="n">nCommandLocal</span><span class="o">=</span><span class="mi">3</span><span class="p">))</span> <span class="k">OR</span> <span class="p">(</span><span class="n">fbMoveModulo</span><span class="p">.</span><span class="n">Busy</span> <span class="k">AND</span> <span class="p">(</span><span class="n">nCommandLocal</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span> <span class="k">OR</span> <span class="p">(</span><span class="n">fbHomeVirtual</span><span class="p">.</span><span class="n">bBusy</span> <span class="k">AND</span> <span class="p">(</span><span class="n">nCommandLocal</span><span class="o">=</span><span class="mi">10</span><span class="p">))),</span>
	<span class="n">Deceleration</span><span class="o">:=</span><span class="n">fDeceleration</span><span class="p">,</span>
	<span class="n">Jerk</span><span class="o">:=</span><span class="mi">0</span><span class="p">,</span>
	<span class="n">BufferMode</span><span class="o">:=</span> <span class="p">,</span>
	<span class="n">Options</span><span class="o">:=</span> <span class="p">,</span>
	<span class="n">Axis</span><span class="o">:=</span><span class="n">Axis</span> <span class="p">,</span>
	<span class="n">Done</span><span class="o">=&gt;</span> <span class="p">,</span>
	<span class="n">Busy</span><span class="o">=&gt;</span> <span class="p">,</span>
	<span class="n">Active</span><span class="o">=&gt;</span> <span class="p">,</span>
	<span class="n">CommandAborted</span><span class="o">=&gt;</span> <span class="p">,</span>
	<span class="n">Error</span><span class="o">=&gt;</span> <span class="p">,</span>
	<span class="n">ErrorID</span><span class="o">=&gt;</span> <span class="p">);</span>

<span class="p">(</span><span class="o">*</span><span class="n">Jog</span> <span class="p">(</span><span class="n">Command</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span><span class="o">*</span><span class="p">)</span>
<span class="n">fbJog</span><span class="p">(</span>
	<span class="n">JogForward</span><span class="o">:=</span><span class="n">bJogFwd</span> <span class="k">AND</span> <span class="p">(</span><span class="n">nCommandLocal</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span> <span class="p">,</span>
	<span class="n">JogBackwards</span><span class="o">:=</span><span class="n">bJogBwd</span> <span class="k">AND</span> <span class="p">(</span><span class="n">nCommandLocal</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span> <span class="p">,</span>
	<span class="n">Mode</span><span class="o">:=</span><span class="n">UINT_TO_INT</span><span class="p">(</span><span class="n">nCmdDataLocal</span><span class="p">),</span>
	<span class="n">Position</span><span class="o">:=</span> <span class="p">,</span>
	<span class="n">Velocity</span><span class="o">:=</span><span class="n">fVelocity</span><span class="p">,</span>
	<span class="n">Acceleration</span><span class="o">:=</span><span class="n">fAcceleration</span><span class="p">,</span>
	<span class="n">Deceleration</span><span class="o">:=</span><span class="n">fDeceleration</span><span class="p">,</span>
	<span class="n">Jerk</span><span class="o">:=</span><span class="mi">0</span><span class="p">,</span>
	<span class="n">Axis</span><span class="o">:=</span><span class="n">Axis</span><span class="p">,</span>
	<span class="n">Done</span><span class="o">=&gt;</span> <span class="p">,</span>
	<span class="n">Busy</span><span class="o">=&gt;</span> <span class="p">,</span>
	<span class="n">Active</span><span class="o">=&gt;</span> <span class="p">,</span>
	<span class="n">CommandAborted</span><span class="o">=&gt;</span> <span class="p">,</span>
	<span class="n">Error</span><span class="o">=&gt;</span> <span class="p">,</span>
	<span class="n">ErrorID</span><span class="o">=&gt;</span> <span class="p">);</span>

<span class="p">(</span><span class="o">*</span><span class="n">MoveVelocity</span> <span class="p">(</span><span class="n">Command</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="p">)</span>
<span class="n">fbMoveVelocity</span><span class="p">(</span>
	<span class="n">Execute</span><span class="o">:=</span><span class="n">bExecute</span> <span class="k">AND</span> <span class="p">(</span><span class="n">nCommandLocal</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span>
	<span class="n">Velocity</span><span class="o">:=</span><span class="k">ABS</span><span class="p">(</span><span class="n">fVelocity</span><span class="p">),</span>
	<span class="n">Acceleration</span><span class="o">:=</span><span class="n">fAcceleration</span><span class="p">,</span>
	<span class="n">Deceleration</span><span class="o">:=</span><span class="n">fDeceleration</span><span class="p">,</span>
	<span class="n">Jerk</span><span class="o">:=</span><span class="mi">0</span><span class="p">,</span>
	<span class="n">Direction</span><span class="o">:=</span><span class="n">SEL</span><span class="p">(</span><span class="n">fVelocity</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">,</span> <span class="n">MC_Positive_Direction</span><span class="p">,</span> <span class="n">MC_Negative_Direction</span><span class="p">),</span>
	<span class="n">BufferMode</span><span class="o">:=</span> <span class="p">,</span>
	<span class="n">Options</span><span class="o">:=</span> <span class="p">,</span>
	<span class="n">Axis</span><span class="o">:=</span><span class="n">Axis</span><span class="p">,</span>
	<span class="n">InVelocity</span><span class="o">=&gt;</span> <span class="p">,</span>
	<span class="n">Busy</span><span class="o">=&gt;</span> <span class="p">,</span>
	<span class="n">Active</span><span class="o">=&gt;</span> <span class="p">,</span>
	<span class="n">CommandAborted</span><span class="o">=&gt;</span> <span class="p">,</span>
	<span class="n">Error</span><span class="o">=&gt;</span> <span class="p">,</span>
	<span class="n">ErrorID</span><span class="o">=&gt;</span> <span class="p">);</span>

<span class="p">(</span><span class="o">*</span><span class="n">MoveRelative</span> <span class="p">(</span><span class="n">Command</span> <span class="o">=</span> <span class="mi">2</span><span class="p">)</span><span class="o">*</span><span class="p">)</span>
<span class="n">fbMoveRelative</span><span class="p">(</span>
	<span class="n">Execute</span><span class="o">:=</span><span class="n">bExecute</span> <span class="k">AND</span> <span class="p">(</span><span class="n">nCommandLocal</span><span class="o">=</span><span class="mi">2</span><span class="p">),</span> 
	<span class="n">Distance</span><span class="o">:=</span><span class="n">fPosition</span><span class="p">,</span> 
	<span class="n">Velocity</span><span class="o">:=</span><span class="k">ABS</span><span class="p">(</span><span class="n">fVelocity</span><span class="p">),</span> 
	<span class="n">Acceleration</span><span class="o">:=</span><span class="n">fAcceleration</span><span class="p">,</span>
	<span class="n">Deceleration</span><span class="o">:=</span><span class="n">fDeceleration</span><span class="p">,</span>
	<span class="n">Jerk</span><span class="o">:=</span><span class="mi">0</span><span class="p">,</span>
	<span class="n">BufferMode</span><span class="o">:=</span> <span class="p">,</span> 
	<span class="n">Options</span><span class="o">:=</span> <span class="p">,</span> 
	<span class="n">Axis</span><span class="o">:=</span><span class="n">Axis</span><span class="p">,</span> 
	<span class="n">Done</span><span class="o">=&gt;</span> <span class="p">,</span> 
	<span class="n">Busy</span><span class="o">=&gt;</span> <span class="p">,</span> 
	<span class="n">Active</span><span class="o">=&gt;</span> <span class="p">,</span> 
	<span class="n">CommandAborted</span><span class="o">=&gt;</span> <span class="p">,</span> 
	<span class="n">Error</span><span class="o">=&gt;</span> <span class="p">,</span> 
	<span class="n">ErrorID</span><span class="o">=&gt;</span> <span class="p">);</span>
	
<span class="k">IF</span> <span class="n">nCommandLocal</span><span class="o">=</span><span class="mi">2</span> <span class="k">THEN</span>
	<span class="n">bDone</span><span class="o">:=</span><span class="n">fbMoveRelative</span><span class="p">.</span><span class="n">Done</span><span class="p">;</span>
<span class="n">END_IF</span>
	
<span class="p">(</span><span class="o">*</span><span class="n">MoveAbsolute</span> <span class="p">(</span><span class="n">Command</span> <span class="o">=</span> <span class="mi">3</span><span class="p">)</span><span class="o">*</span><span class="p">)</span>
<span class="n">fbMoveAbsolute</span><span class="p">(</span>
	<span class="n">Execute</span><span class="o">:=</span><span class="n">bExecute</span> <span class="k">AND</span> <span class="p">(</span><span class="n">nCommandLocal</span><span class="o">=</span><span class="mi">3</span><span class="p">),</span>
	<span class="n">Position</span><span class="o">:=</span><span class="n">fPosition</span><span class="p">,</span>
	<span class="n">Velocity</span><span class="o">:=</span><span class="k">ABS</span><span class="p">(</span><span class="n">fVelocity</span><span class="p">),</span>
	<span class="n">Acceleration</span><span class="o">:=</span><span class="n">fAcceleration</span><span class="p">,</span>
	<span class="n">Deceleration</span><span class="o">:=</span><span class="n">fDeceleration</span><span class="p">,</span>
	<span class="n">Jerk</span><span class="o">:=</span><span class="mi">0</span><span class="p">,</span>
	<span class="n">BufferMode</span><span class="o">:=</span> <span class="p">,</span>
	<span class="n">Options</span><span class="o">:=</span> <span class="p">,</span>
	<span class="n">Axis</span><span class="o">:=</span><span class="n">Axis</span><span class="p">,</span>
	<span class="n">Done</span><span class="o">=&gt;</span> <span class="p">,</span>
	<span class="n">Busy</span><span class="o">=&gt;</span> <span class="p">,</span>
	<span class="n">Active</span><span class="o">=&gt;</span> <span class="p">,</span>
	<span class="n">CommandAborted</span><span class="o">=&gt;</span> <span class="p">,</span>
	<span class="n">Error</span><span class="o">=&gt;</span> <span class="p">,</span>
	<span class="n">ErrorID</span><span class="o">=&gt;</span> <span class="p">);</span>

<span class="k">IF</span> <span class="n">nCommandLocal</span><span class="o">=</span><span class="mi">3</span> <span class="k">THEN</span>
	<span class="n">bDone</span><span class="o">:=</span><span class="n">fbMoveAbsolute</span><span class="p">.</span><span class="n">Done</span><span class="p">;</span>
<span class="n">END_IF</span>

<span class="p">(</span><span class="o">*</span><span class="n">MoveModulo</span> <span class="p">(</span><span class="n">Command</span> <span class="o">=</span> <span class="mi">4</span><span class="p">)</span><span class="o">*</span><span class="p">)</span>
<span class="n">fbMoveModulo</span><span class="p">(</span>
	<span class="n">Execute</span><span class="o">:=</span><span class="n">bExecute</span> <span class="k">AND</span> <span class="p">(</span><span class="n">nCommandLocal</span><span class="o">=</span><span class="mi">4</span><span class="p">),</span> 
	<span class="n">Position</span><span class="o">:=</span><span class="n">fPosition</span><span class="p">,</span> 
	<span class="n">Velocity</span><span class="o">:=</span><span class="k">ABS</span><span class="p">(</span><span class="n">fVelocity</span><span class="p">),</span> 
	<span class="n">Acceleration</span><span class="o">:=</span><span class="n">fAcceleration</span><span class="p">,</span> 
	<span class="n">Deceleration</span><span class="o">:=</span><span class="n">fDeceleration</span><span class="p">,</span> 
	<span class="n">Jerk</span><span class="o">:=</span><span class="mi">0</span><span class="p">,</span> 
	<span class="n">Direction</span><span class="o">:=</span><span class="n">UINT_TO_INT</span><span class="p">(</span><span class="n">nCmdDataLocal</span><span class="p">),</span> 
	<span class="n">BufferMode</span><span class="o">:=</span> <span class="p">,</span> 
	<span class="n">Options</span><span class="o">:=</span> <span class="p">,</span> 
	<span class="n">Axis</span><span class="o">:=</span><span class="n">Axis</span><span class="p">,</span> 
	<span class="n">Done</span><span class="o">=&gt;</span> <span class="p">,</span> 
	<span class="n">Busy</span><span class="o">=&gt;</span> <span class="p">,</span> 
	<span class="n">Active</span><span class="o">=&gt;</span> <span class="p">,</span> 
	<span class="n">CommandAborted</span><span class="o">=&gt;</span> <span class="p">,</span> 
	<span class="n">Error</span><span class="o">=&gt;</span> <span class="p">,</span> 
	<span class="n">ErrorID</span><span class="o">=&gt;</span> <span class="p">);</span>

<span class="k">IF</span> <span class="n">nCommandLocal</span><span class="o">=</span><span class="mi">4</span> <span class="k">THEN</span>
	<span class="n">bDone</span><span class="o">:=</span><span class="n">fbMoveModulo</span><span class="p">.</span><span class="n">Done</span><span class="p">;</span>
<span class="n">END_IF</span>
	
<span class="p">(</span><span class="o">*</span><span class="n">Home</span> <span class="p">(</span><span class="n">Command</span> <span class="o">=</span> <span class="mi">10</span><span class="p">)</span><span class="o">*</span><span class="p">)</span>
<span class="n">fbHomeVirtual</span><span class="p">(</span>	
	<span class="n">bExecute</span><span class="o">:=</span> <span class="n">nCommandLocal</span><span class="o">=</span><span class="mi">10</span> <span class="k">AND</span> <span class="n">bExecute</span><span class="p">,</span>
	<span class="n">fHomePosition</span><span class="o">:=</span><span class="n">fHomePosition</span><span class="p">,</span>
	<span class="n">bHomeSensor</span><span class="o">:=</span><span class="n">bHomeSensor</span><span class="p">,</span>
	<span class="n">bLimitBwd</span><span class="o">:=</span><span class="n">bLimitBwd</span><span class="p">,</span>
	<span class="n">bLimitFwd</span><span class="o">:=</span><span class="n">bLimitFwd</span><span class="p">,</span>
	<span class="n">nCmdData</span><span class="o">:=</span><span class="n">nCmdDataLocal</span><span class="p">,</span>
	<span class="n">bReset</span><span class="o">:=</span><span class="n">bReset</span><span class="p">,</span>
	<span class="n">nHomeRevOffset</span><span class="o">:=</span><span class="n">nHomeRevOffset</span><span class="p">,</span>
	<span class="n">Axis</span><span class="o">:=</span><span class="n">Axis</span>
	<span class="p">);</span>
	
<span class="k">IF</span> <span class="n">nCommandLocal</span><span class="o">=</span><span class="mi">10</span> <span class="k">THEN</span>
	<span class="n">bDone</span><span class="o">:=</span><span class="n">fbHomeVirtual</span><span class="p">.</span><span class="n">bDone</span><span class="p">;</span>
<span class="n">END_IF</span>
	
<span class="p">(</span><span class="o">*</span><span class="n">Gear</span> <span class="p">(</span><span class="n">Command</span> <span class="o">=</span> <span class="mi">30</span><span class="p">)</span><span class="o">*</span><span class="p">)</span>
<span class="n">fbGearInDyn</span><span class="p">(</span>
	<span class="n">Enable</span><span class="o">:=</span><span class="n">bExecute</span>  <span class="k">AND</span> <span class="p">(</span><span class="n">nCommandLocal</span><span class="o">=</span><span class="mi">30</span><span class="p">),</span>
	<span class="n">GearRatio</span><span class="o">:=</span><span class="n">SEL</span><span class="p">(</span><span class="n">nCmdDataLocal</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span><span class="n">fVelocity</span><span class="p">),</span>
	<span class="n">Acceleration</span><span class="o">:=</span><span class="n">fAcceleration</span><span class="p">,</span>
	<span class="n">Deceleration</span><span class="o">:=</span><span class="n">fDeceleration</span><span class="p">,</span>
	<span class="n">Jerk</span><span class="o">:=</span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span>
	<span class="n">BufferMode</span><span class="o">:=</span> <span class="p">,</span> 
	<span class="n">Options</span><span class="o">:=</span> <span class="p">,</span> 
	<span class="n">Master</span><span class="o">:=</span><span class="n">MasterAxis</span><span class="p">,</span>
	<span class="n">Slave</span><span class="o">:=</span><span class="n">Axis</span><span class="p">,</span>
	<span class="n">InGear</span><span class="o">=&gt;</span> <span class="p">,</span> 
	<span class="n">Busy</span><span class="o">=&gt;</span> <span class="p">,</span> 
	<span class="n">Active</span><span class="o">=&gt;</span> <span class="p">,</span> 
	<span class="n">CommandAborted</span><span class="o">=&gt;</span> <span class="p">,</span> 
	<span class="n">Error</span><span class="o">=&gt;</span> <span class="p">,</span> 
	<span class="n">ErrorID</span><span class="o">=&gt;</span> <span class="p">);</span>
	
<span class="n">fbGearOut</span><span class="p">(</span>
	<span class="n">Execute</span><span class="o">:=</span><span class="k">NOT</span> <span class="n">bExecute</span> <span class="k">AND</span> <span class="n">Axis</span><span class="p">.</span><span class="n">Status</span><span class="p">.</span><span class="n">NotMoving</span> <span class="k">AND</span> <span class="p">(</span><span class="n">nCommandLocal</span><span class="o">=</span><span class="mi">30</span><span class="p">),</span>
	<span class="n">Slave</span><span class="o">:=</span><span class="n">Axis</span><span class="p">,</span>
	<span class="n">Error</span><span class="o">=&gt;</span><span class="p">,</span>
	<span class="n">Done</span><span class="o">=&gt;</span><span class="p">,</span>
	<span class="n">ErrorID</span><span class="o">=&gt;</span><span class="p">);</span>


<span class="k">IF</span> <span class="n">nCommandLocal</span><span class="o">=</span><span class="mi">30</span> <span class="k">THEN</span>
	<span class="n">bDone</span><span class="o">:=</span><span class="n">Axis</span><span class="p">.</span><span class="n">Status</span><span class="p">.</span><span class="n">Coupled</span><span class="p">;</span>
<span class="n">END_IF</span>

<span class="p">(</span><span class="o">*</span><span class="n">Busy</span><span class="o">*</span><span class="p">)</span>
<span class="n">bBusy</span><span class="o">:=</span><span class="n">Axis</span><span class="p">.</span><span class="n">Status</span><span class="p">.</span><span class="n">HasJob</span> <span class="k">OR</span> <span class="n">Axis</span><span class="p">.</span><span class="n">Status</span><span class="p">.</span><span class="n">HomingBusy</span> <span class="k">OR</span> <span class="n">fbHomeVirtual</span><span class="p">.</span><span class="n">bBusy</span><span class="p">;</span>

<span class="p">(</span><span class="o">*</span><span class="n">Enabled</span><span class="o">*</span><span class="p">)</span>
<span class="n">bEnabled</span><span class="o">:=</span><span class="n">fbPower</span><span class="p">.</span><span class="n">Status</span><span class="p">;</span>

<span class="p">(</span><span class="o">*</span><span class="n">Error</span> <span class="n">from</span> <span class="n">functions</span> <span class="k">and</span> <span class="n">Nc</span><span class="o">*</span><span class="p">)</span>
<span class="k">IF</span> <span class="n">fbPower</span><span class="p">.</span><span class="n">Error</span> <span class="k">AND</span> <span class="n">fbPower</span><span class="p">.</span><span class="n">Active</span> <span class="k">THEN</span>
	<span class="n">bError</span><span class="o">:=</span><span class="n">fbPower</span><span class="p">.</span><span class="n">Enable</span><span class="p">;</span>
	<span class="n">nErrorId</span><span class="o">:=</span><span class="n">fbPower</span><span class="p">.</span><span class="n">ErrorID</span><span class="p">;</span>
<span class="k">ELSIF</span> <span class="n">fbHalt</span><span class="p">.</span><span class="n">Error</span> <span class="k">AND</span> <span class="n">fbHalt</span><span class="p">.</span><span class="n">Active</span> <span class="k">THEN</span>
	<span class="n">bError</span><span class="o">:=</span><span class="n">fbHalt</span><span class="p">.</span><span class="n">Execute</span><span class="p">;</span>
	<span class="n">nErrorId</span><span class="o">:=</span><span class="n">fbHalt</span><span class="p">.</span><span class="n">ErrorID</span><span class="p">;</span>
<span class="k">ELSIF</span> <span class="n">fbJog</span><span class="p">.</span><span class="n">Error</span> <span class="k">AND</span> <span class="n">nCommandLocal</span><span class="o">=</span><span class="mi">0</span> <span class="p">(</span><span class="o">*</span><span class="n">fbJog</span><span class="p">.</span><span class="n">Active</span><span class="o">*</span><span class="p">)</span> <span class="k">THEN</span>
	<span class="n">bError</span><span class="o">:=</span><span class="n">fbJog</span><span class="p">.</span><span class="n">JogForward</span> <span class="k">OR</span> <span class="n">fbJog</span><span class="p">.</span><span class="n">JogBackwards</span><span class="p">;</span>
	<span class="n">nErrorId</span><span class="o">:=</span><span class="n">fbJog</span><span class="p">.</span><span class="n">ErrorID</span><span class="p">;</span>
<span class="k">ELSIF</span> <span class="n">fbMoveVelocity</span><span class="p">.</span><span class="n">Error</span> <span class="k">AND</span> <span class="n">nCommandLocal</span><span class="o">=</span><span class="mi">1</span><span class="p">(</span><span class="o">*</span><span class="n">fbMoveVelocity</span><span class="p">.</span><span class="n">Active</span><span class="o">*</span><span class="p">)</span> <span class="k">THEN</span>
	<span class="n">bError</span><span class="o">:=</span><span class="n">fbMoveVelocity</span><span class="p">.</span><span class="n">Execute</span><span class="p">;</span>
	<span class="n">nErrorId</span><span class="o">:=</span><span class="n">fbMoveVelocity</span><span class="p">.</span><span class="n">ErrorID</span><span class="p">;</span>
<span class="k">ELSIF</span> <span class="n">fbMoveRelative</span><span class="p">.</span><span class="n">Error</span> <span class="k">AND</span> <span class="n">nCommandLocal</span><span class="o">=</span><span class="mi">2</span> <span class="p">(</span><span class="o">*</span><span class="n">fbMoveRelative</span><span class="p">.</span><span class="n">Active</span><span class="o">*</span><span class="p">)</span> <span class="k">THEN</span>
	<span class="n">bError</span><span class="o">:=</span><span class="n">fbMoveRelative</span><span class="p">.</span><span class="n">Execute</span><span class="p">;</span>
	<span class="n">nErrorId</span><span class="o">:=</span><span class="n">fbMoveRelative</span><span class="p">.</span><span class="n">ErrorID</span><span class="p">;</span>
<span class="k">ELSIF</span> <span class="n">fbMoveAbsolute</span><span class="p">.</span><span class="n">Error</span> <span class="k">AND</span> <span class="n">nCommandLocal</span><span class="o">=</span><span class="mi">3</span> <span class="p">(</span><span class="o">*</span><span class="n">fbMoveAbsolute</span><span class="p">.</span><span class="n">Active</span><span class="o">*</span><span class="p">)</span> <span class="k">THEN</span>
	<span class="n">bError</span><span class="o">:=</span><span class="n">fbMoveAbsolute</span><span class="p">.</span><span class="n">Execute</span><span class="p">;</span>
	<span class="n">nErrorId</span><span class="o">:=</span><span class="n">fbMoveAbsolute</span><span class="p">.</span><span class="n">ErrorID</span><span class="p">;</span>
<span class="k">ELSIF</span> <span class="n">fbMoveModulo</span><span class="p">.</span><span class="n">Error</span> <span class="k">AND</span> <span class="n">nCommandLocal</span><span class="o">=</span><span class="mi">4</span> <span class="p">(</span><span class="o">*</span><span class="n">fbMoveModulo</span><span class="p">.</span><span class="n">Active</span><span class="o">*</span><span class="p">)</span> <span class="k">THEN</span>
	<span class="n">bError</span><span class="o">:=</span><span class="n">fbMoveModulo</span><span class="p">.</span><span class="n">Execute</span><span class="p">;</span>
	<span class="n">nErrorId</span><span class="o">:=</span><span class="n">fbMoveModulo</span><span class="p">.</span><span class="n">ErrorID</span><span class="p">;</span>
<span class="k">ELSIF</span> <span class="n">fbHomeVirtual</span><span class="p">.</span><span class="n">bError</span> <span class="k">AND</span> <span class="n">nCommandLocal</span><span class="o">=</span><span class="mi">10</span> <span class="p">(</span><span class="o">*</span><span class="n">fbHome</span><span class="p">.</span><span class="n">Active</span><span class="o">*</span><span class="p">)</span> <span class="k">THEN</span>
	<span class="n">bError</span><span class="o">:=</span><span class="n">fbHomeVirtual</span><span class="p">.</span><span class="n">bError</span><span class="p">;</span>
	<span class="n">nErrorId</span><span class="o">:=</span><span class="n">fbHomeVirtual</span><span class="p">.</span><span class="n">nErrorID</span><span class="p">;</span>
<span class="k">ELSIF</span> <span class="n">fbGearInDyn</span><span class="p">.</span><span class="n">Error</span> <span class="k">AND</span> <span class="n">nCommandLocal</span><span class="o">=</span><span class="mi">30</span> <span class="p">(</span><span class="o">*</span><span class="n">fbGearInDyn</span><span class="p">.</span><span class="n">Active</span><span class="o">*</span><span class="p">)</span> <span class="k">THEN</span>
	<span class="n">bError</span><span class="o">:=</span><span class="n">fbGearInDyn</span><span class="p">.</span><span class="n">Enable</span><span class="p">;</span>
	<span class="n">nErrorId</span><span class="o">:=</span><span class="n">fbGearInDyn</span><span class="p">.</span><span class="n">ErrorID</span><span class="p">;</span>
<span class="k">ELSIF</span> <span class="n">fbGearOut</span><span class="p">.</span><span class="n">Error</span> <span class="k">AND</span> <span class="n">nCommandLocal</span><span class="o">=</span><span class="mi">30</span> <span class="k">AND</span> <span class="n">Axis</span><span class="p">.</span><span class="n">Status</span><span class="p">.</span><span class="n">Coupled</span> <span class="k">THEN</span>
	<span class="n">bError</span><span class="o">:=</span><span class="n">fbGearOut</span><span class="p">.</span><span class="n">Execute</span><span class="p">;</span>
	<span class="n">nErrorId</span><span class="o">:=</span><span class="n">fbGearOut</span><span class="p">.</span><span class="n">ErrorID</span><span class="p">;</span>
<span class="k">ELSIF</span> <span class="n">Axis</span><span class="p">.</span><span class="n">Status</span><span class="p">.</span><span class="n">Error</span>  <span class="k">THEN</span>
	<span class="n">bError</span><span class="o">:=</span><span class="n">TRUE</span><span class="p">;</span>
	<span class="n">nErrorId</span><span class="o">:=</span><span class="n">Axis</span><span class="p">.</span><span class="n">Status</span><span class="p">.</span><span class="n">ErrorID</span><span class="p">;</span>
<span class="k">ELSIF</span> <span class="n">fbHomeVirtual</span><span class="p">.</span><span class="n">bError</span> <span class="k">THEN</span>
	<span class="n">bError</span><span class="o">:=</span><span class="n">TRUE</span><span class="p">;</span>
	<span class="n">nErrorId</span><span class="o">:=</span><span class="n">fbHomeVirtual</span><span class="p">.</span><span class="n">nErrorId</span><span class="p">;</span>
<span class="k">ELSE</span>
	<span class="n">bError</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
	<span class="n">nErrorId</span><span class="o">:=</span><span class="mi">0</span><span class="p">;</span>
<span class="n">END_IF</span><span class="p">;</span>

<span class="p">(</span><span class="o">*</span><span class="n">Converese</span> <span class="n">nErrorID</span> <span class="k">to</span> <span class="kt">string</span><span class="o">*</span><span class="p">)</span>
<span class="n">sErrorMessage</span><span class="o">:=</span><span class="n">WORD_TO_HEXSTR</span><span class="p">(</span><span class="k">in</span><span class="o">:=</span><span class="n">TO_WORD</span><span class="p">(</span><span class="n">nErrorID</span><span class="p">)</span> <span class="p">,</span> <span class="n">iPrecision</span><span class="o">:=</span> <span class="mi">4</span><span class="p">,</span> <span class="n">bLoCase</span><span class="o">:=</span><span class="mi">0</span> <span class="p">);</span>

<span class="p">(</span><span class="o">*</span><span class="n">Status</span> <span class="n">from</span> <span class="n">Nc</span><span class="o">*</span><span class="p">)</span>
<span class="n">Status</span><span class="o">:=</span><span class="n">Axis</span><span class="p">.</span><span class="n">Status</span><span class="p">;</span>

<span class="p">(</span><span class="o">*</span><span class="n">Axis</span> <span class="n">id</span> <span class="k">in</span> <span class="n">motion</span> <span class="s">&quot;motor&quot;</span><span class="o">*</span><span class="p">)</span>
<span class="n">nMotionAxisID</span><span class="o">:=</span><span class="n">axis</span><span class="p">.</span><span class="n">NcToPlc</span><span class="p">.</span><span class="n">AxisId</span><span class="p">;</span>

<span class="p">(</span><span class="o">*</span><span class="n">Actual</span> <span class="n">Velocity</span><span class="o">*</span><span class="p">)</span>
<span class="n">fActVelocity</span><span class="o">:=</span><span class="n">Axis</span><span class="p">.</span><span class="n">NcToPlc</span><span class="p">.</span><span class="n">ActVelo</span><span class="p">;</span>

<span class="p">(</span><span class="o">*</span><span class="n">Actual</span> <span class="n">Position</span><span class="o">*</span><span class="p">)</span>
<span class="k">IF</span> <span class="n">Axis</span><span class="p">.</span><span class="n">Status</span><span class="p">.</span><span class="n">OpMode</span><span class="p">.</span><span class="n">Modulo</span> <span class="k">THEN</span>
	<span class="n">fActPosition</span><span class="o">:=</span><span class="n">Axis</span><span class="p">.</span><span class="n">NcToPlc</span><span class="p">.</span><span class="n">ModuloActPos</span><span class="p">;</span>
<span class="k">ELSE</span>
	<span class="n">fActPosition</span><span class="o">:=</span><span class="n">Axis</span><span class="p">.</span><span class="n">NcToPlc</span><span class="p">.</span><span class="n">ActPos</span><span class="p">;</span>
<span class="n">END_IF</span>

<span class="p">(</span><span class="o">*</span><span class="n">Actual</span> <span class="n">Position</span><span class="o">*</span><span class="p">)</span>
<span class="n">fActDiff</span><span class="o">:=</span><span class="n">Axis</span><span class="p">.</span><span class="n">NcToPlc</span><span class="p">.</span><span class="n">PosDiff</span><span class="p">;</span>


<span class="o">//</span><span class="n">Status</span> <span class="n">struct</span> <span class="k">for</span> <span class="n">EPICS</span> <span class="n">communication</span>
<span class="n">stAxisStatus</span><span class="p">.</span><span class="n">bEnable</span><span class="o">:=</span><span class="n">bEnable</span><span class="p">;</span>
<span class="n">stAxisStatus</span><span class="p">.</span><span class="n">bEnabled</span><span class="o">:=</span><span class="n">bEnabled</span><span class="p">;</span>
<span class="n">stAxisStatus</span><span class="p">.</span><span class="n">bError</span><span class="o">:=</span><span class="n">bError</span><span class="p">;</span>
<span class="n">stAxisStatus</span><span class="p">.</span><span class="n">bExecute</span><span class="o">:=</span><span class="n">bExecute</span><span class="p">;</span>
<span class="n">stAxisStatus</span><span class="p">.</span><span class="n">bHomeSensor</span><span class="o">:=</span><span class="n">bHomeSensor</span><span class="p">;</span>
<span class="n">stAxisStatus</span><span class="p">.</span><span class="n">bJogBwd</span><span class="o">:=</span><span class="n">bJogBwd</span><span class="p">;</span>
<span class="n">stAxisStatus</span><span class="p">.</span><span class="n">bJogFwd</span><span class="o">:=</span><span class="n">bJogFwd</span><span class="p">;</span>
<span class="n">stAxisStatus</span><span class="p">.</span><span class="n">bLimitBwd</span><span class="o">:=</span><span class="n">bLimitBwd</span><span class="p">;</span>
<span class="n">stAxisStatus</span><span class="p">.</span><span class="n">bLimitFwd</span><span class="o">:=</span><span class="n">bLimitFwd</span><span class="p">;</span>
<span class="n">stAxisStatus</span><span class="p">.</span><span class="n">bReset</span><span class="o">:=</span><span class="n">bReset</span><span class="p">;</span>
<span class="n">stAxisStatus</span><span class="p">.</span><span class="n">fAcceleration</span><span class="o">:=</span><span class="n">fAcceleration</span><span class="p">;</span>
<span class="n">stAxisStatus</span><span class="p">.</span><span class="n">fActDiff</span><span class="o">:=</span><span class="n">fActDiff</span><span class="p">;</span>
<span class="n">stAxisStatus</span><span class="p">.</span><span class="n">fActPosition</span><span class="o">:=</span><span class="n">fActPosition</span><span class="p">;</span>
<span class="n">stAxisStatus</span><span class="p">.</span><span class="n">fActVelocity</span><span class="o">:=</span><span class="n">fActVelocity</span><span class="p">;</span>
<span class="n">stAxisStatus</span><span class="p">.</span><span class="n">fDeceleration</span><span class="o">:=</span><span class="n">fDeceleration</span><span class="p">;</span>
<span class="n">stAxisStatus</span><span class="p">.</span><span class="n">fOverride</span><span class="o">:=</span><span class="n">fOverride</span><span class="p">;</span>
<span class="n">stAxisStatus</span><span class="p">.</span><span class="n">fPosition</span><span class="o">:=</span><span class="n">fPosition</span><span class="p">;</span>
<span class="n">stAxisStatus</span><span class="p">.</span><span class="n">fVelocity</span><span class="o">:=</span><span class="n">fVelocity</span><span class="p">;</span>
<span class="n">stAxisStatus</span><span class="p">.</span><span class="n">nCmdData</span><span class="o">:=</span><span class="n">nCmdData</span><span class="p">;</span>  <span class="o">//</span><span class="k">Or</span> <span class="n">nCmdDataLocal</span>
<span class="n">stAxisStatus</span><span class="p">.</span><span class="n">nCommand</span><span class="o">:=</span><span class="n">nCommand</span><span class="p">;</span>  <span class="o">//</span><span class="k">Or</span> <span class="n">nCommandLocal</span>
<span class="n">stAxisStatus</span><span class="p">.</span><span class="n">nErrorId</span><span class="o">:=</span><span class="n">nErrorId</span><span class="p">;</span>
<span class="n">stAxisStatus</span><span class="p">.</span><span class="n">bBusy</span><span class="o">:=</span><span class="n">bBusy</span><span class="p">;</span>
<span class="n">stAxisStatus</span><span class="p">.</span><span class="n">bHomed</span><span class="o">:=</span><span class="n">bHomed</span><span class="p">;</span>

<span class="k">IF</span> <span class="n">bFirstScan</span> <span class="k">THEN</span>
	<span class="n">bFirstScan</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
<span class="n">END_IF</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-motion-fb-ncaxis-tcpou-tcplcobject">
<h2>tc_mca_std_lib/POUs/Motion/FB_NcAxis.TcPOU (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-motion-fb-ncaxis-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="section" id="fb-ncaxis-declaration">
<h3>FB_NcAxis: Declaration<a class="headerlink" href="#fb-ncaxis-declaration" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span>///#########################################################
///Function block to communicate between Nc and Plc.
///
///	Library:		
///	Tc2_MC2.lib
///
///	Global Variables:
///	
///	Data types:
///	
///	External functions:
///
///###########################################################
FUNCTION_BLOCK FB_NcAxis
VAR
	sVersion: STRING:=&#39;1.0.0&#39;;
END_VAR
VAR_INPUT
	En: BOOL;
END_VAR
VAR_OUTPUT
	EnO: BOOL;
	bError: BOOL;
	Status: ST_AxisStatus;
END_VAR
VAR
	Axis: AXIS_REF;
	InfoData_State AT %I*: UINT;
END_VAR
</pre></div>
</div>
</div>
<div class="section" id="fb-ncaxis-st">
<h3>FB_NcAxis: ST<a class="headerlink" href="#fb-ncaxis-st" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="n">EnO</span><span class="o">:=</span><span class="n">En</span><span class="p">;</span>

<span class="k">IF</span> <span class="n">En</span> <span class="k">AND</span> <span class="n">InfoData_State</span><span class="o">&lt;&gt;</span><span class="mi">16#8</span> <span class="k">THEN</span>
	<span class="n">bError</span><span class="o">:=</span><span class="n">TRUE</span><span class="p">;</span>
<span class="k">ELSE</span>
	<span class="n">bError</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
<span class="n">END_IF</span>

<span class="k">IF</span> <span class="n">En</span> <span class="k">THEN</span>
	<span class="n">Axis</span><span class="p">.</span><span class="n">ReadStatus</span><span class="p">();</span>
	<span class="n">Status</span><span class="o">:=</span><span class="n">Axis</span><span class="p">.</span><span class="n">Status</span><span class="p">;</span>
<span class="n">END_IF</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-motion-homing-fb-homedirect-tcpou-tcplcobject">
<h2>tc_mca_std_lib/POUs/Motion/Homing/FB_HomeDirect.TcPOU (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-motion-homing-fb-homedirect-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="section" id="fb-homedirect-declaration">
<h3>FB_HomeDirect: Declaration<a class="headerlink" href="#fb-homedirect-declaration" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="n">FUNCTION_BLOCK</span> <span class="n">FB_HomeDirect</span>
<span class="n">VAR_INPUT</span>
	<span class="n">En</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bReset</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
    <span class="n">bExecute</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>	
	<span class="n">fHomePosition</span><span class="o">:</span><span class="n">LREAL</span><span class="p">;</span>	
<span class="n">END_VAR</span>
<span class="n">VAR_IN_OUT</span>
	<span class="n">Axis</span><span class="o">:</span> <span class="n">AXIS_REF</span><span class="p">;</span>
<span class="n">END_VAR</span>
<span class="n">VAR_OUTPUT</span>
	<span class="n">EnO</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>	
	<span class="n">bBusy</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bDone</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bHomed</span><span class="o">:</span><span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bError</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">nErrorId</span><span class="o">:</span> <span class="n">UDINT</span><span class="p">;</span>
<span class="n">END_VAR</span>
<span class="n">VAR</span>
	<span class="n">fbHome</span><span class="o">:</span> <span class="n">MC_Home</span><span class="p">;</span>	
<span class="n">END_VAR</span>
</pre></div>
</div>
</div>
<div class="section" id="fb-homedirect-st">
<h3>FB_HomeDirect: ST<a class="headerlink" href="#fb-homedirect-st" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="n">En</span><span class="o">:=</span><span class="n">EnO</span><span class="p">;</span>
<span class="k">IF</span> <span class="n">bReset</span> <span class="k">THEN</span>
	<span class="n">bError</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
	<span class="n">nErrorId</span><span class="o">:=</span><span class="mi">0</span><span class="p">;</span>
<span class="n">END_IF</span> 

<span class="n">fbHome</span><span class="p">(</span>
	<span class="n">Execute</span><span class="o">:=</span><span class="n">bExecute</span><span class="p">,</span>
	<span class="n">Position</span><span class="o">:=</span><span class="n">fHomePosition</span><span class="p">,</span>
	<span class="n">HomingMode</span><span class="o">:=</span><span class="n">MC_Direct</span><span class="p">,</span>
	<span class="n">bCalibrationCam</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">,</span>
	<span class="n">Axis</span><span class="o">:=</span><span class="n">Axis</span>
	<span class="p">);</span>
	
<span class="n">bBusy</span><span class="o">:=</span><span class="n">fbHome</span><span class="p">.</span><span class="n">Busy</span><span class="p">;</span>
<span class="n">bDone</span><span class="o">:=</span><span class="n">fbHome</span><span class="p">.</span><span class="n">Done</span><span class="p">;</span>
<span class="n">bHomed</span><span class="o">:=</span><span class="n">Axis</span><span class="p">.</span><span class="n">Status</span><span class="p">.</span><span class="n">Homed</span><span class="p">;</span>

<span class="n">bError</span><span class="o">:=</span><span class="n">fbHome</span><span class="p">.</span><span class="n">Error</span><span class="p">;</span> 

<span class="k">IF</span> <span class="n">fbHome</span><span class="p">.</span><span class="n">Error</span> <span class="k">THEN</span>
  <span class="n">nErrorId</span><span class="o">:=</span><span class="n">fbHome</span><span class="p">.</span><span class="n">ErrorID</span><span class="p">;</span>
<span class="n">END_IF</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-motion-homing-fb-homefinish-tcpou-tcplcobject">
<h2>tc_mca_std_lib/POUs/Motion/Homing/FB_HomeFinish.TcPOU (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-motion-homing-fb-homefinish-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="section" id="fb-homefinish-declaration">
<h3>FB_HomeFinish: Declaration<a class="headerlink" href="#fb-homefinish-declaration" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="n">FUNCTION_BLOCK</span> <span class="n">FB_HomeFinish</span>
<span class="n">VAR_INPUT</span>
	<span class="n">En</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bReset</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
    <span class="n">bExecute</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>	
    <span class="n">nCmdData</span><span class="o">:</span> <span class="n">UINT</span><span class="p">;</span>
	<span class="n">bSofLimEnableLow</span><span class="o">:</span> <span class="n">BOOL</span><span class="o">:=</span><span class="n">TRUE</span><span class="p">;</span>
	<span class="n">bSofLimEnableHigh</span><span class="o">:</span> <span class="n">BOOL</span><span class="o">:=</span><span class="n">TRUE</span><span class="p">;</span>			
<span class="n">END_VAR</span>
<span class="n">VAR_IN_OUT</span>
	<span class="n">Axis</span><span class="o">:</span> <span class="n">AXIS_REF</span><span class="p">;</span>
<span class="n">END_VAR</span>
<span class="n">VAR_OUTPUT</span>
	<span class="n">EnO</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>	
	<span class="n">bBusy</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bDone</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bError</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">nErrorId</span><span class="o">:</span> <span class="n">UDINT</span><span class="p">;</span>
<span class="n">END_VAR</span>
<span class="n">VAR</span>		
	<span class="n">fbHomewriteSoftLimEnable</span><span class="o">:</span><span class="n">FB_HomeWriteSoftLimEnable</span><span class="p">;</span>	
	<span class="n">fbExecuteRiseEdge</span><span class="o">:</span> <span class="n">R_TRIG</span><span class="p">;</span>	
	<span class="n">bExecuteWriteNC</span><span class="o">:</span><span class="n">BOOL</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
	<span class="n">nState</span><span class="o">:</span><span class="n">INT</span><span class="o">:=</span><span class="mi">0</span><span class="p">;</span>
<span class="n">END_VAR</span>
</pre></div>
</div>
</div>
<div class="section" id="fb-homefinish-st">
<h3>FB_HomeFinish: ST<a class="headerlink" href="#fb-homefinish-st" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="n">En</span><span class="o">:=</span><span class="n">EnO</span><span class="p">;</span>
<span class="k">IF</span> <span class="n">bReset</span> <span class="k">THEN</span>
	<span class="n">bError</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
	<span class="n">nErrorId</span><span class="o">:=</span><span class="mi">0</span><span class="p">;</span>
<span class="n">END_IF</span> 

<span class="k">IF</span> <span class="k">NOT</span> <span class="n">bExecute</span> <span class="k">THEN</span>
  <span class="n">bExecuteWriteNC</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
  <span class="n">fbHomewriteSoftLimEnable</span><span class="p">.</span><span class="n">bSofLimEnableLow</span><span class="o">:=</span><span class="n">bSofLimEnableLow</span><span class="p">;</span>
  <span class="n">fbHomewriteSoftLimEnable</span><span class="p">.</span><span class="n">bSofLimEnableHigh</span><span class="o">:=</span><span class="n">bSofLimEnableHigh</span><span class="p">;</span>   
  <span class="n">nState</span><span class="o">:=</span><span class="mi">0</span><span class="p">;</span>
<span class="n">END_IF</span>

<span class="n">fbExecuteRiseEdge</span><span class="p">(</span><span class="n">CLK</span><span class="o">:=</span><span class="n">bExecute</span><span class="p">);</span>
<span class="k">IF</span> <span class="n">fbExecuteRiseEdge</span><span class="p">.</span><span class="n">Q</span> <span class="k">THEN</span>
  <span class="n">bExecuteWriteNC</span><span class="o">:=</span><span class="n">TRUE</span><span class="p">;</span>  
  <span class="n">fbHomewriteSoftLimEnable</span><span class="p">.</span><span class="n">bSofLimEnableLow</span><span class="o">:=</span><span class="n">bSofLimEnableLow</span><span class="p">;</span>
  <span class="n">fbHomewriteSoftLimEnable</span><span class="p">.</span><span class="n">bSofLimEnableHigh</span><span class="o">:=</span><span class="n">bSofLimEnableHigh</span><span class="p">;</span>
<span class="n">END_IF</span>

<span class="o">//</span> <span class="n">Write</span> <span class="k">to</span> <span class="n">NC</span> <span class="p">(</span><span class="n">disable</span> <span class="n">soft</span> <span class="n">limits</span><span class="p">)</span>
<span class="n">fbHomewriteSoftLimEnable</span><span class="p">(</span>
	<span class="n">En</span><span class="o">:=</span><span class="n">En</span><span class="p">,</span>
	<span class="n">bExecute</span><span class="o">:=</span><span class="n">bExecuteWriteNC</span> <span class="k">AND</span> <span class="n">bExecute</span><span class="p">,</span>
	<span class="n">Axis</span><span class="o">:=</span><span class="n">Axis</span><span class="p">,</span>
	<span class="n">bReset</span><span class="o">:=</span><span class="n">bReset</span><span class="p">,</span>	
<span class="p">);</span>

<span class="n">bBusy</span><span class="o">:=</span><span class="n">fbHomewriteSoftLimEnable</span><span class="p">.</span><span class="n">bBusy</span><span class="p">;</span>
<span class="n">bDone</span><span class="o">:=</span><span class="n">fbHomewriteSoftLimEnable</span><span class="p">.</span><span class="n">bDone</span><span class="p">;</span>

<span class="n">bError</span><span class="o">:=</span><span class="n">fbHomewriteSoftLimEnable</span><span class="p">.</span><span class="n">bError</span><span class="p">;</span>
<span class="k">IF</span> <span class="n">fbHomewriteSoftLimEnable</span><span class="p">.</span><span class="n">bError</span> <span class="k">THEN</span>
  <span class="n">nErrorId</span><span class="o">:=</span><span class="n">fbHomewriteSoftLimEnable</span><span class="p">.</span><span class="n">nErrorId</span><span class="p">;</span>
<span class="n">END_IF</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-motion-homing-fb-homeprepare-tcpou-tcplcobject">
<h2>tc_mca_std_lib/POUs/Motion/Homing/FB_HomePrepare.TcPOU (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-motion-homing-fb-homeprepare-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="section" id="fb-homeprepare-declaration">
<h3>FB_HomePrepare: Declaration<a class="headerlink" href="#fb-homeprepare-declaration" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="n">FUNCTION_BLOCK</span> <span class="n">FB_HomePrepare</span>
<span class="n">VAR_INPUT</span>
	<span class="n">En</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bReset</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
    <span class="n">bExecute</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>	
    <span class="n">nCmdData</span><span class="o">:</span> <span class="n">UINT</span><span class="p">;</span>		
<span class="n">END_VAR</span>
<span class="n">VAR_IN_OUT</span>
	<span class="n">Axis</span><span class="o">:</span> <span class="n">AXIS_REF</span><span class="p">;</span>
<span class="n">END_VAR</span>
<span class="n">VAR_OUTPUT</span>
	<span class="n">EnO</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>	
	<span class="n">bBusy</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bDone</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bError</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">nErrorId</span><span class="o">:</span> <span class="n">UDINT</span><span class="p">;</span>
	<span class="n">bSofLimEnableLowOriginal</span><span class="o">:</span> <span class="n">BOOL</span><span class="o">:=</span><span class="n">TRUE</span><span class="p">;</span>
	<span class="n">bSofLimEnableHighOriginal</span><span class="o">:</span> <span class="n">BOOL</span><span class="o">:=</span><span class="n">TRUE</span><span class="p">;</span>	
	<span class="n">fVelocityToCam</span><span class="o">:</span> <span class="n">LREAL</span><span class="o">:=</span><span class="mi">0</span><span class="p">;</span>
	<span class="n">fVelocityFromCam</span><span class="o">:</span> <span class="n">LREAL</span><span class="o">:=</span><span class="mi">0</span><span class="p">;</span>		
<span class="n">END_VAR</span>
<span class="n">VAR</span>
	<span class="n">fbHomeReadSoftLimEnable</span><span class="o">:</span><span class="n">FB_HomeReadSoftLimEnable</span><span class="p">;</span>	
	<span class="n">fbHomeDisableSoftLimEnable</span><span class="o">:</span><span class="n">FB_HomeWriteSoftLimEnable</span><span class="p">;</span>
	<span class="n">fbHomeReadNCVelocities</span><span class="o">:</span> <span class="n">FB_HomeReadNcVelocities</span><span class="p">;</span>
	<span class="n">fbHomeResetCalibrationFlag</span><span class="o">:</span><span class="n">MC_Home</span><span class="p">;</span>   <span class="o">//</span><span class="n">Only</span> <span class="n">used</span> <span class="k">for</span> <span class="n">reset</span> <span class="k">of</span> <span class="n">calibration</span> <span class="n">flag</span>
	<span class="n">fbExecuteRiseEdge</span><span class="o">:</span> <span class="n">R_TRIG</span><span class="p">;</span>
	<span class="n">bExecuteReadNC</span><span class="o">:</span><span class="n">BOOL</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
	<span class="n">bExecuteWriteNC</span><span class="o">:</span><span class="n">BOOL</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
	<span class="n">nState</span><span class="o">:</span><span class="n">INT</span><span class="o">:=</span><span class="mi">0</span><span class="p">;</span>
<span class="n">END_VAR</span>
</pre></div>
</div>
</div>
<div class="section" id="fb-homeprepare-st">
<h3>FB_HomePrepare: ST<a class="headerlink" href="#fb-homeprepare-st" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="n">En</span><span class="o">:=</span><span class="n">EnO</span><span class="p">;</span>
<span class="k">IF</span> <span class="n">bReset</span> <span class="k">THEN</span>
	<span class="n">bError</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
	<span class="n">nErrorId</span><span class="o">:=</span><span class="mi">0</span><span class="p">;</span>
<span class="n">END_IF</span> 

<span class="k">IF</span> <span class="k">NOT</span> <span class="n">bExecute</span> <span class="k">THEN</span>
  <span class="n">bExecuteReadNC</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
  <span class="n">bExecuteWriteNC</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>   
  <span class="n">nState</span><span class="o">:=</span><span class="mi">0</span><span class="p">;</span>
<span class="n">END_IF</span>

<span class="n">fbExecuteRiseEdge</span><span class="p">(</span><span class="n">CLK</span><span class="o">:=</span><span class="n">bExecute</span><span class="p">);</span>
<span class="k">IF</span> <span class="n">fbExecuteRiseEdge</span><span class="p">.</span><span class="n">Q</span> <span class="k">THEN</span>
  <span class="n">bExecuteReadNC</span><span class="o">:=</span><span class="n">TRUE</span><span class="p">;</span>  
<span class="n">END_IF</span>

<span class="o">//</span> <span class="n">Read</span> <span class="n">from</span> <span class="n">NC</span>
<span class="n">fbHomeReadNCVelocities</span><span class="p">(</span>
  <span class="n">En</span><span class="o">:=</span><span class="n">En</span><span class="p">,</span>
  <span class="n">bExecute</span><span class="o">:=</span><span class="n">bExecuteReadNC</span><span class="p">,</span> <span class="o">//</span> <span class="n">Actualy</span> <span class="k">not</span> <span class="n">needed</span> <span class="k">for</span> <span class="n">sequence</span> <span class="mi">15</span> <span class="p">(</span><span class="n">set</span> <span class="n">position</span> <span class="n">only</span><span class="p">,</span> <span class="n">no</span> <span class="n">movement</span><span class="p">))</span>
  <span class="n">bReset</span><span class="o">:=</span><span class="n">bReset</span><span class="p">,</span>
  <span class="n">Axis</span><span class="o">:=</span><span class="n">Axis</span><span class="p">,</span>
<span class="p">);</span>

<span class="n">fbHomeReadSoftLimEnable</span><span class="p">(</span>
	<span class="n">En</span><span class="o">:=</span><span class="n">En</span><span class="p">,</span>
	<span class="n">bExecute</span><span class="o">:=</span><span class="n">bExecuteReadNC</span> <span class="k">AND</span> <span class="n">bExecute</span><span class="p">,</span>
	<span class="n">Axis</span><span class="o">:=</span><span class="n">Axis</span><span class="p">,</span>
	<span class="n">bReset</span><span class="o">:=</span><span class="n">bReset</span><span class="p">,</span>	
<span class="p">);</span>

<span class="o">//</span> <span class="n">Reset</span> <span class="n">calibration</span> <span class="n">flag</span>
<span class="n">fbHomeResetCalibrationFlag</span><span class="p">(</span>
  <span class="n">Execute</span><span class="o">:=</span><span class="n">bExecuteReadNC</span><span class="p">,</span>
  <span class="n">HomingMode</span><span class="o">:=</span><span class="n">MC_ResetCalibration</span><span class="p">,</span>
  <span class="n">Axis</span><span class="o">:=</span><span class="n">Axis</span>
<span class="p">);</span>

<span class="n">bSofLimEnableLowOriginal</span><span class="o">:=</span><span class="n">fbHomeReadSoftLimEnable</span><span class="p">.</span><span class="n">bSofLimEnableLow</span><span class="p">;</span>
<span class="n">bSofLimEnableHighOriginal</span><span class="o">:=</span><span class="n">fbHomeReadSoftLimEnable</span><span class="p">.</span><span class="n">bSofLimEnableHigh</span><span class="p">;</span>	

<span class="n">fVelocityToCam</span><span class="o">:=</span><span class="n">fbHomeReadNCVelocities</span><span class="p">.</span><span class="n">fVelocityToCam</span><span class="p">;</span>
<span class="n">fVelocityFromCam</span><span class="o">:=</span><span class="n">fbHomeReadNCVelocities</span><span class="p">.</span><span class="n">fVelocityFromCam</span><span class="p">;</span>

<span class="k">IF</span> <span class="n">bExecuteReadNC</span> <span class="k">AND</span> <span class="n">bExecute</span> <span class="k">AND</span> <span class="n">fbHomeReadSoftLimEnable</span><span class="p">.</span><span class="n">bDone</span> <span class="k">THEN</span>
	<span class="n">fbHomeDisableSoftLimEnable</span><span class="p">.</span><span class="n">bSofLimEnableHigh</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
	<span class="n">fbHomeDisableSoftLimEnable</span><span class="p">.</span><span class="n">bSofLimEnableLow</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
	<span class="n">bExecuteWriteNC</span><span class="o">:=</span><span class="n">TRUE</span><span class="p">;</span> <span class="o">//</span><span class="n">Always</span> <span class="n">write</span> <span class="p">(</span><span class="n">only</span> <span class="n">needed</span> <span class="k">if</span> <span class="n">enabled</span> <span class="n">actually</span><span class="p">)</span>
<span class="n">END_IF</span>

<span class="o">//</span> <span class="n">Write</span> <span class="k">to</span> <span class="n">NC</span> <span class="p">(</span><span class="n">disable</span> <span class="n">soft</span> <span class="n">limits</span><span class="p">)</span>
<span class="n">fbHomeDisableSoftLimEnable</span><span class="p">(</span>
	<span class="n">En</span><span class="o">:=</span><span class="n">En</span><span class="p">,</span>
	<span class="n">bExecute</span><span class="o">:=</span><span class="n">bExecuteWriteNC</span> <span class="k">AND</span> <span class="n">bExecute</span><span class="p">,</span>
	<span class="n">Axis</span><span class="o">:=</span><span class="n">Axis</span><span class="p">,</span>
	<span class="n">bReset</span><span class="o">:=</span><span class="n">bReset</span><span class="p">,</span>	
<span class="p">);</span>

<span class="n">bBusy</span><span class="o">:=</span><span class="n">fbHomeReadSoftLimEnable</span><span class="p">.</span><span class="n">bBusy</span> <span class="k">OR</span> <span class="n">fbHomeDisableSoftLimEnable</span><span class="p">.</span><span class="n">bBusy</span> <span class="k">OR</span> <span class="n">fbHomeReadNCVelocities</span><span class="p">.</span><span class="n">bBusy</span> <span class="k">OR</span> <span class="n">fbHomeResetCalibrationFlag</span><span class="p">.</span><span class="n">Busy</span><span class="p">;</span>
<span class="n">bDone</span><span class="o">:=</span><span class="n">fbHomeReadSoftLimEnable</span><span class="p">.</span><span class="n">bDone</span> <span class="k">AND</span> <span class="n">fbHomeDisableSoftLimEnable</span><span class="p">.</span><span class="n">bDone</span> <span class="k">AND</span> <span class="n">fbHomeReadNCVelocities</span><span class="p">.</span><span class="n">bDone</span> <span class="k">AND</span> <span class="n">fbHomeResetCalibrationFlag</span><span class="p">.</span><span class="n">Done</span> <span class="k">AND</span> <span class="n">bExecute</span><span class="p">;</span>

<span class="n">bError</span><span class="o">:=</span><span class="n">fbHomeReadSoftLimEnable</span><span class="p">.</span><span class="n">bError</span> <span class="k">OR</span> <span class="n">fbHomeDisableSoftLimEnable</span><span class="p">.</span><span class="n">bError</span> <span class="k">OR</span> <span class="n">fbHomeReadNCVelocities</span><span class="p">.</span><span class="n">bError</span> <span class="k">OR</span> <span class="n">fbHomeResetCalibrationFlag</span><span class="p">.</span><span class="n">Error</span><span class="p">;</span>
<span class="k">IF</span> <span class="n">fbHomeReadSoftLimEnable</span><span class="p">.</span><span class="n">bError</span> <span class="k">THEN</span>
  <span class="n">nErrorId</span><span class="o">:=</span><span class="n">fbHomeReadSoftLimEnable</span><span class="p">.</span><span class="n">nErrorId</span><span class="p">;</span>
<span class="k">ELSIF</span> <span class="n">fbHomeDisableSoftLimEnable</span><span class="p">.</span><span class="n">bError</span> <span class="k">THEN</span>
  <span class="n">nErrorId</span><span class="o">:=</span><span class="n">fbHomeDisableSoftLimEnable</span><span class="p">.</span><span class="n">nErrorId</span><span class="p">;</span>
<span class="k">ELSIF</span> <span class="n">fbHomeResetCalibrationFlag</span><span class="p">.</span><span class="n">Error</span> <span class="k">THEN</span>
  <span class="n">nErrorId</span><span class="o">:=</span><span class="n">fbHomeResetCalibrationFlag</span><span class="p">.</span><span class="n">ErrorId</span><span class="p">;</span>
<span class="n">END_IF</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-motion-homing-fb-homereadncvelocities-tcpou-tcplcobject">
<h2>tc_mca_std_lib/POUs/Motion/Homing/FB_HomeReadNcVelocities.TcPOU (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-motion-homing-fb-homereadncvelocities-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="section" id="fb-homereadncvelocities-declaration">
<h3>FB_HomeReadNcVelocities: Declaration<a class="headerlink" href="#fb-homereadncvelocities-declaration" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="n">FUNCTION_BLOCK</span> <span class="n">FB_HomeReadNcVelocities</span>
<span class="n">VAR_INPUT</span>
	<span class="n">En</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bReset</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
    <span class="n">bExecute</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>			
<span class="n">END_VAR</span>
<span class="n">VAR_IN_OUT</span>
	<span class="n">Axis</span><span class="o">:</span> <span class="n">AXIS_REF</span><span class="p">;</span>
<span class="n">END_VAR</span>
<span class="n">VAR_OUTPUT</span>
	<span class="n">EnO</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>	
	<span class="n">bBusy</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bDone</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bError</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">nErrorId</span><span class="o">:</span> <span class="n">UDINT</span><span class="p">;</span>	
	<span class="n">fVelocityToCam</span><span class="o">:</span> <span class="n">LREAL</span><span class="p">;</span>
	<span class="n">fVelocityFromCam</span><span class="o">:</span> <span class="n">LREAL</span><span class="p">;</span>
<span class="n">END_VAR</span>
<span class="n">VAR</span>
	<span class="n">fbReadVelocityToCam</span><span class="o">:</span><span class="n">FB_ReadFloatParameter</span><span class="p">;</span>
	<span class="n">fbReadVelocityFromCam</span><span class="o">:</span><span class="n">FB_ReadFloatParameter</span><span class="p">;</span>
<span class="n">END_VAR</span>
</pre></div>
</div>
</div>
<div class="section" id="fb-homereadncvelocities-st">
<h3>FB_HomeReadNcVelocities: ST<a class="headerlink" href="#fb-homereadncvelocities-st" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="n">En</span><span class="o">:=</span><span class="n">EnO</span><span class="p">;</span>
<span class="k">IF</span> <span class="n">bReset</span> <span class="k">THEN</span>
	<span class="n">bError</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
	<span class="n">nErrorId</span><span class="o">:=</span><span class="mi">0</span><span class="p">;</span>
<span class="n">END_IF</span> 
	
<span class="n">fbReadVelocityToCam</span><span class="p">(</span>
	<span class="n">bExecute</span><span class="o">:=</span><span class="n">bExecute</span><span class="p">,</span>
	<span class="n">nDeviceGroup</span><span class="o">:=</span> <span class="mi">16#4000</span><span class="p">,</span>
	<span class="n">nIndexOffset</span><span class="o">:=</span> <span class="mi">16#6</span><span class="p">,</span>
	<span class="n">Axis</span><span class="o">:=</span> <span class="n">Axis</span><span class="p">);</span>
	
<span class="n">fbReadVelocityFromCam</span><span class="p">(</span>
	<span class="n">bExecute</span><span class="o">:=</span><span class="n">bExecute</span><span class="p">,</span>
	<span class="n">nDeviceGroup</span><span class="o">:=</span> <span class="mi">16#4000</span><span class="p">,</span>
	<span class="n">nIndexOffset</span><span class="o">:=</span> <span class="mi">16#7</span><span class="p">,</span>
	<span class="n">Axis</span><span class="o">:=</span> <span class="n">Axis</span><span class="p">);</span>
	
<span class="n">fVelocityToCam</span><span class="o">:=</span><span class="n">fbReadVelocityToCam</span><span class="p">.</span><span class="n">nData</span><span class="p">;</span>
<span class="n">fVelocityFromCam</span><span class="o">:=</span><span class="n">fbReadVelocityFromCam</span><span class="p">.</span><span class="n">nData</span><span class="p">;</span>	

<span class="n">bBusy</span><span class="o">:=</span><span class="n">fbReadVelocityFromCam</span><span class="p">.</span><span class="n">bBusy</span> <span class="k">OR</span> <span class="n">fbReadVelocityToCam</span><span class="p">.</span><span class="n">bBusy</span><span class="p">;</span>
<span class="n">bDone</span><span class="o">:=</span><span class="n">fbReadVelocityFromCam</span><span class="p">.</span><span class="n">bDone</span> <span class="k">AND</span> <span class="n">fbReadVelocityToCam</span><span class="p">.</span><span class="n">bDone</span> <span class="k">AND</span> <span class="n">bExecute</span><span class="p">;</span>

<span class="n">bError</span><span class="o">:=</span><span class="n">fbReadVelocityToCam</span><span class="p">.</span><span class="n">bError</span> <span class="k">OR</span> <span class="n">fbReadVelocityFromCam</span><span class="p">.</span><span class="n">bError</span><span class="p">;</span>
<span class="k">IF</span> <span class="n">fbReadVelocityToCam</span><span class="p">.</span><span class="n">bError</span> <span class="k">THEN</span>
  <span class="n">nErrorId</span><span class="o">:=</span><span class="n">fbReadVelocityToCam</span><span class="p">.</span><span class="n">nErrorId</span><span class="p">;</span>
<span class="k">ELSIF</span> <span class="n">fbReadVelocityFromCam</span><span class="p">.</span><span class="n">bError</span> <span class="k">THEN</span>
  <span class="n">nErrorId</span><span class="o">:=</span><span class="n">fbReadVelocityFromCam</span><span class="p">.</span><span class="n">nErrorId</span><span class="p">;</span>
<span class="n">END_IF</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-motion-homing-fb-homereadsoftlimenable-tcpou-tcplcobject">
<h2>tc_mca_std_lib/POUs/Motion/Homing/FB_HomeReadSoftLimEnable.TcPOU (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-motion-homing-fb-homereadsoftlimenable-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="section" id="fb-homereadsoftlimenable-declaration">
<h3>FB_HomeReadSoftLimEnable: Declaration<a class="headerlink" href="#fb-homereadsoftlimenable-declaration" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="n">FUNCTION_BLOCK</span> <span class="n">FB_HomeReadSoftLimEnable</span>
<span class="n">VAR_INPUT</span>
	<span class="n">En</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bReset</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
    <span class="n">bExecute</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>			
<span class="n">END_VAR</span>
<span class="n">VAR_IN_OUT</span>
	<span class="n">Axis</span><span class="o">:</span> <span class="n">AXIS_REF</span><span class="p">;</span>
<span class="n">END_VAR</span>
<span class="n">VAR_OUTPUT</span>
	<span class="n">EnO</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>	
	<span class="n">bBusy</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bDone</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bError</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">nErrorId</span><span class="o">:</span> <span class="n">UDINT</span><span class="p">;</span>	
	<span class="n">bSofLimEnableLow</span><span class="o">:</span> <span class="n">BOOL</span><span class="o">:=</span><span class="n">TRUE</span><span class="p">;</span>
	<span class="n">bSofLimEnableHigh</span><span class="o">:</span> <span class="n">BOOL</span><span class="o">:=</span><span class="n">TRUE</span><span class="p">;</span>
<span class="n">END_VAR</span>
<span class="n">VAR</span>
	<span class="n">fbReadSoftLimEnableLow</span><span class="o">:</span><span class="n">FB_ReadParameterInNc_v1_00</span><span class="p">;</span>
	<span class="n">fbReadSoftLimEnableHigh</span><span class="o">:</span><span class="n">FB_ReadParameterInNc_v1_00</span><span class="p">;</span>
<span class="n">END_VAR</span>
</pre></div>
</div>
</div>
<div class="section" id="fb-homereadsoftlimenable-st">
<h3>FB_HomeReadSoftLimEnable: ST<a class="headerlink" href="#fb-homereadsoftlimenable-st" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="n">En</span><span class="o">:=</span><span class="n">EnO</span><span class="p">;</span>
<span class="k">IF</span> <span class="n">bReset</span> <span class="k">THEN</span>
	<span class="n">bError</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
	<span class="n">nErrorId</span><span class="o">:=</span><span class="mi">0</span><span class="p">;</span>
<span class="n">END_IF</span> 
	
<span class="n">fbReadSoftLimEnableLow</span><span class="p">(</span>
	<span class="n">bExecute</span><span class="o">:=</span><span class="n">bExecute</span><span class="p">,</span>
	<span class="n">nDeviceGroup</span><span class="o">:=</span> <span class="mi">16#5000</span><span class="p">,</span>
	<span class="n">nIndexOffset</span><span class="o">:=</span> <span class="mi">16#B</span><span class="p">,</span>
	<span class="n">Axis</span><span class="o">:=</span> <span class="n">Axis</span><span class="p">);</span>

<span class="n">fbReadSoftLimEnableHigh</span><span class="p">(</span>
	<span class="n">bExecute</span><span class="o">:=</span><span class="n">bExecute</span><span class="p">,</span>
	<span class="n">nDeviceGroup</span><span class="o">:=</span> <span class="mi">16#5000</span><span class="p">,</span>
	<span class="n">nIndexOffset</span><span class="o">:=</span> <span class="mi">16#C</span><span class="p">,</span>
	<span class="n">Axis</span><span class="o">:=</span> <span class="n">Axis</span><span class="p">);</span>
	
<span class="n">bSofLimEnableLow</span><span class="o">:=</span><span class="n">DWORD_TO_BOOL</span><span class="p">(</span><span class="n">fbReadSoftLimEnableLow</span><span class="p">.</span><span class="n">nData</span><span class="p">);</span>
<span class="n">bSofLimEnableHigh</span><span class="o">:=</span><span class="n">DWORD_TO_BOOL</span><span class="p">(</span><span class="n">fbReadSoftLimEnableHigh</span><span class="p">.</span><span class="n">nData</span><span class="p">);</span>	

<span class="n">bBusy</span><span class="o">:=</span><span class="n">fbReadSoftLimEnableLow</span><span class="p">.</span><span class="n">bBusy</span> <span class="k">OR</span> <span class="n">fbReadSoftLimEnableHigh</span><span class="p">.</span><span class="n">bBusy</span><span class="p">;</span>
<span class="n">bDone</span><span class="o">:=</span><span class="n">fbReadSoftLimEnableLow</span><span class="p">.</span><span class="n">bDone</span> <span class="k">AND</span> <span class="n">fbReadSoftLimEnableHigh</span><span class="p">.</span><span class="n">bDone</span> <span class="k">AND</span> <span class="n">bExecute</span><span class="p">;</span>

<span class="n">bError</span><span class="o">:=</span><span class="n">fbReadSoftLimEnableLow</span><span class="p">.</span><span class="n">bError</span> <span class="k">OR</span> <span class="n">fbReadSoftLimEnableHigh</span><span class="p">.</span><span class="n">bError</span><span class="p">;</span>
<span class="k">IF</span> <span class="n">fbReadSoftLimEnableLow</span><span class="p">.</span><span class="n">bError</span> <span class="k">THEN</span>
  <span class="n">nErrorId</span><span class="o">:=</span><span class="n">fbReadSoftLimEnableLow</span><span class="p">.</span><span class="n">nErrorId</span><span class="p">;</span>
<span class="k">ELSIF</span> <span class="n">fbReadSoftLimEnableHigh</span><span class="p">.</span><span class="n">bError</span> <span class="k">THEN</span>
  <span class="n">nErrorId</span><span class="o">:=</span><span class="n">fbReadSoftLimEnableHigh</span><span class="p">.</span><span class="n">nErrorId</span><span class="p">;</span>
<span class="n">END_IF</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-motion-homing-fb-hometoswitch-tcpou-tcplcobject">
<h2>tc_mca_std_lib/POUs/Motion/Homing/FB_HomeToSwitch.TcPOU (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-motion-homing-fb-hometoswitch-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="section" id="fb-hometoswitch-declaration">
<h3>FB_HomeToSwitch: Declaration<a class="headerlink" href="#fb-hometoswitch-declaration" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="n">FUNCTION_BLOCK</span> <span class="n">FB_HomeToSwitch</span>
<span class="n">VAR_INPUT</span>
	<span class="n">En</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bReset</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
    <span class="n">bExecute</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>	
    <span class="n">bCamSensor</span><span class="o">:</span><span class="n">BOOL</span><span class="p">;</span>	
	<span class="n">nSearchDirTwoardsCam</span><span class="o">:</span> <span class="n">MC_Direction</span><span class="p">;</span>
	<span class="n">nSearchDirOffCam</span><span class="o">:</span> <span class="n">MC_Direction</span><span class="p">;</span>
	<span class="n">fHomePosition</span><span class="o">:</span><span class="n">LREAL</span><span class="p">;</span>	
	<span class="n">fVelocityToCamNC</span><span class="o">:</span> <span class="n">LREAL</span><span class="p">;</span> <span class="o">//</span><span class="n">Velcoity</span> <span class="k">when</span> <span class="n">searching</span> <span class="k">for</span> <span class="n">cam</span>
	<span class="n">fVelocityFromCamNC</span><span class="o">:</span> <span class="n">LREAL</span><span class="p">;</span> <span class="o">//</span> <span class="n">Velocity</span> <span class="k">after</span> <span class="n">found</span> <span class="n">cam</span> <span class="p">(</span><span class="n">searching</span> <span class="k">for</span> <span class="k">next</span> <span class="k">signal</span> <span class="n">transition</span><span class="p">)</span>
<span class="n">END_VAR</span>
<span class="n">VAR_IN_OUT</span>
	<span class="n">Axis</span><span class="o">:</span> <span class="n">AXIS_REF</span><span class="p">;</span>
<span class="n">END_VAR</span>
<span class="n">VAR_OUTPUT</span>
	<span class="n">EnO</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>	
	<span class="n">bBusy</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bDone</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bHomed</span><span class="o">:</span><span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bError</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">nErrorId</span><span class="o">:</span> <span class="n">UDINT</span><span class="p">;</span>
<span class="n">END_VAR</span>
<span class="n">VAR</span>
	<span class="n">fbHome</span><span class="o">:</span> <span class="n">MC_Home</span><span class="p">;</span>	
	<span class="n">fbWriteHomeDirCamToNC</span><span class="o">:</span><span class="n">FB_WriteParameterInNc_v1_00</span><span class="p">;</span>
	<span class="n">fbWriteHomeDirSyncToNC</span><span class="o">:</span><span class="n">FB_WriteParameterInNc_v1_00</span><span class="p">;</span>
	<span class="n">fbWriteHomeModeToNC</span><span class="o">:</span><span class="n">FB_WriteParameterInNc_v1_00</span><span class="p">;</span>
	<span class="n">fbWriteHomeVelocitiesToNC</span><span class="o">:</span> <span class="n">FB_HomeWriteNcVelocities</span><span class="p">;</span>
	<span class="n">bConfigNCDone</span><span class="o">:</span><span class="n">BOOL</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
	<span class="n">fbRTrigg</span><span class="o">:</span> <span class="n">R_TRIG</span><span class="p">;</span>
<span class="n">END_VAR</span>
</pre></div>
</div>
</div>
<div class="section" id="fb-hometoswitch-st">
<h3>FB_HomeToSwitch: ST<a class="headerlink" href="#fb-hometoswitch-st" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="n">En</span><span class="o">:=</span><span class="n">EnO</span><span class="p">;</span>
<span class="k">IF</span> <span class="n">bReset</span> <span class="k">THEN</span>
	<span class="n">bConfigNCDone</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
	<span class="n">bError</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
	<span class="n">nErrorId</span><span class="o">:=</span><span class="mi">0</span><span class="p">;</span>
<span class="n">END_IF</span> 
	
<span class="o">//</span><span class="n">Start</span> <span class="n">preparation</span> <span class="k">of</span> <span class="n">NC</span> <span class="k">if</span> <span class="n">rising</span> <span class="n">edge</span> <span class="k">on</span> <span class="n">bExecute</span>
<span class="n">fbRTrigg</span><span class="p">(</span><span class="n">CLK</span><span class="o">:=</span><span class="n">bExecute</span><span class="p">);</span>
<span class="k">IF</span> <span class="n">fbRTrigg</span><span class="p">.</span><span class="n">Q</span> <span class="k">THEN</span>
	<span class="n">bConfigNCDone</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
<span class="n">END_IF</span>

 
<span class="n">fbWriteHomeDirCamToNC</span><span class="p">(</span>
	<span class="n">bExecute</span><span class="o">:=</span><span class="n">bExecute</span> <span class="k">AND</span> <span class="k">NOT</span> <span class="n">bConfigNCDone</span><span class="p">,</span>
	<span class="n">nDeviceGroup</span><span class="o">:=</span><span class="mi">16#5000</span><span class="p">,</span>
	<span class="n">nIndexOffset</span><span class="o">:=</span><span class="mi">16#101</span><span class="p">,</span>	<span class="o">//</span><span class="n">Direction</span> <span class="k">for</span> <span class="n">Calibration</span> <span class="n">Cam</span> <span class="n">Search</span>	
	<span class="n">nData</span><span class="o">:=</span><span class="n">BOOL_TO_DWORD</span><span class="p">(</span><span class="n">nSearchDirTwoardsCam</span><span class="o">=</span><span class="n">MC_Negative_Direction</span><span class="p">),</span><span class="o">//</span><span class="n">BOOL_TO_DWORD</span><span class="p">(</span><span class="k">NOT</span> <span class="n">bSearchDirTwoardsCam</span><span class="p">),</span>
	<span class="n">Axis</span><span class="o">:=</span><span class="n">Axis</span>
<span class="p">);</span>

<span class="n">fbWriteHomeDirSyncToNC</span><span class="p">(</span>
	<span class="n">bExecute</span><span class="o">:=</span> <span class="n">bExecute</span> <span class="k">AND</span> <span class="k">NOT</span> <span class="n">bConfigNCDone</span><span class="p">,</span>
	<span class="n">nDeviceGroup</span><span class="o">:=</span><span class="mi">16#5000</span> <span class="p">,</span>
	<span class="n">nIndexOffset</span><span class="o">:=</span><span class="mi">16#102</span> <span class="p">,</span> <span class="o">//</span><span class="n">Direction</span> <span class="k">for</span> <span class="n">Sync</span> <span class="n">Impuls</span> <span class="n">Search</span>
	<span class="n">nData</span><span class="o">:=</span><span class="n">BOOL_TO_DWORD</span><span class="p">(</span><span class="n">nSearchDirOffCam</span><span class="o">=</span><span class="n">MC_Negative_Direction</span><span class="p">),</span><span class="o">//</span><span class="n">BOOL_TO_DWORD</span><span class="p">(</span><span class="k">NOT</span> <span class="n">bSearchDirOffCam</span><span class="p">),</span>
	<span class="n">Axis</span><span class="o">:=</span> <span class="n">Axis</span> 
<span class="p">);</span>

<span class="n">fbWriteHomeModeToNC</span><span class="p">(</span>
	<span class="n">bExecute</span><span class="o">:=</span><span class="n">bExecute</span> <span class="k">AND</span> <span class="k">NOT</span> <span class="n">bConfigNCDone</span><span class="p">,</span>
	<span class="n">nDeviceGroup</span><span class="o">:=</span><span class="mi">16#5000</span><span class="p">,</span>
	<span class="n">nIndexOffset</span><span class="o">:=</span><span class="mi">16#107</span><span class="p">,</span>  <span class="o">//</span><span class="n">Reference</span> <span class="n">Mode</span>
	<span class="n">nData</span><span class="o">:=</span><span class="mi">1</span><span class="p">,</span>
	<span class="n">Axis</span><span class="o">:=</span><span class="n">axis</span><span class="p">);</span>
	
<span class="n">fbWriteHomeVelocitiesToNC</span><span class="p">(</span>
  <span class="n">En</span><span class="o">:=</span><span class="n">En</span><span class="p">,</span>
  <span class="n">bExecute</span><span class="o">:=</span><span class="n">bExecute</span> <span class="k">AND</span> <span class="k">NOT</span> <span class="n">bConfigNCDone</span><span class="p">,</span>
  <span class="n">bReset</span><span class="o">:=</span><span class="n">bReset</span><span class="p">,</span>
  <span class="n">fVelocityFromCam</span><span class="o">:=</span><span class="n">fVelocityFromCamNC</span><span class="p">,</span>
  <span class="n">fVelocityToCam</span><span class="o">:=</span><span class="n">fVelocityToCamNC</span><span class="p">,</span>
  <span class="n">Axis</span><span class="o">:=</span><span class="n">Axis</span><span class="p">);</span>

<span class="n">fbHome</span><span class="p">.</span><span class="n">bCalibrationCam</span><span class="o">:=</span><span class="n">bCamSensor</span><span class="p">;</span>

<span class="n">fbHome</span><span class="p">(</span>
	<span class="n">Execute</span><span class="o">:=</span><span class="n">bExecute</span> <span class="k">AND</span> <span class="n">bConfigNCDone</span><span class="p">(</span><span class="o">*</span> <span class="k">AND</span> <span class="k">NOT</span> <span class="n">bError</span><span class="o">*</span><span class="p">),</span>
	<span class="n">Position</span><span class="o">:=</span><span class="n">fHomePosition</span><span class="p">,</span>
	<span class="n">HomingMode</span><span class="o">:=</span><span class="mi">0</span><span class="p">,</span>
	<span class="n">Axis</span><span class="o">:=</span><span class="n">Axis</span>
	<span class="p">);</span>
<span class="n">bBusy</span><span class="o">:=</span><span class="p">(</span><span class="n">fbHome</span><span class="p">.</span><span class="n">Busy</span> <span class="k">OR</span> <span class="p">(</span><span class="k">NOT</span> <span class="n">bConfigNCDone</span> <span class="k">AND</span> <span class="n">bExecute</span><span class="p">));</span>
<span class="n">bDone</span><span class="o">:=</span><span class="n">fbHome</span><span class="p">.</span><span class="n">Done</span> <span class="k">AND</span> <span class="n">bConfigNCDone</span><span class="p">;</span>
<span class="n">bHomed</span><span class="o">:=</span><span class="n">Axis</span><span class="p">.</span><span class="n">Status</span><span class="p">.</span><span class="n">Homed</span><span class="p">;</span>

<span class="k">IF</span> <span class="p">(</span><span class="k">NOT</span> <span class="n">bConfigNCDone</span><span class="p">)</span> <span class="k">AND</span> <span class="n">fbWriteHomeDirCamToNC</span><span class="p">.</span><span class="n">bDone</span> <span class="k">AND</span> <span class="n">fbWriteHomeDirSyncToNC</span><span class="p">.</span><span class="n">bDone</span> <span class="k">AND</span> <span class="n">fbWriteHomeModeToNC</span><span class="p">.</span><span class="n">bDone</span> <span class="k">AND</span> <span class="n">fbWriteHomeVelocitiesToNC</span><span class="p">.</span><span class="n">bDone</span> <span class="k">THEN</span>
  <span class="n">bConfigNCDone</span><span class="o">:=</span><span class="n">TRUE</span><span class="p">;</span>
<span class="n">END_IF</span>

<span class="o">//</span><span class="k">For</span> <span class="n">some</span> <span class="n">reason</span> <span class="n">MC_HOME</span> <span class="n">gives</span> <span class="n">an</span> <span class="n">Error</span> <span class="k">for</span> <span class="n">one</span> <span class="n">cycle</span> <span class="k">of</span> <span class="n">NC</span><span class="o">-</span><span class="n">Task</span> <span class="mi">1</span> <span class="n">SVB</span> <span class="p">(</span><span class="mi">10</span><span class="n">ms</span> <span class="n">default</span><span class="p">..)</span> <span class="n">so</span> <span class="n">filter</span> <span class="k">with</span> <span class="n">bExecute</span>
<span class="n">bError</span><span class="o">:=</span><span class="p">(</span><span class="n">fbHome</span><span class="p">.</span><span class="n">Error</span> <span class="k">AND</span> <span class="n">bExecute</span><span class="p">)</span> <span class="k">OR</span> <span class="n">fbWriteHomeDirCamToNC</span><span class="p">.</span><span class="n">bError</span> <span class="k">OR</span> <span class="n">fbWriteHomeDirSyncToNC</span><span class="p">.</span><span class="n">bError</span> <span class="k">OR</span> <span class="n">fbWriteHomeModeToNC</span><span class="p">.</span><span class="n">bError</span> <span class="k">OR</span> <span class="n">fbWriteHomeVelocitiesToNC</span><span class="p">.</span><span class="n">bError</span><span class="p">;</span>

<span class="k">IF</span> <span class="p">(</span><span class="n">fbHome</span><span class="p">.</span><span class="n">Error</span> <span class="k">AND</span> <span class="n">bExecute</span><span class="p">)</span> <span class="k">THEN</span>
  <span class="n">nErrorId</span><span class="o">:=</span><span class="n">fbHome</span><span class="p">.</span><span class="n">ErrorID</span><span class="p">;</span>
<span class="k">ELSIF</span> <span class="n">fbWriteHomeDirCamToNC</span><span class="p">.</span><span class="n">bError</span> <span class="k">THEN</span>
  <span class="n">nErrorId</span><span class="o">:=</span><span class="n">fbWriteHomeDirCamToNC</span><span class="p">.</span><span class="n">nErrorId</span><span class="p">;</span>
<span class="k">ELSIF</span> <span class="n">fbWriteHomeDirSyncToNC</span><span class="p">.</span><span class="n">bError</span> <span class="k">THEN</span>
  <span class="n">nErrorId</span><span class="o">:=</span><span class="n">fbWriteHomeDirSyncToNC</span><span class="p">.</span><span class="n">nErrorId</span><span class="p">;</span>
<span class="k">ELSIF</span> <span class="n">fbWriteHomeModeToNC</span><span class="p">.</span><span class="n">bError</span> <span class="k">THEN</span>
  <span class="n">nErrorId</span><span class="o">:=</span><span class="n">fbWriteHomeModeToNC</span><span class="p">.</span><span class="n">nErrorId</span><span class="p">;</span>
<span class="k">ELSIF</span> <span class="n">fbWriteHomeVelocitiesToNC</span><span class="p">.</span><span class="n">bError</span> <span class="k">THEN</span>
  <span class="n">nErrorId</span><span class="o">:=</span><span class="n">fbWriteHomeVelocitiesToNC</span><span class="p">.</span><span class="n">nErrorId</span><span class="p">;</span>  
<span class="n">END_IF</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-motion-homing-fb-homevirtual-tcpou-tcplcobject">
<h2>tc_mca_std_lib/POUs/Motion/Homing/FB_HomeVirtual.TcPOU (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-motion-homing-fb-homevirtual-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="section" id="fb-homevirtual-declaration">
<h3>FB_HomeVirtual: Declaration<a class="headerlink" href="#fb-homevirtual-declaration" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="n">FUNCTION_BLOCK</span> <span class="n">FB_HomeVirtual</span>
<span class="n">VAR_INPUT</span>
	<span class="n">En</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bReset</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bExecute</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">nCmdData</span><span class="o">:</span> <span class="n">UINT</span><span class="p">;</span>
	<span class="n">bLimitFwd</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bLimitBwd</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>	
	<span class="n">bHomeSensor</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>	
	<span class="n">fHomePosition</span><span class="o">:</span><span class="n">LREAL</span><span class="p">;</span>
	<span class="n">nHomeRevOffset</span><span class="o">:</span> <span class="n">UINT</span><span class="p">;</span>
<span class="n">END_VAR</span>
<span class="n">VAR_IN_OUT</span>
	<span class="n">Axis</span><span class="o">:</span> <span class="n">AXIS_REF</span><span class="p">;</span>
<span class="n">END_VAR</span>
<span class="n">VAR_OUTPUT</span>
	<span class="n">EnO</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>	
	<span class="n">bBusy</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bDone</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bHomed</span><span class="o">:</span><span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bError</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">nErrorId</span><span class="o">:</span> <span class="n">UDINT</span><span class="p">;</span>
<span class="n">END_VAR</span>
<span class="n">VAR</span>
	<span class="n">fbHomeToSwitch</span><span class="o">:</span> <span class="n">FB_HomeToSwitch</span><span class="p">;</span>
    <span class="n">fbHomeDirect</span><span class="o">:</span> <span class="n">FB_HomeDirect</span><span class="p">;</span> <span class="o">//</span><span class="n">Only</span> <span class="n">used</span> <span class="k">for</span> <span class="n">direct</span> <span class="n">homing</span> <span class="p">(</span><span class="n">set</span> <span class="k">of</span> <span class="n">position</span><span class="p">)</span>
    <span class="n">fbMoveVelocity</span><span class="o">:</span><span class="n">MC_MoveVelocity</span><span class="p">;</span>
    <span class="n">fbHomePrepare</span><span class="o">:</span><span class="n">FB_HomePrepare</span><span class="p">;</span>
	<span class="n">fbHomeFinish</span><span class="o">:</span><span class="n">FB_HomeFinish</span><span class="p">;</span>    	    		
	<span class="n">fbExecuteRiseEdge</span><span class="o">:</span> <span class="n">R_TRIG</span><span class="p">;</span>
    <span class="n">nHomingState</span><span class="o">:</span><span class="n">INT</span><span class="o">:=</span><span class="mi">0</span><span class="p">;</span>
	<span class="n">bExecuteHomeToSwitch</span><span class="o">:</span><span class="n">BOOL</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
	<span class="n">bExecuteMoveVelocity</span><span class="o">:</span><span class="n">BOOL</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
	<span class="n">bExecutePrepare</span><span class="o">:</span> <span class="n">BOOL</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
	<span class="n">bExecuteFinish</span><span class="o">:</span> <span class="n">BOOL</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
	<span class="n">bExecuteHomeDirect</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">nCmdDataLocal</span><span class="o">:</span> <span class="n">UINT</span><span class="p">;</span>  <span class="o">//</span><span class="n">Ensure</span> <span class="n">that</span> <span class="n">nCmdData</span> <span class="k">is</span> <span class="k">not</span> <span class="n">changed</span> <span class="n">during</span> <span class="n">sequence</span>
	<span class="n">bSequenceReady</span><span class="o">:</span><span class="n">BOOL</span><span class="o">:=</span><span class="n">TRUE</span><span class="p">;</span>
	<span class="n">bRestoreNCDataNeeded</span><span class="o">:</span> <span class="n">BOOL</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
<span class="n">END_VAR</span>
</pre></div>
</div>
</div>
<div class="section" id="fb-homevirtual-st">
<h3>FB_HomeVirtual: ST<a class="headerlink" href="#fb-homevirtual-st" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span>EnO:=En;

IF bReset THEN	
	bError:=FALSE;
	nErrorId:=0;
END_IF

// Reset when bExecute is low
IF NOT bExecute THEN
  nHomingState:=0;
  bSequenceReady:=TRUE;
  bExecuteHomeToSwitch:=FALSE;
  bExecuteHomeDirect:=FALSE;
  bExecuteMoveVelocity:=FALSE;
  bExecutePrepare:=FALSE;
  bExecuteFinish:=FALSE;
END_IF

//Reset at rinsing edge of bExecute
fbExecuteRiseEdge(CLK:=bExecute);
IF fbExecuteRiseEdge.Q THEN
  nCmdDataLocal:=nCmdData; //Ensure that nCmdData is not changed during sequence (nCmdData will only be read at a rising edge of bExecute)
  bSequenceReady:=FALSE;
  bExecutePrepare:=TRUE;  
  bRestoreNCDataNeeded:=FALSE;
  //Check if valid nCmdDataLocal
  CASE nCmdDataLocal OF  	
    1:
    2:
    3:
    4:
    15:
    ELSE //nCmdData not valid	
      bError:=TRUE;
      nErrorId:=16#4FFF;   
  END_CASE
END_IF

//############# Prepare for homing (Read from NC and reset homed flag)
fbHomePrepare(
  En:=En,
  bExecute:=bExecutePrepare AND NOT bError, // Not needed for sequence 15 (set position only, no movement))
  bReset:=bReset,
  Axis:=Axis,
);

//############# Homing Sequences:
CASE nCmdDataLocal OF  
	
   1: // Home to low limit switch
	   CASE nHomingState OF
		  0:
		    bHomed:=Axis.Status.Homed;
            // Wait for read of velocities from NC and reset of calibration flag
	        IF fbHomePrepare.bDone AND bExecute AND NOT bSequenceReady THEN
			  bRestoreNCDataNeeded:=TRUE;
			  IF bLimitBwd THEN
                nHomingState:=1;
              ELSE
				nHomingState:=2;  //Standing on limit switch go direct to state 2 
              END_IF                                          		  
	        END_IF
		  1: // wait for reach low limit then trigger fbHomeToSwitch
		    bHomed:=FALSE;
			bSequenceReady:=FALSE;
			fbMoveVelocity.Velocity:=ABS(fbHomePrepare.fVelocityToCam);
            fbMoveVelocity.Direction:=MC_Negative_Direction;
	        bExecuteMoveVelocity:=bExecute;  // Execute MC_MoveVelocity
		    IF NOT bLimitBwd AND NOT fbMoveVelocity.Busy AND Axis.Status.NotMoving THEN //MC_MoveVelocity.Busy goes down when ramp down initiates (not ends).
			  nHomingState:=2;
		    END_IF
		  2: // Wait for fbHomeToSwitch
		    bHomed:=FALSE;
		    bSequenceReady:=FALSE;
            bExecuteMoveVelocity:=FALSE;			
            bExecuteHomeToSwitch:=TRUE;	
            fbHomeToSwitch.nSearchDirTwoardsCam:=MC_Positive_Direction;
            fbHomeToSwitch.nSearchDirOffCam:=MC_Positive_Direction;	             
	        fbHomeToSwitch.fVelocityToCamNC:=fbHomePrepare.fVelocityToCam; // High speed
  	        fbHomeToSwitch.fVelocityFromCamNC:=fbHomePrepare.fVelocityFromCam;  // Low speed              		
		    fbHomeToSwitch.bCamSensor:=NOT bLimitBwd;            	 		    
	        IF fbHomeToSwitch.bDone THEN	          
			  nHomingState:=3;
			  bExecuteFinish:=TRUE;
			  fbHomeFinish.bSofLimEnableHigh:=fbHomePrepare.bSofLimEnableHighOriginal;
			  fbHomeFinish.bSofLimEnableLow:=fbHomePrepare.bSofLimEnableLowOriginal;
	        END_IF;	
          3: // restore softlimit enable
            bHomed:=FALSE;
		    bSequenceReady:=FALSE;            		            	
	        IF fbHomeFinish.bDone THEN
			  bRestoreNCDataNeeded:=FALSE;
	          bSequenceReady:=TRUE;
			  nHomingState:=0;
			  bHomed:=Axis.Status.Homed;
	        END_IF;	 
	   END_CASE;
	   
   2: // Home to high limit switch
	   CASE nHomingState OF
		  0:
		    bHomed:=Axis.Status.Homed;
            // Wait for read of velocities from NC and reset of calibration flag
	        IF fbHomePrepare.bDone AND bExecute AND NOT bSequenceReady THEN
			  bRestoreNCDataNeeded:=TRUE;
			  IF bLimitFwd THEN
                nHomingState:=1;
              ELSE
				nHomingState:=2;  //Standing on limit switch go direct to state 2 
              END_IF                                          		  
	        END_IF
		  1: // wait for reach low limit then trigger fbHomeToSwitch
		    bHomed:=FALSE;
			bSequenceReady:=FALSE;
			fbMoveVelocity.Velocity:=ABS(fbHomePrepare.fVelocityToCam);
            fbMoveVelocity.Direction:=MC_Positive_Direction;
	        bExecuteMoveVelocity:=bExecute;  // Execute MC_MoveVelocity
		    IF NOT bLimitFwd AND NOT fbMoveVelocity.Busy AND Axis.Status.NotMoving THEN //MC_MoveVelocity.Busy goes down when ramp down initiates (not ends).
			  nHomingState:=2;
		    END_IF
		  2: // Wait for fbHomeToSwitch
		    bHomed:=FALSE;
		    bSequenceReady:=FALSE;
            bExecuteMoveVelocity:=FALSE;			
            bExecuteHomeToSwitch:=TRUE;	
            fbHomeToSwitch.nSearchDirTwoardsCam:=MC_Negative_Direction;
            fbHomeToSwitch.nSearchDirOffCam:=MC_Negative_Direction;	             
	        fbHomeToSwitch.fVelocityToCamNC:=fbHomePrepare.fVelocityToCam; // High speed
  	        fbHomeToSwitch.fVelocityFromCamNC:=fbHomePrepare.fVelocityFromCam;  // Low speed              		
		    fbHomeToSwitch.bCamSensor:=NOT bLimitFwd;            	 		    
	        IF fbHomeToSwitch.bDone THEN	          
			  nHomingState:=3;
			  bExecuteFinish:=TRUE;
			  fbHomeFinish.bSofLimEnableHigh:=fbHomePrepare.bSofLimEnableHighOriginal;
			  fbHomeFinish.bSofLimEnableLow:=fbHomePrepare.bSofLimEnableLowOriginal;
	        END_IF;	
          3: // restore softlimit enable
            bHomed:=FALSE;
		    bSequenceReady:=FALSE;            		            	
	        IF fbHomeFinish.bDone THEN
			  bRestoreNCDataNeeded:=FALSE;
	          bSequenceReady:=TRUE;
			  nHomingState:=0;
			  bHomed:=Axis.Status.Homed;
	        END_IF;	 
	   END_CASE;
	   
   3: // Home on bHomeSensor via bLimitBwd
   	   CASE nHomingState OF
		  0:
		    bHomed:=Axis.Status.Homed;
            // Wait for read of velocities from NC and reset of calibration flag
	        IF fbHomePrepare.bDone AND bExecute AND NOT bSequenceReady THEN
			  bRestoreNCDataNeeded:=TRUE;
			  IF bLimitBwd THEN
                nHomingState:=1;
              ELSE
				nHomingState:=2;  //Standing on limit switch go direct to state 2 
              END_IF                                          		  
	        END_IF
		  1: // wait for reach low limit then trigger fbHomeToSwitch
		    bHomed:=FALSE;
			bSequenceReady:=FALSE;
			fbMoveVelocity.Velocity:=ABS(fbHomePrepare.fVelocityToCam);
            fbMoveVelocity.Direction:=MC_Negative_Direction;
	        bExecuteMoveVelocity:=bExecute;  // Execute MC_MoveVelocity
		    IF NOT bLimitBwd AND NOT fbMoveVelocity.Busy AND Axis.Status.NotMoving THEN //MC_MoveVelocity.Busy goes down when ramp down initiates (not ends).
			  nHomingState:=2;
		    END_IF
		  2: // Wait for fbHomeToSwitch
		    bHomed:=FALSE;
		    bSequenceReady:=FALSE;
            bExecuteMoveVelocity:=FALSE;			
            bExecuteHomeToSwitch:=TRUE;	
            fbHomeToSwitch.nSearchDirTwoardsCam:=MC_Positive_Direction;
            fbHomeToSwitch.nSearchDirOffCam:=MC_Positive_Direction;	             
	        fbHomeToSwitch.fVelocityToCamNC:=fbHomePrepare.fVelocityToCam; // High speed
  	        fbHomeToSwitch.fVelocityFromCamNC:=fbHomePrepare.fVelocityFromCam;  // Low speed              		
		    fbHomeToSwitch.bCamSensor:=bHomeSensor;            	 		    
	        IF fbHomeToSwitch.bDone THEN	          
			  nHomingState:=3;
			  bExecuteFinish:=TRUE;
			  fbHomeFinish.bSofLimEnableHigh:=fbHomePrepare.bSofLimEnableHighOriginal;
			  fbHomeFinish.bSofLimEnableLow:=fbHomePrepare.bSofLimEnableLowOriginal;
	        END_IF;	
          3: // restore softlimit enable
            bHomed:=FALSE;
		    bSequenceReady:=FALSE;            		            	
	        IF fbHomeFinish.bDone THEN
		      bRestoreNCDataNeeded:=FALSE;
	          bSequenceReady:=TRUE;
			  nHomingState:=0;
			  bHomed:=Axis.Status.Homed;
	        END_IF;	 
	   END_CASE;
	4:  // Home on bHomeSensor via bLimitFwd	   
	   CASE nHomingState OF
		  0:
		    bHomed:=Axis.Status.Homed;
            // Wait for read of velocities from NC and reset of calibration flag
	        IF fbHomePrepare.bDone AND bExecute AND NOT bSequenceReady THEN
			  bRestoreNCDataNeeded:=TRUE;
			  IF bLimitFwd THEN
                nHomingState:=1;
              ELSE
				nHomingState:=2;  //Standing on limit switch go direct to state 2 
              END_IF                                          		  
	        END_IF
		  1: // wait for reach low limit then trigger fbHomeToSwitch
		    bHomed:=FALSE;
			bSequenceReady:=FALSE;
			fbMoveVelocity.Velocity:=ABS(fbHomePrepare.fVelocityToCam);
            fbMoveVelocity.Direction:=MC_Positive_Direction;
	        bExecuteMoveVelocity:=bExecute;  // Execute MC_MoveVelocity
		    IF NOT bLimitFwd AND NOT fbMoveVelocity.Busy AND Axis.Status.NotMoving THEN //MC_MoveVelocity.Busy goes down when ramp down initiates (not ends).
			  nHomingState:=2;
		    END_IF
		  2: // Wait for fbHomeToSwitch
		    bHomed:=FALSE;
		    bSequenceReady:=FALSE;
            bExecuteMoveVelocity:=FALSE;			
            bExecuteHomeToSwitch:=TRUE;	
            fbHomeToSwitch.nSearchDirTwoardsCam:=MC_Negative_Direction;
            fbHomeToSwitch.nSearchDirOffCam:=MC_Negative_Direction;	             
	        fbHomeToSwitch.fVelocityToCamNC:=fbHomePrepare.fVelocityToCam; // High speed
  	        fbHomeToSwitch.fVelocityFromCamNC:=fbHomePrepare.fVelocityFromCam;  // Low speed              		
		    fbHomeToSwitch.bCamSensor:=bHomeSensor;            	 		    
	        IF fbHomeToSwitch.bDone THEN	          
			  nHomingState:=3;
			  bExecuteFinish:=TRUE;
			  fbHomeFinish.bSofLimEnableHigh:=fbHomePrepare.bSofLimEnableHighOriginal;
			  fbHomeFinish.bSofLimEnableLow:=fbHomePrepare.bSofLimEnableLowOriginal;
	        END_IF;	
          3: // Restore softlimit enable
            bHomed:=FALSE;
		    bSequenceReady:=FALSE;            		            	
	        IF fbHomeFinish.bDone THEN
			  bRestoreNCDataNeeded:=FALSE;
	          bSequenceReady:=TRUE;
			  nHomingState:=0;
			  bHomed:=Axis.Status.Homed;
	        END_IF;	 
	   END_CASE;
		  	    
   15: //Set current position (simplest homing sequence)
     bExecuteHomeDirect:=bExecute;
	 bHomed:=Axis.Status.Homed;
     IF fbHomeDirect.bDone THEN  //Homing ready				
	   bExecuteHomeDirect:=FALSE;				
       bSequenceReady:=TRUE;	
     END_IF	 
	 
ELSE
  fbHomeToSwitch.bCamSensor:=FALSE;
  bHomed:=Axis.Status.Homed;
END_CASE;

// Main homing block
fbHomeToSwitch(
	bExecute:=bExecuteHomeToSwitch AND bExecute AND NOT bError AND NOT bExecuteHomeDirect AND NOT bExecuteMoveVelocity,
 	bReset:=bReset,
	fHomePosition:=fHomePosition,
	Axis:=Axis
);

// Approach limit switch (error if MC_Home is used)
fbMoveVelocity(
    Execute:= bExecuteMoveVelocity AND bExecute AND NOT bError AND NOT bExecuteHomeToSwitch AND NOT bExecuteHomeDirect,
    Axis:=Axis
);

// No sequence, just set position value (nCmdDataLocal=15). Can not run if fbHomeToSwitch is executed
fbHomeDirect(
	bExecute:=bExecuteHomeDirect AND bExecute AND NOT bError  AND NOT bExecuteHomeToSwitch AND NOT bExecuteMoveVelocity,
 	bReset:=bReset,
	fHomePosition:=fHomePosition,
	Axis:=Axis
);

 
//############# Finish homing

IF NOT bexecute AND bRestoreNCDataNeeded THEN  //If homing is aborted restore is needed
	bExecuteFinish:=TRUE;
	IF fbHomeFinish.bDone THEN
	  bExecuteFinish:=FALSE;
      bRestoreNCDataNeeded:=FALSE;	
	END_IF
END_IF

fbHomeFinish(
  En:=En,
  bExecute:=bExecuteFinish,
  bReset:=bReset,
  Axis:=Axis,
);

// Error handling
IF NOT bError THEN
  IF fbHomeToSwitch.bError THEN 
	bError:=fbHomeToSwitch.bError;
	nErrorId:=fbHomeToSwitch.nErrorId;
  ELSIF fbHomeDirect.bError THEN
	bError:=fbHomeDirect.bError;
	nErrorId:=fbHomeDirect.nErrorId;
  ELSIF fbMoveVelocity.Error THEN
	bError:=fbMoveVelocity.Error;
	nErrorId:=fbMoveVelocity.ErrorId;    		    		
  END_IF;	
END_IF

// Done and busy bit
bDone:=bSequenceReady AND bExecute;
bBusy:=NOT bSequenceReady;	 

RETURN;
</pre></div>
</div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-motion-homing-fb-homewritencvelocities-tcpou-tcplcobject">
<h2>tc_mca_std_lib/POUs/Motion/Homing/FB_HomeWriteNcVelocities.TcPOU (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-motion-homing-fb-homewritencvelocities-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="section" id="fb-homewritencvelocities-declaration">
<h3>FB_HomeWriteNcVelocities: Declaration<a class="headerlink" href="#fb-homewritencvelocities-declaration" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="n">FUNCTION_BLOCK</span> <span class="n">FB_HomeWriteNcVelocities</span>
<span class="n">VAR_INPUT</span>
	<span class="n">En</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bReset</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
    <span class="n">bExecute</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>		
	<span class="n">fVelocityToCam</span><span class="o">:</span> <span class="n">LREAL</span><span class="p">;</span>
	<span class="n">fVelocityFromCam</span><span class="o">:</span> <span class="n">LREAL</span><span class="p">;</span>	
<span class="n">END_VAR</span>
<span class="n">VAR_IN_OUT</span>
	<span class="n">Axis</span><span class="o">:</span> <span class="n">AXIS_REF</span><span class="p">;</span>
<span class="n">END_VAR</span>
<span class="n">VAR_OUTPUT</span>
	<span class="n">EnO</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>	
	<span class="n">bBusy</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bDone</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bError</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">nErrorId</span><span class="o">:</span> <span class="n">UDINT</span><span class="p">;</span>	
<span class="n">END_VAR</span>
<span class="n">VAR</span>
	<span class="n">fbExecuteRiseEdge</span><span class="o">:</span> <span class="n">R_TRIG</span><span class="p">;</span>
	<span class="n">fbWriteVelocityToCam</span><span class="o">:</span><span class="n">FB_WriteFloatParameter</span><span class="p">;</span>
	<span class="n">fbWriteVelocityFromCam</span><span class="o">:</span><span class="n">FB_WriteFloatParameter</span><span class="p">;</span>
<span class="n">END_VAR</span>
</pre></div>
</div>
</div>
<div class="section" id="fb-homewritencvelocities-st">
<h3>FB_HomeWriteNcVelocities: ST<a class="headerlink" href="#fb-homewritencvelocities-st" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="n">En</span><span class="o">:=</span><span class="n">EnO</span><span class="p">;</span>
<span class="k">IF</span> <span class="n">bReset</span> <span class="k">THEN</span>
	<span class="n">bError</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
	<span class="n">nErrorId</span><span class="o">:=</span><span class="mi">0</span><span class="p">;</span>
<span class="n">END_IF</span> 

<span class="n">fbExecuteRiseEdge</span><span class="p">(</span><span class="n">CLK</span><span class="o">:=</span><span class="n">bExecute</span><span class="p">);</span>

<span class="n">fbWriteVelocityToCam</span><span class="p">(</span>
	<span class="n">bExecute</span><span class="o">:=</span><span class="n">bExecute</span><span class="p">,</span>
	<span class="n">nDeviceGroup</span><span class="o">:=</span> <span class="mi">16#4000</span><span class="p">,</span>
	<span class="n">nIndexOffset</span><span class="o">:=</span> <span class="mi">16#6</span><span class="p">,</span>
	<span class="n">nData</span><span class="o">:=</span><span class="n">fVelocityToCam</span><span class="p">,</span>
	<span class="n">Axis</span><span class="o">:=</span> <span class="n">Axis</span><span class="p">);</span>
	
<span class="n">fbWriteVelocityFromCam</span><span class="p">(</span>
	<span class="n">bExecute</span><span class="o">:=</span><span class="n">bExecute</span><span class="p">,</span>
	<span class="n">nDeviceGroup</span><span class="o">:=</span> <span class="mi">16#4000</span><span class="p">,</span>
	<span class="n">nIndexOffset</span><span class="o">:=</span> <span class="mi">16#7</span><span class="p">,</span>
	<span class="n">nData</span><span class="o">:=</span><span class="n">fVelocityFromCam</span><span class="p">,</span>
	<span class="n">Axis</span><span class="o">:=</span> <span class="n">Axis</span><span class="p">);</span>

<span class="n">bBusy</span><span class="o">:=</span><span class="n">fbWriteVelocityFromCam</span><span class="p">.</span><span class="n">bBusy</span> <span class="k">OR</span> <span class="n">fbWriteVelocityToCam</span><span class="p">.</span><span class="n">bBusy</span><span class="p">;</span>
<span class="n">bDone</span><span class="o">:=</span><span class="n">fbWriteVelocityFromCam</span><span class="p">.</span><span class="n">bDone</span> <span class="k">AND</span> <span class="n">fbWriteVelocityToCam</span><span class="p">.</span><span class="n">bDone</span> <span class="k">AND</span> <span class="n">bExecute</span><span class="p">;</span>

<span class="n">bError</span><span class="o">:=</span><span class="n">fbWriteVelocityToCam</span><span class="p">.</span><span class="n">bError</span> <span class="k">OR</span> <span class="n">fbWriteVelocityFromCam</span><span class="p">.</span><span class="n">bError</span><span class="p">;</span>
<span class="k">IF</span> <span class="n">fbWriteVelocityToCam</span><span class="p">.</span><span class="n">bError</span> <span class="k">THEN</span>
  <span class="n">nErrorId</span><span class="o">:=</span><span class="n">fbWriteVelocityToCam</span><span class="p">.</span><span class="n">nErrorId</span><span class="p">;</span>
<span class="k">ELSIF</span> <span class="n">fbWriteVelocityFromCam</span><span class="p">.</span><span class="n">bError</span> <span class="k">THEN</span>
  <span class="n">nErrorId</span><span class="o">:=</span><span class="n">fbWriteVelocityFromCam</span><span class="p">.</span><span class="n">nErrorId</span><span class="p">;</span>
<span class="n">END_IF</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-motion-homing-fb-homewritesoftlimenable-tcpou-tcplcobject">
<h2>tc_mca_std_lib/POUs/Motion/Homing/FB_HomeWriteSoftLimEnable.TcPOU (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-motion-homing-fb-homewritesoftlimenable-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="section" id="fb-homewritesoftlimenable-declaration">
<h3>FB_HomeWriteSoftLimEnable: Declaration<a class="headerlink" href="#fb-homewritesoftlimenable-declaration" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="n">FUNCTION_BLOCK</span> <span class="n">FB_HomeWriteSoftLimEnable</span>
<span class="n">VAR_INPUT</span>
	<span class="n">En</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bReset</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
    <span class="n">bExecute</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>		
	<span class="n">bSofLimEnableLow</span><span class="o">:</span> <span class="n">BOOL</span><span class="o">:=</span><span class="n">TRUE</span><span class="p">;</span>
	<span class="n">bSofLimEnableHigh</span><span class="o">:</span> <span class="n">BOOL</span><span class="o">:=</span><span class="n">TRUE</span><span class="p">;</span>
<span class="n">END_VAR</span>
<span class="n">VAR_IN_OUT</span>
	<span class="n">Axis</span><span class="o">:</span> <span class="n">AXIS_REF</span><span class="p">;</span>
<span class="n">END_VAR</span>
<span class="n">VAR_OUTPUT</span>
	<span class="n">EnO</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>	
	<span class="n">bBusy</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bDone</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bError</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">nErrorId</span><span class="o">:</span> <span class="n">UDINT</span><span class="p">;</span>	
<span class="n">END_VAR</span>
<span class="n">VAR</span>
	<span class="n">fbExecuteRiseEdge</span><span class="o">:</span> <span class="n">R_TRIG</span><span class="p">;</span>
	<span class="n">fbWriteSoftLimEnableLow</span><span class="o">:</span><span class="n">FB_WriteParameterInNc_v1_00</span><span class="p">;</span>
	<span class="n">fbWriteSoftLimEnableHigh</span><span class="o">:</span><span class="n">FB_WriteParameterInNc_v1_00</span><span class="p">;</span>
<span class="n">END_VAR</span>
</pre></div>
</div>
</div>
<div class="section" id="fb-homewritesoftlimenable-st">
<h3>FB_HomeWriteSoftLimEnable: ST<a class="headerlink" href="#fb-homewritesoftlimenable-st" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="n">En</span><span class="o">:=</span><span class="n">EnO</span><span class="p">;</span>
<span class="k">IF</span> <span class="n">bReset</span> <span class="k">THEN</span>
	<span class="n">bError</span><span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span>
	<span class="n">nErrorId</span><span class="o">:=</span><span class="mi">0</span><span class="p">;</span>
<span class="n">END_IF</span> 

<span class="n">fbExecuteRiseEdge</span><span class="p">(</span><span class="n">CLK</span><span class="o">:=</span><span class="n">bExecute</span><span class="p">);</span>

<span class="n">fbWriteSoftLimEnableLow</span><span class="p">(</span>
	<span class="n">bExecute</span><span class="o">:=</span><span class="n">bExecute</span><span class="p">,</span>
	<span class="n">nDeviceGroup</span><span class="o">:=</span> <span class="mi">16#5000</span><span class="p">,</span>
	<span class="n">nIndexOffset</span><span class="o">:=</span> <span class="mi">16#B</span><span class="p">,</span>
	<span class="n">nData</span><span class="o">:=</span><span class="n">BOOL_TO_DWORD</span><span class="p">(</span><span class="n">bSofLimEnableLow</span><span class="p">),</span>
	<span class="n">Axis</span><span class="o">:=</span> <span class="n">Axis</span><span class="p">);</span>
	
<span class="n">fbWriteSoftLimEnableHigh</span><span class="p">(</span>
	<span class="n">bExecute</span><span class="o">:=</span><span class="n">bExecute</span><span class="p">,</span>
	<span class="n">nDeviceGroup</span><span class="o">:=</span> <span class="mi">16#5000</span><span class="p">,</span>
	<span class="n">nIndexOffset</span><span class="o">:=</span> <span class="mi">16#C</span><span class="p">,</span>
	<span class="n">nData</span><span class="o">:=</span><span class="n">BOOL_TO_DWORD</span><span class="p">(</span><span class="n">bSofLimEnableHigh</span><span class="p">),</span>
	<span class="n">Axis</span><span class="o">:=</span> <span class="n">Axis</span><span class="p">);</span>

<span class="n">bBusy</span><span class="o">:=</span><span class="n">fbWriteSoftLimEnableLow</span><span class="p">.</span><span class="n">bBusy</span> <span class="k">OR</span> <span class="n">fbWriteSoftLimEnableHigh</span><span class="p">.</span><span class="n">bBusy</span><span class="p">;</span>
<span class="n">bDone</span><span class="o">:=</span><span class="n">fbWriteSoftLimEnableLow</span><span class="p">.</span><span class="n">bDone</span> <span class="k">AND</span> <span class="n">fbWriteSoftLimEnableHigh</span><span class="p">.</span><span class="n">bDone</span> <span class="k">AND</span> <span class="n">bExecute</span><span class="p">;</span>

<span class="n">bError</span><span class="o">:=</span><span class="n">fbWriteSoftLimEnableHigh</span><span class="p">.</span><span class="n">bError</span> <span class="k">OR</span> <span class="n">fbWriteSoftLimEnableLow</span><span class="p">.</span><span class="n">bError</span><span class="p">;</span>
<span class="k">IF</span> <span class="n">fbWriteSoftLimEnableHigh</span><span class="p">.</span><span class="n">bError</span> <span class="k">THEN</span>
  <span class="n">nErrorId</span><span class="o">:=</span><span class="n">fbWriteSoftLimEnableHigh</span><span class="p">.</span><span class="n">nErrorId</span><span class="p">;</span>
<span class="k">ELSIF</span> <span class="n">fbWriteSoftLimEnableLow</span><span class="p">.</span><span class="n">bError</span> <span class="k">THEN</span>
  <span class="n">nErrorId</span><span class="o">:=</span><span class="n">fbWriteSoftLimEnableLow</span><span class="p">.</span><span class="n">nErrorId</span><span class="p">;</span>
<span class="n">END_IF</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="unittests-interactive-tcpou-tcplcobject">
<h2>UnitTests/Interactive.TcPOU (TcPlcObject)<a class="headerlink" href="#unittests-interactive-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="section" id="interactive-declaration">
<h3>Interactive: Declaration<a class="headerlink" href="#interactive-declaration" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="n">PROGRAM</span> <span class="n">Interactive</span>
<span class="n">VAR</span>
	<span class="n">M1</span><span class="o">:</span> <span class="n">DUT_MotionStage</span><span class="p">;</span>
	<span class="n">fbMotionStageSim</span><span class="o">:</span> <span class="n">FB_MotionStageSim</span><span class="p">;</span>
	<span class="n">nCounter</span><span class="o">:</span> <span class="n">UINT</span><span class="p">;</span>
	
	<span class="n">stOut</span><span class="o">:</span> <span class="n">DUT_PositionState</span><span class="p">;</span>
	<span class="n">fbGoOut</span><span class="o">:</span> <span class="n">FB_StatePTPMove</span><span class="p">;</span>
	<span class="n">bOut</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bGoOut</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">stIn</span><span class="o">:</span> <span class="n">DUT_PositionState</span><span class="p">;</span>
	<span class="n">fbGoIn</span><span class="o">:</span> <span class="n">FB_StatePTPMove</span><span class="p">;</span>
	<span class="n">bIn</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bGoIn</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">stUnsafe</span><span class="o">:</span> <span class="n">DUT_PositionState</span><span class="p">;</span>
	<span class="n">fbGoBad</span><span class="o">:</span> <span class="n">FB_StatePTPMove</span><span class="p">;</span>
	<span class="n">bHCF</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
	<span class="n">bGoHCF</span><span class="o">:</span> <span class="n">BOOL</span><span class="p">;</span>
<span class="n">END_VAR</span>
</pre></div>
</div>
</div>
<div class="section" id="interactive-st">
<h3>Interactive: ST<a class="headerlink" href="#interactive-st" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="n">fbMotionStageSim</span><span class="p">(</span><span class="n">stMotionStage</span><span class="o">:=</span><span class="n">M1</span><span class="p">);</span>
<span class="n">nCounter</span> <span class="o">:=</span> <span class="n">nCounter</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>

<span class="n">stOut</span><span class="p">.</span><span class="n">sName</span> <span class="o">:=</span> <span class="na">&#39;Out</span><span class="p">&#39;;</span>
<span class="n">stOut</span><span class="p">.</span><span class="n">fPosition</span> <span class="o">:=</span> <span class="mi">100</span><span class="p">;</span>
<span class="n">stOut</span><span class="p">.</span><span class="n">fDelta</span> <span class="o">:=</span> <span class="mi">20</span><span class="p">;</span>
<span class="n">stOut</span><span class="p">.</span><span class="n">fVelocity</span> <span class="o">:=</span> <span class="mi">10</span><span class="p">;</span>

<span class="n">stIn</span><span class="p">.</span><span class="n">sName</span> <span class="o">:=</span> <span class="na">&#39;In</span><span class="p">&#39;;</span>
<span class="n">stIn</span><span class="p">.</span><span class="n">fPosition</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span>
<span class="n">stIn</span><span class="p">.</span><span class="n">fDelta</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">.</span><span class="mi">1</span><span class="p">;</span>
<span class="n">stIn</span><span class="p">.</span><span class="n">fVelocity</span> <span class="o">:=</span> <span class="mi">5</span><span class="p">;</span>

<span class="n">stUnsafe</span><span class="p">.</span><span class="n">sName</span> <span class="o">:=</span> <span class="na">&#39;HCF</span><span class="p">&#39;;</span>
<span class="n">stUnsafe</span><span class="p">.</span><span class="n">fPosition</span> <span class="o">:=</span> <span class="o">-</span><span class="mi">999</span><span class="p">;</span>
<span class="n">stUnsafe</span><span class="p">.</span><span class="n">fDelta</span> <span class="o">:=</span> <span class="mi">6</span><span class="p">;</span>
<span class="n">stUnsafe</span><span class="p">.</span><span class="n">fVelocity</span> <span class="o">:=</span> <span class="mi">42</span><span class="p">;</span>

<span class="n">fbGoOut</span><span class="p">(</span>
	<span class="n">bExecute</span><span class="o">:=</span><span class="n">bGoOut</span><span class="p">,</span>
	<span class="n">stMotionStage</span><span class="o">:=</span><span class="n">M1</span><span class="p">,</span>
	<span class="n">stPositionState</span><span class="o">:=</span><span class="n">stOut</span><span class="p">,</span>
	<span class="n">bMoveOk</span><span class="o">:=</span><span class="n">TRUE</span><span class="p">,</span>
	<span class="n">bAtState</span><span class="o">=&gt;</span><span class="n">bOut</span><span class="p">);</span>
<span class="n">fbGoIn</span><span class="p">(</span>
	<span class="n">bExecute</span><span class="o">:=</span><span class="n">bGoIn</span><span class="p">,</span>
	<span class="n">stMotionStage</span><span class="o">:=</span><span class="n">M1</span><span class="p">,</span>
	<span class="n">stPositionState</span><span class="o">:=</span><span class="n">stIn</span><span class="p">,</span>
	<span class="n">bMoveOk</span><span class="o">:=</span><span class="n">TRUE</span><span class="p">,</span>
	<span class="n">bAtState</span><span class="o">=&gt;</span><span class="n">bIn</span><span class="p">);</span>
<span class="n">fbGoBad</span><span class="p">(</span>
	<span class="n">bExecute</span><span class="o">:=</span><span class="n">bGoHCF</span><span class="p">,</span>
	<span class="n">stMotionStage</span><span class="o">:=</span><span class="n">M1</span><span class="p">,</span>
	<span class="n">stPositionState</span><span class="o">:=</span><span class="n">stUnsafe</span><span class="p">,</span>
	<span class="n">bAtState</span><span class="o">=&gt;</span><span class="n">bHCF</span><span class="p">);</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="version-global-version-tcgvl-tcplcobject">
<h2>Version/Global_Version.TcGVL (TcPlcObject)<a class="headerlink" href="#version-global-version-tcgvl-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="section" id="global-version-declaration">
<h3>Global_Version: Declaration<a class="headerlink" href="#global-version-declaration" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span>{attribute &#39;TcGenerated&#39;}
// This function has been automatically generated from the project information.
VAR_GLOBAL CONSTANT
	{attribute &#39;const_non_replaced&#39;}
	{attribute &#39;linkalways&#39;}
	stLibVersion_lcls_twincat_motion : ST_LibVersion := (iMajor := 0, iMinor := 0, iBuild := 0, iRevision := 0, sVersion := &#39;0.0.0&#39;);
END_VAR
</pre></div>
</div>
</div>
</div>
<div class="section" id="symbols">
<h2>Symbols<a class="headerlink" href="#symbols" title="Permalink to this headline">Â¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Constants</span><span class="o">.</span><span class="n">CompilerVersion</span> <span class="p">:</span> <span class="n">VERSION</span> <span class="p">(</span><span class="mi">4530144</span> <span class="mi">64</span><span class="p">)</span>
<span class="n">Constants</span><span class="o">.</span><span class="n">CompilerVersionNumeric</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4530304</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Constants</span><span class="o">.</span><span class="n">RuntimeVersion</span> <span class="p">:</span> <span class="n">VERSION</span> <span class="p">(</span><span class="mi">4530080</span> <span class="mi">64</span><span class="p">)</span>
<span class="n">Constants</span><span class="o">.</span><span class="n">RuntimeVersionNumeric</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4530272</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Constants</span><span class="o">.</span><span class="n">bFPUSupport</span> <span class="p">:</span> <span class="n">BOOL</span> <span class="p">(</span><span class="mi">4530240</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Constants</span><span class="o">.</span><span class="n">bLittleEndian</span> <span class="p">:</span> <span class="n">BOOL</span> <span class="p">(</span><span class="mi">4530064</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Constants</span><span class="o">.</span><span class="n">bSimulationMode</span> <span class="p">:</span> <span class="n">BOOL</span> <span class="p">(</span><span class="mi">4530072</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Constants</span><span class="o">.</span><span class="n">nPackMode</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4530224</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Constants</span><span class="o">.</span><span class="n">nRegisterSize</span> <span class="p">:</span> <span class="n">WORD</span> <span class="p">(</span><span class="mi">4530208</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">GVL</span><span class="o">.</span><span class="n">nHomingError</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4530016</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">GVL_ErrorSystem</span><span class="o">.</span><span class="n">cSizeOfErrorData</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4530048</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_DEVICE_DATA</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097664</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_IOIMAGE_CLEARI</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097568</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_IOIMAGE_CLEARO</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097600</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_IOIMAGE_RISIZE</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097440</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_IOIMAGE_ROSIZE</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097536</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_IOIMAGE_RWIB</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097376</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_IOIMAGE_RWIOB</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097632</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_IOIMAGE_RWIX</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097408</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_IOIMAGE_RWOB</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097472</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_IOIMAGE_RWOX</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097504</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_SYMNAME</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4096960</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_SYMNOTE</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097344</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_SYMTAB</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4096928</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_SYMVAL</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4096992</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_SYM_DOWNLOAD</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097248</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_SYM_HNDBYNAME</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097024</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_SYM_INFOBYNAME</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097152</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_SYM_INFOBYNAMEEX</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097216</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_SYM_RELEASEHND</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097120</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_SYM_UPLOAD</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097280</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_SYM_UPLOADINFO</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097312</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_SYM_VALBYHND</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097088</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_SYM_VALBYNAME</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097056</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_SYM_VERSION</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097184</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIOFFS_DEVDATA_ADSSTATE</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097696</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIOFFS_DEVDATA_DEVSTATE</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097728</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSLOG_MSGTYPE_ERROR</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4098784</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSLOG_MSGTYPE_HINT</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4098720</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSLOG_MSGTYPE_LOG</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4098816</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSLOG_MSGTYPE_MSGBOX</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4098848</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSLOG_MSGTYPE_RESOURCE</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4098880</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSLOG_MSGTYPE_STRING</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4098912</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSLOG_MSGTYPE_WARN</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4098752</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSSTATE_CONFIG</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096832</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSSTATE_ERROR</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096768</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSSTATE_EXCEPTION</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096896</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSSTATE_IDLE</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096608</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSSTATE_INCOMPATIBLE</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096880</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSSTATE_INIT</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096640</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSSTATE_INVALID</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096592</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSSTATE_LOADCFG</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096720</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSSTATE_MAXSTATES</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096912</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSSTATE_POWERFAILURE</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096736</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSSTATE_POWERGOOD</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096752</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSSTATE_RECONFIG</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096848</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSSTATE_RESET</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096624</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSSTATE_RESUME</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096816</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSSTATE_RUN</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096672</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSSTATE_SAVECFG</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096704</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSSTATE_SHUTDOWN</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096784</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSSTATE_START</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096656</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSSTATE_STOP</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096688</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSSTATE_STOPPING</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096864</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSSTATE_SUSPEND</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096800</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSLOGGER_IGR_GENERAL</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4164544</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSLOGGER_IOF_MODE</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4164576</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSPORT_AMSLOGGER</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4163280</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSPORT_EVENTLOG</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096304</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSPORT_LOGGER</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096288</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSPORT_R0_CAM</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096528</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSPORT_R0_CAMTOOL</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096544</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSPORT_R0_CNC</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096416</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSPORT_R0_IO</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096336</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSPORT_R0_ISG</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096400</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSPORT_R0_LINE</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096432</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSPORT_R0_NC</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096352</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSPORT_R0_NCSAF</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096368</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSPORT_R0_NCSVB</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096384</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSPORT_R0_PLC</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096448</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSPORT_R0_PLC_RTS1</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096464</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSPORT_R0_PLC_RTS2</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096480</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSPORT_R0_PLC_RTS3</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096496</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSPORT_R0_PLC_RTS4</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096512</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSPORT_R0_RTIME</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096320</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSPORT_R3_SCOPESERVER</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096576</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSPORT_R3_SYSSERV</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096560</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">BOOTDATAFLAGS_PERSISTENT_INVALID</span> <span class="p">:</span> <span class="n">BYTE</span> <span class="p">(</span><span class="mi">4098976</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">BOOTDATAFLAGS_PERSISTENT_LOADED</span> <span class="p">:</span> <span class="n">BYTE</span> <span class="p">(</span><span class="mi">4098968</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">BOOTDATAFLAGS_RETAIN_INVALID</span> <span class="p">:</span> <span class="n">BYTE</span> <span class="p">(</span><span class="mi">4098952</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">BOOTDATAFLAGS_RETAIN_LOADED</span> <span class="p">:</span> <span class="n">BYTE</span> <span class="p">(</span><span class="mi">4098944</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">BOOTDATAFLAGS_RETAIN_REQUESTED</span> <span class="p">:</span> <span class="n">BYTE</span> <span class="p">(</span><span class="mi">4098960</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">DATE_AND_TIME_SECPERDAY</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4177536</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">DATE_AND_TIME_SECPERWEEK</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4177568</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">DBG_OUTPUT_FILE</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4183840</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">DBG_OUTPUT_LOG</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4183808</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">DBG_OUTPUT_NONE</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4183776</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">DBG_OUTPUT_VISU</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4183872</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">DEFAULT_ADS_TIMEOUT</span> <span class="p">:</span> <span class="n">TIME</span> <span class="p">(</span><span class="mi">4099712</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">DEFAULT_BACKLASHVALUE</span> <span class="p">:</span> <span class="n">LREAL</span> <span class="p">(</span><span class="mi">4313088</span> <span class="mi">64</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">DEFAULT_CSV_FIELD_DOUBLE_QUOTE</span> <span class="p">:</span> <span class="n">BYTE</span> <span class="p">(</span><span class="mi">4303568</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">DEFAULT_CSV_FIELD_SEP</span> <span class="p">:</span> <span class="n">BYTE</span> <span class="p">(</span><span class="mi">4101272</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">DEFAULT_CSV_RECORD_SEP_CR</span> <span class="p">:</span> <span class="n">BYTE</span> <span class="p">(</span><span class="mi">4303576</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">DEFAULT_CSV_RECORD_SEP_LF</span> <span class="p">:</span> <span class="n">BYTE</span> <span class="p">(</span><span class="mi">4303584</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">DEFAULT_HOME_POSITION</span> <span class="p">:</span> <span class="n">LREAL</span> <span class="p">(</span><span class="mi">4313024</span> <span class="mi">64</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">EMPTY_ARG_VALUE</span> <span class="p">:</span> <span class="n">Tc2_Utilities</span><span class="o">.</span><span class="n">T_Arg</span> <span class="p">(</span><span class="mi">4165184</span> <span class="mi">128</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">EMPTY_GUID_REGSTRING</span> <span class="p">:</span> <span class="n">STRING</span><span class="p">(</span><span class="mi">38</span><span class="p">)</span> <span class="p">(</span><span class="mi">4305736</span> <span class="mi">312</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">EMPTY_GUID_STRING</span> <span class="p">:</span> <span class="n">STRING</span><span class="p">(</span><span class="mi">36</span><span class="p">)</span> <span class="p">(</span><span class="mi">4305440</span> <span class="mi">296</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">EMPTY_GUID_STRUCT</span> <span class="p">:</span> <span class="n">GUID</span> <span class="p">(</span><span class="mi">4305312</span> <span class="mi">128</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">EMPTY_ROUTE_ENTRY</span> <span class="p">:</span> <span class="n">Tc2_Utilities</span><span class="o">.</span><span class="n">ST_AmsRouteEntry</span> <span class="p">(</span><span class="mi">4163296</span> <span class="mi">1184</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FLOATREC_EXP_IS_INF</span> <span class="p">:</span> <span class="n">INT</span> <span class="p">(</span><span class="mi">4164640</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FLOATREC_EXP_IS_NAN</span> <span class="p">:</span> <span class="n">INT</span> <span class="p">(</span><span class="mi">4164624</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FLOATREC_MAX_DIGITS</span> <span class="p">:</span> <span class="n">INT</span> <span class="p">(</span><span class="mi">4164656</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FLOATREC_MAX_PRECISION</span> <span class="p">:</span> <span class="n">INT</span> <span class="p">(</span><span class="mi">4164672</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FLOATREC_MIN_PRECISION</span> <span class="p">:</span> <span class="n">INT</span> <span class="p">(</span><span class="mi">4164688</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FMTERR_ARGTYPEINVALID</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4164992</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FMTERR_ASTERISKPOSITION</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4164768</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FMTERR_DESTBUFFOVERFLOW</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4165088</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FMTERR_FLAGPOSITION</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4164864</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FMTERR_INSUFFICIENTARGS</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4165056</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FMTERR_INVALIDPOINTERINPUT</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4165120</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FMTERR_NOERROR</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4164704</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FMTERR_PERCENTSIGNPOSITION</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4164736</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FMTERR_PRECISIONDOTPOSITION</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4164928</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FMTERR_PRECISIONVALUE</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4164832</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FMTERR_TYPEFIELDVALUE</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4164960</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FMTERR_UNACCEPTEDPARAMETER</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4165024</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FMTERR_WIDTHPRECISIONVALPOS</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4164896</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FMTERR_WIDTHVALUE</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4164800</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FOPEN_MODEAPPEND</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4099072</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FOPEN_MODEBINARY</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4099136</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FOPEN_MODEPLUS</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4099104</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FOPEN_MODEREAD</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4099008</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FOPEN_MODETEXT</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4099168</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FOPEN_MODEWRITE</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4099040</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FORMAT_DECASC_CODES</span> <span class="p">:</span> <span class="n">BYTE</span> <span class="p">(</span><span class="mi">4165568</span> <span class="mi">80</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FORMAT_HEXASC_CODES</span> <span class="p">:</span> <span class="n">BYTE</span> <span class="p">(</span><span class="mi">4165312</span> <span class="mi">256</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FORMAT_MAX_ARGS</span> <span class="p">:</span> <span class="n">INT</span> <span class="p">(</span><span class="mi">4164608</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">GLOBAL_DCF77_PULSE_SPLIT</span> <span class="p">:</span> <span class="n">TIME</span> <span class="p">(</span><span class="mi">4101280</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">GLOBAL_DCF77_SEQUENCE_CHECK</span> <span class="p">:</span> <span class="n">BOOL</span> <span class="p">(</span><span class="mi">4101264</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">GLOBAL_FORMAT_HASH_PREFIX_TYPE</span> <span class="p">:</span> <span class="n">Tc2_Utilities</span><span class="o">.</span><span class="n">E_HashPrefixTypes</span> <span class="p">(</span><span class="mi">4101232</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">GLOBAL_SBCS_TABLE</span> <span class="p">:</span> <span class="n">Tc2_Utilities</span><span class="o">.</span><span class="n">E_SBCSType</span> <span class="p">(</span><span class="mi">4101248</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">HKEY_MAX_BINARY_DATA_SIZE</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4164512</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">IPHELPERAPI_ADAPTERSINFO</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4162944</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">IPHELPERAPI_IPADDRBYHOSTNAME</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4162976</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">MAX_ADAPTER_ADDRESS_LENGTH</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4162848</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">MAX_ADAPTER_DESCRIPTION_LENGTH</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4162816</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">MAX_ADAPTER_NAME_LENGTH</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4162784</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">MAX_AVERAGE_MEASURES</span> <span class="p">:</span> <span class="n">INT</span> <span class="p">(</span><span class="mi">4101216</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">MAX_LOCAL_ADAPTERS</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4163008</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">MAX_REMOTE_PCS</span> <span class="p">:</span> <span class="n">INT</span> <span class="p">(</span><span class="mi">4163136</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">MAX_ROUTE_ADDR_LEN</span> <span class="p">:</span> <span class="n">BYTE</span> <span class="p">(</span><span class="mi">4163160</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">MAX_ROUTE_NAME_LEN</span> <span class="p">:</span> <span class="n">BYTE</span> <span class="p">(</span><span class="mi">4163152</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">MAX_ROUTE_TRANSPORT</span> <span class="p">:</span> <span class="n">BYTE</span> <span class="p">(</span><span class="mi">4163272</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">MAX_STRING_LENGTH</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4099744</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">MIN_ROUTE_TRANSPORT</span> <span class="p">:</span> <span class="n">BYTE</span> <span class="p">(</span><span class="mi">4163264</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">PI</span> <span class="p">:</span> <span class="n">LREAL</span> <span class="p">(</span><span class="mi">4099648</span> <span class="mi">64</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ROUTE_FLAG_DYNAMIC</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4163200</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ROUTE_FLAG_NOOVERRIDE</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4163232</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ROUTE_FLAG_TEMPORARY</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4163168</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_ADDREMOTE</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4163040</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_CHANGENETID</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098528</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_CLOSEHANDLE</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097888</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_CREATEFILE</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097856</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_DELREMOTE</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4163072</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_ENUMREMOTE</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4163104</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_FCLOSE</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097952</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_FDELETE</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098272</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_FEOF</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098240</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_FFILEFIND</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4164480</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_FGETS</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098112</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_FOPEN</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097920</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_FPRINTF</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098208</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_FPUTS</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098144</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_FREAD</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097984</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_FRENAME</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098304</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_FSCANF</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098176</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_FSEEK</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098048</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_FTELL</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098080</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_FWRITE</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098016</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_IPHELPERAPI</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4162880</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_IPHOSTNAME</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4162912</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_MKDIR</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098336</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_OPENCREATE</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097760</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_OPENREAD</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097792</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_OPENWRITE</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097824</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_REG_HKEYLOCALMACHINE</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098400</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_RMDIR</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098368</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_SENDEMAIL</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098432</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_STARTPROCESS</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098496</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_TIMESERVICES</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098464</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSTATEFLAGS_BSOD</span> <span class="p">:</span> <span class="n">BYTE</span> <span class="p">(</span><span class="mi">4098984</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSTATEFLAGS_RTVIOLATION</span> <span class="p">:</span> <span class="n">BYTE</span> <span class="p">(</span><span class="mi">4098992</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMTIME_DATEDELTA_OFFSET</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4165152</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMTIME_DATE_AND_TIME_MAX</span> <span class="p">:</span> <span class="n">Tc2_Utilities</span><span class="o">.</span><span class="n">T_ULARGE_INTEGER</span> <span class="p">(</span><span class="mi">4172160</span> <span class="mi">64</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMTIME_DATE_AND_TIME_MAX64</span> <span class="p">:</span> <span class="n">ULINT</span> <span class="p">(</span><span class="mi">4172480</span> <span class="mi">64</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMTIME_DATE_AND_TIME_MIN</span> <span class="p">:</span> <span class="n">Tc2_Utilities</span><span class="o">.</span><span class="n">T_ULARGE_INTEGER</span> <span class="p">(</span><span class="mi">4172096</span> <span class="mi">64</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMTIME_DATE_AND_TIME_MIN64</span> <span class="p">:</span> <span class="n">ULINT</span> <span class="p">(</span><span class="mi">4172416</span> <span class="mi">64</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMTIME_MAX_MONTHDAYS</span> <span class="p">:</span> <span class="n">WORD</span> <span class="p">(</span><span class="mi">4171056</span> <span class="mi">384</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMTIME_MAX_YEARSDAY</span> <span class="p">:</span> <span class="n">WORD</span> <span class="p">(</span><span class="mi">4171440</span> <span class="mi">448</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMTIME_TICKSPERDAY</span> <span class="p">:</span> <span class="n">Tc2_Utilities</span><span class="o">.</span><span class="n">T_ULARGE_INTEGER</span> <span class="p">(</span><span class="mi">4172032</span> <span class="mi">64</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMTIME_TICKSPERDAY64</span> <span class="p">:</span> <span class="n">ULINT</span> <span class="p">(</span><span class="mi">4172352</span> <span class="mi">64</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMTIME_TICKSPERMSEC</span> <span class="p">:</span> <span class="n">Tc2_Utilities</span><span class="o">.</span><span class="n">T_ULARGE_INTEGER</span> <span class="p">(</span><span class="mi">4171904</span> <span class="mi">64</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMTIME_TICKSPERMSEC64</span> <span class="p">:</span> <span class="n">ULINT</span> <span class="p">(</span><span class="mi">4172224</span> <span class="mi">64</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMTIME_TICKSPERSEC</span> <span class="p">:</span> <span class="n">Tc2_Utilities</span><span class="o">.</span><span class="n">T_ULARGE_INTEGER</span> <span class="p">(</span><span class="mi">4171968</span> <span class="mi">64</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMTIME_TICKSPERSEC64</span> <span class="p">:</span> <span class="n">ULINT</span> <span class="p">(</span><span class="mi">4172288</span> <span class="mi">64</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">TCEVENTFLAG_AUTOFMTALL</span> <span class="p">:</span> <span class="n">WORD</span> <span class="p">(</span><span class="mi">4099504</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">TCEVENTFLAG_FMTSELF</span> <span class="p">:</span> <span class="n">WORD</span> <span class="p">(</span><span class="mi">4099440</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">TCEVENTFLAG_LOG</span> <span class="p">:</span> <span class="n">WORD</span> <span class="p">(</span><span class="mi">4099456</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">TCEVENTFLAG_MSGBOX</span> <span class="p">:</span> <span class="n">WORD</span> <span class="p">(</span><span class="mi">4099472</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">TCEVENTFLAG_PRIOCLASS</span> <span class="p">:</span> <span class="n">WORD</span> <span class="p">(</span><span class="mi">4099424</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">TCEVENTFLAG_SRCID</span> <span class="p">:</span> <span class="n">WORD</span> <span class="p">(</span><span class="mi">4099488</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">TCEVENTSTATE_CONFIRMED</span> <span class="p">:</span> <span class="n">WORD</span> <span class="p">(</span><span class="mi">4099568</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">TCEVENTSTATE_INVALID</span> <span class="p">:</span> <span class="n">WORD</span> <span class="p">(</span><span class="mi">4099520</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">TCEVENTSTATE_RESET</span> <span class="p">:</span> <span class="n">WORD</span> <span class="p">(</span><span class="mi">4099552</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">TCEVENTSTATE_RESETCON</span> <span class="p">:</span> <span class="n">WORD</span> <span class="p">(</span><span class="mi">4099584</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">TCEVENTSTATE_SIGNALED</span> <span class="p">:</span> <span class="n">WORD</span> <span class="p">(</span><span class="mi">4099536</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">TCEVENT_FMTPRGSIZE</span> <span class="p">:</span> <span class="n">INT</span> <span class="p">(</span><span class="mi">4099616</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">TCEVENT_SRCNAMESIZE</span> <span class="p">:</span> <span class="n">INT</span> <span class="p">(</span><span class="mi">4099600</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">TIMESERVICE_ADJUSTTIMETORTC</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098656</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">TIMESERVICE_DATEANDTIME</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098560</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">TIMESERVICE_RTCTIMEDIFF</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098624</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">TIMESERVICE_SYSTEMTIMES</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098592</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">TIMESERVICE_TIMEZONINFORMATION</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098688</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">TcMcGlobal</span> <span class="p">:</span> <span class="n">Tc2_MC2</span><span class="o">.</span><span class="n">_TCMCGLOBAL</span> <span class="p">(</span><span class="mi">4306048</span> <span class="mi">6976</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">WEST_EUROPE_TZI</span> <span class="p">:</span> <span class="n">Tc2_Utilities</span><span class="o">.</span><span class="n">ST_TimeZoneInformation</span> <span class="p">(</span><span class="mi">4172544</span> <span class="mi">864</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">eWatchdogConfig</span> <span class="p">:</span> <span class="n">Tc2_System</span><span class="o">.</span><span class="n">E_WATCHDOG_TIME_CONFIG</span> <span class="p">(</span><span class="mi">4099632</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">nWatchdogTime</span> <span class="p">:</span> <span class="n">BYTE</span> <span class="p">(</span><span class="mi">4099000</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Global_Version</span><span class="o">.</span><span class="n">stLibVersion_Tc2_System</span> <span class="p">:</span> <span class="n">ST_LibVersion</span> <span class="p">(</span><span class="mi">4096000</span> <span class="mi">288</span><span class="p">)</span>
<span class="n">Global_Version</span><span class="o">.</span><span class="n">stLibVersion_Tc2_Utilities</span> <span class="p">:</span> <span class="n">ST_LibVersion</span> <span class="p">(</span><span class="mi">4100928</span> <span class="mi">288</span><span class="p">)</span>
<span class="n">Global_Version</span><span class="o">.</span><span class="n">stLibVersion_Tc3_Module</span> <span class="p">:</span> <span class="n">ST_LibVersion</span> <span class="p">(</span><span class="mi">4100288</span> <span class="mi">288</span><span class="p">)</span>
<span class="n">Global_Version</span><span class="o">.</span><span class="n">stLibVersion_lcls_twincat_motion</span> <span class="p">:</span> <span class="n">ST_LibVersion</span> <span class="p">(</span><span class="mi">4529728</span> <span class="mi">288</span><span class="p">)</span>
<span class="n">Interactive</span><span class="o">.</span><span class="n">M1</span> <span class="p">:</span> <span class="n">DUT_MotionStage</span> <span class="p">(</span><span class="mi">4335232</span> <span class="mi">11264</span><span class="p">)</span>
<span class="n">Interactive</span><span class="o">.</span><span class="n">M1</span><span class="o">.</span><span class="n">Axis</span><span class="o">.</span><span class="n">NcToPlc</span> <span class="p">:</span> <span class="n">NCTOPLC_AXIS_REF</span> <span class="p">(</span><span class="mi">4336320</span> <span class="mi">2048</span><span class="p">)</span>
<span class="n">Interactive</span><span class="o">.</span><span class="n">M1</span><span class="o">.</span><span class="n">Axis</span><span class="o">.</span><span class="n">PlcToNc</span> <span class="p">:</span> <span class="n">PLCTONC_AXIS_REF</span> <span class="p">(</span><span class="mi">4335296</span> <span class="mi">1024</span><span class="p">)</span>
<span class="n">Interactive</span><span class="o">.</span><span class="n">M1</span><span class="o">.</span><span class="n">bBrakeRelease</span> <span class="p">:</span> <span class="n">BOOL</span> <span class="p">(</span><span class="mi">4344280</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Interactive</span><span class="o">.</span><span class="n">M1</span><span class="o">.</span><span class="n">bHardwareEnable</span> <span class="p">:</span> <span class="n">BOOL</span> <span class="p">(</span><span class="mi">4344288</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Interactive</span><span class="o">.</span><span class="n">M1</span><span class="o">.</span><span class="n">bHome</span> <span class="p">:</span> <span class="n">BOOL</span> <span class="p">(</span><span class="mi">4344272</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Interactive</span><span class="o">.</span><span class="n">M1</span><span class="o">.</span><span class="n">bLimitBackwardEnable</span> <span class="p">:</span> <span class="n">BOOL</span> <span class="p">(</span><span class="mi">4344264</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Interactive</span><span class="o">.</span><span class="n">M1</span><span class="o">.</span><span class="n">bLimitForwardEnable</span> <span class="p">:</span> <span class="n">BOOL</span> <span class="p">(</span><span class="mi">4344256</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Interactive</span><span class="o">.</span><span class="n">bGoHCF</span> <span class="p">:</span> <span class="n">BOOL</span> <span class="p">(</span><span class="mi">4514608</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Interactive</span><span class="o">.</span><span class="n">bGoIn</span> <span class="p">:</span> <span class="n">BOOL</span> <span class="p">(</span><span class="mi">4514592</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Interactive</span><span class="o">.</span><span class="n">bGoOut</span> <span class="p">:</span> <span class="n">BOOL</span> <span class="p">(</span><span class="mi">4514576</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Interactive</span><span class="o">.</span><span class="n">bHCF</span> <span class="p">:</span> <span class="n">BOOL</span> <span class="p">(</span><span class="mi">4514600</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Interactive</span><span class="o">.</span><span class="n">bIn</span> <span class="p">:</span> <span class="n">BOOL</span> <span class="p">(</span><span class="mi">4514584</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Interactive</span><span class="o">.</span><span class="n">bOut</span> <span class="p">:</span> <span class="n">BOOL</span> <span class="p">(</span><span class="mi">4305304</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Interactive</span><span class="o">.</span><span class="n">fbGoBad</span> <span class="p">:</span> <span class="n">FB_StatePTPMove</span> <span class="p">(</span><span class="mi">4522432</span> <span class="mi">2368</span><span class="p">)</span>
<span class="n">Interactive</span><span class="o">.</span><span class="n">fbGoIn</span> <span class="p">:</span> <span class="n">FB_StatePTPMove</span> <span class="p">(</span><span class="mi">4519040</span> <span class="mi">2368</span><span class="p">)</span>
<span class="n">Interactive</span><span class="o">.</span><span class="n">fbGoOut</span> <span class="p">:</span> <span class="n">FB_StatePTPMove</span> <span class="p">(</span><span class="mi">4515648</span> <span class="mi">2368</span><span class="p">)</span>
<span class="n">Interactive</span><span class="o">.</span><span class="n">fbMotionStageSim</span> <span class="p">:</span> <span class="n">FB_MotionStageSim</span> <span class="p">(</span><span class="mi">4346496</span> <span class="mi">168064</span><span class="p">)</span>
<span class="n">Interactive</span><span class="o">.</span><span class="n">fbMotionStageSim</span><span class="o">.</span><span class="n">fbMotionStage</span><span class="o">.</span><span class="n">fbDriveVirtual</span><span class="o">.</span><span class="n">MasterAxis</span><span class="o">.</span><span class="n">NcToPlc</span> <span class="p">:</span> <span class="n">NCTOPLC_AXIS_REF</span> <span class="p">(</span><span class="mi">4349248</span> <span class="mi">2048</span><span class="p">)</span>
<span class="n">Interactive</span><span class="o">.</span><span class="n">fbMotionStageSim</span><span class="o">.</span><span class="n">fbMotionStage</span><span class="o">.</span><span class="n">fbDriveVirtual</span><span class="o">.</span><span class="n">MasterAxis</span><span class="o">.</span><span class="n">PlcToNc</span> <span class="p">:</span> <span class="n">PLCTONC_AXIS_REF</span> <span class="p">(</span><span class="mi">4348224</span> <span class="mi">1024</span><span class="p">)</span>
<span class="n">Interactive</span><span class="o">.</span><span class="n">nCounter</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4514560</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Interactive</span><span class="o">.</span><span class="n">stIn</span> <span class="p">:</span> <span class="n">DUT_PositionState</span> <span class="p">(</span><span class="mi">4518016</span> <span class="mi">1024</span><span class="p">)</span>
<span class="n">Interactive</span><span class="o">.</span><span class="n">stOut</span> <span class="p">:</span> <span class="n">DUT_PositionState</span> <span class="p">(</span><span class="mi">4514624</span> <span class="mi">1024</span><span class="p">)</span>
<span class="n">Interactive</span><span class="o">.</span><span class="n">stUnsafe</span> <span class="p">:</span> <span class="n">DUT_PositionState</span> <span class="p">(</span><span class="mi">4521408</span> <span class="mi">1024</span><span class="p">)</span>
<span class="n">TwinCAT_SystemInfoVarList</span><span class="o">.</span><span class="n">_AppInfo</span> <span class="p">:</span> <span class="n">PlcAppSystemInfo</span> <span class="p">(</span><span class="mi">4530368</span> <span class="mi">2048</span><span class="p">)</span>
<span class="n">TwinCAT_SystemInfoVarList</span><span class="o">.</span><span class="n">_TaskInfo</span> <span class="p">:</span> <span class="n">PlcTaskSystemInfo</span> <span class="p">(</span><span class="mi">4532416</span> <span class="mi">1024</span><span class="p">)</span>
<span class="n">TwinCAT_SystemInfoVarList</span><span class="o">.</span><span class="n">_TaskOid_PlcTask</span> <span class="p">:</span> <span class="n">OTCID</span> <span class="p">(</span><span class="mi">4533440</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">TwinCAT_SystemInfoVarList</span><span class="o">.</span><span class="n">_TaskPouOid_PlcTask</span> <span class="p">:</span> <span class="n">OTCID</span> <span class="p">(</span><span class="mi">4530336</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">TwinCAT_SystemInfoVarList</span><span class="o">.</span><span class="n">__PlcTask</span> <span class="p">:</span> <span class="n">_Implicit_Task_Info</span> <span class="p">(</span><span class="mi">4533504</span> <span class="mi">896</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="plc-project-2-example">
<h1>PLC Project (2): Example<a class="headerlink" href="#plc-project-2-example" title="Permalink to this headline">Â¶</a></h1>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Project</span> <span class="n">path</span><span class="p">:</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Example</span><span class="o">/</span><span class="n">Example</span><span class="o">.</span><span class="n">plcproj</span>
<span class="n">TMC</span> <span class="n">path</span><span class="p">:</span>     <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Example</span><span class="o">/</span><span class="n">Example</span><span class="o">.</span><span class="n">tmc</span>
<span class="n">AMS</span> <span class="n">ID</span><span class="p">:</span>       
<span class="n">IP</span> <span class="n">Address</span><span class="p">:</span>    <span class="p">(</span><span class="o">*</span> <span class="n">based</span> <span class="n">on</span> <span class="n">AMS</span> <span class="n">ID</span><span class="p">)</span>
<span class="n">Port</span><span class="p">:</span>         <span class="mi">852</span>

<span class="n">Source</span> <span class="n">files</span><span class="p">:</span>
    <span class="mf">1.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Example</span><span class="o">/</span><span class="n">PlcTask</span><span class="o">.</span><span class="n">TcTTO</span>
    <span class="mf">2.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Example</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">Main</span><span class="o">.</span><span class="n">TcPOU</span>

<span class="n">POUs</span><span class="p">:</span>
    <span class="mf">1.</span><span class="p">)</span> <span class="n">Main</span>
</pre></div>
</div>
<div class="section" id="id1">
<h2>PlcTask.TcTTO (TcPlcObject)<a class="headerlink" href="#id1" title="Permalink to this headline">Â¶</a></h2>
</div>
<div class="section" id="pous-main-tcpou-tcplcobject">
<h2>POUs/Main.TcPOU (TcPlcObject)<a class="headerlink" href="#pous-main-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="section" id="main-declaration">
<h3>Main: Declaration<a class="headerlink" href="#main-declaration" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span>PROGRAM Main
VAR
	// Simulated motor that is always allowed to move
	{attribute &#39;pytmc&#39; := &#39;pv: TST:SIM:MOT:01&#39;}
	M1: DUT_MotionStage;
	
	// Simulated motor that is never allowed to move
	{attribute &#39;pytmc&#39; := &#39;pv: TST:SIM:MOT:01&#39;}
	M2: DUT_MotionStage;
	
	fbMotion1: FB_MotionStage;
	fbMotion2: FB_MotionStage;
END_VAR
</pre></div>
</div>
</div>
<div class="section" id="main-st">
<h3>Main: ST<a class="headerlink" href="#main-st" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="n">M1</span><span class="p">.</span><span class="n">bLimitForwardEnable</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">;</span>
<span class="n">M1</span><span class="p">.</span><span class="n">bLimitBackwardEnable</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">;</span>
<span class="n">M1</span><span class="p">.</span><span class="n">bHardwareEnable</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">;</span>
<span class="n">M1</span><span class="p">.</span><span class="n">bPowerSelf</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">;</span>
<span class="n">M1</span><span class="p">.</span><span class="n">nEnableMode</span> <span class="o">:=</span> <span class="n">ENUM_StageEnableMode</span><span class="p">.</span><span class="n">STAGE_ENABLE_ALWAYS</span><span class="p">;</span>
<span class="n">fbMotion1</span><span class="p">(</span><span class="n">stMotionStage</span> <span class="o">:=</span> <span class="n">M1</span><span class="p">);</span>
<span class="n">fbMotion2</span><span class="p">(</span><span class="n">stMotionStage</span> <span class="o">:=</span> <span class="n">M2</span><span class="p">);</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="id2">
<h2>Symbols<a class="headerlink" href="#id2" title="Permalink to this headline">Â¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Constants</span><span class="o">.</span><span class="n">CompilerVersion</span> <span class="p">:</span> <span class="n">VERSION</span> <span class="p">(</span><span class="mi">4698000</span> <span class="mi">64</span><span class="p">)</span>
<span class="n">Constants</span><span class="o">.</span><span class="n">CompilerVersionNumeric</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4698144</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Constants</span><span class="o">.</span><span class="n">RuntimeVersion</span> <span class="p">:</span> <span class="n">VERSION</span> <span class="p">(</span><span class="mi">4697936</span> <span class="mi">64</span><span class="p">)</span>
<span class="n">Constants</span><span class="o">.</span><span class="n">RuntimeVersionNumeric</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4698112</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Constants</span><span class="o">.</span><span class="n">bFPUSupport</span> <span class="p">:</span> <span class="n">BOOL</span> <span class="p">(</span><span class="mi">4698096</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Constants</span><span class="o">.</span><span class="n">bLittleEndian</span> <span class="p">:</span> <span class="n">BOOL</span> <span class="p">(</span><span class="mi">4697920</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Constants</span><span class="o">.</span><span class="n">bSimulationMode</span> <span class="p">:</span> <span class="n">BOOL</span> <span class="p">(</span><span class="mi">4697928</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Constants</span><span class="o">.</span><span class="n">nPackMode</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4698080</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Constants</span><span class="o">.</span><span class="n">nRegisterSize</span> <span class="p">:</span> <span class="n">WORD</span> <span class="p">(</span><span class="mi">4698064</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_DEVICE_DATA</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097664</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_IOIMAGE_CLEARI</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097568</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_IOIMAGE_CLEARO</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097600</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_IOIMAGE_RISIZE</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097440</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_IOIMAGE_ROSIZE</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097536</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_IOIMAGE_RWIB</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097376</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_IOIMAGE_RWIOB</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097632</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_IOIMAGE_RWIX</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097408</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_IOIMAGE_RWOB</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097472</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_IOIMAGE_RWOX</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097504</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_SYMNAME</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4096960</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_SYMNOTE</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097344</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_SYMTAB</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4096928</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_SYMVAL</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4096992</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_SYM_DOWNLOAD</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097248</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_SYM_HNDBYNAME</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097024</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_SYM_INFOBYNAME</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097152</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_SYM_INFOBYNAMEEX</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097216</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_SYM_RELEASEHND</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097120</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_SYM_UPLOAD</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097280</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_SYM_UPLOADINFO</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097312</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_SYM_VALBYHND</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097088</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_SYM_VALBYNAME</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097056</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_SYM_VERSION</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097184</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIOFFS_DEVDATA_ADSSTATE</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097696</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIOFFS_DEVDATA_DEVSTATE</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097728</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSLOG_MSGTYPE_ERROR</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4098784</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSLOG_MSGTYPE_HINT</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4098720</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSLOG_MSGTYPE_LOG</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4098816</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSLOG_MSGTYPE_MSGBOX</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4098848</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSLOG_MSGTYPE_RESOURCE</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4098880</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSLOG_MSGTYPE_STRING</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4098912</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSLOG_MSGTYPE_WARN</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4098752</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSSTATE_CONFIG</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096832</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSSTATE_ERROR</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096768</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSSTATE_EXCEPTION</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096896</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSSTATE_IDLE</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096608</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSSTATE_INCOMPATIBLE</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096880</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSSTATE_INIT</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096640</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSSTATE_INVALID</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096592</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSSTATE_LOADCFG</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096720</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSSTATE_MAXSTATES</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096912</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSSTATE_POWERFAILURE</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096736</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSSTATE_POWERGOOD</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096752</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSSTATE_RECONFIG</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096848</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSSTATE_RESET</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096624</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSSTATE_RESUME</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096816</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSSTATE_RUN</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096672</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSSTATE_SAVECFG</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096704</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSSTATE_SHUTDOWN</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096784</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSSTATE_START</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096656</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSSTATE_STOP</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096688</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSSTATE_STOPPING</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096864</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSSTATE_SUSPEND</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096800</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSLOGGER_IGR_GENERAL</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4164544</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSLOGGER_IOF_MODE</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4164576</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSPORT_AMSLOGGER</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4163280</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSPORT_EVENTLOG</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096304</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSPORT_LOGGER</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096288</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSPORT_R0_CAM</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096528</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSPORT_R0_CAMTOOL</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096544</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSPORT_R0_CNC</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096416</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSPORT_R0_IO</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096336</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSPORT_R0_ISG</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096400</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSPORT_R0_LINE</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096432</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSPORT_R0_NC</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096352</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSPORT_R0_NCSAF</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096368</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSPORT_R0_NCSVB</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096384</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSPORT_R0_PLC</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096448</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSPORT_R0_PLC_RTS1</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096464</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSPORT_R0_PLC_RTS2</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096480</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSPORT_R0_PLC_RTS3</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096496</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSPORT_R0_PLC_RTS4</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096512</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSPORT_R0_RTIME</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096320</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSPORT_R3_SCOPESERVER</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096576</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSPORT_R3_SYSSERV</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096560</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">BOOTDATAFLAGS_PERSISTENT_INVALID</span> <span class="p">:</span> <span class="n">BYTE</span> <span class="p">(</span><span class="mi">4098976</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">BOOTDATAFLAGS_PERSISTENT_LOADED</span> <span class="p">:</span> <span class="n">BYTE</span> <span class="p">(</span><span class="mi">4098968</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">BOOTDATAFLAGS_RETAIN_INVALID</span> <span class="p">:</span> <span class="n">BYTE</span> <span class="p">(</span><span class="mi">4098952</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">BOOTDATAFLAGS_RETAIN_LOADED</span> <span class="p">:</span> <span class="n">BYTE</span> <span class="p">(</span><span class="mi">4098944</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">BOOTDATAFLAGS_RETAIN_REQUESTED</span> <span class="p">:</span> <span class="n">BYTE</span> <span class="p">(</span><span class="mi">4098960</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">DATE_AND_TIME_SECPERDAY</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4177536</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">DATE_AND_TIME_SECPERWEEK</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4177568</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">DBG_OUTPUT_FILE</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4183840</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">DBG_OUTPUT_LOG</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4183808</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">DBG_OUTPUT_NONE</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4183776</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">DBG_OUTPUT_VISU</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4183872</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">DEFAULT_ADS_TIMEOUT</span> <span class="p">:</span> <span class="n">TIME</span> <span class="p">(</span><span class="mi">4099712</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">DEFAULT_BACKLASHVALUE</span> <span class="p">:</span> <span class="n">LREAL</span> <span class="p">(</span><span class="mi">4313088</span> <span class="mi">64</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">DEFAULT_CSV_FIELD_DOUBLE_QUOTE</span> <span class="p">:</span> <span class="n">BYTE</span> <span class="p">(</span><span class="mi">4303568</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">DEFAULT_CSV_FIELD_SEP</span> <span class="p">:</span> <span class="n">BYTE</span> <span class="p">(</span><span class="mi">4101272</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">DEFAULT_CSV_RECORD_SEP_CR</span> <span class="p">:</span> <span class="n">BYTE</span> <span class="p">(</span><span class="mi">4303576</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">DEFAULT_CSV_RECORD_SEP_LF</span> <span class="p">:</span> <span class="n">BYTE</span> <span class="p">(</span><span class="mi">4303584</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">DEFAULT_HOME_POSITION</span> <span class="p">:</span> <span class="n">LREAL</span> <span class="p">(</span><span class="mi">4313024</span> <span class="mi">64</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">EMPTY_ARG_VALUE</span> <span class="p">:</span> <span class="n">lcls_twincat_motion</span><span class="o">.</span><span class="n">Tc2_Utilities</span><span class="o">.</span><span class="n">T_Arg</span> <span class="p">(</span><span class="mi">4165184</span> <span class="mi">128</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">EMPTY_GUID_REGSTRING</span> <span class="p">:</span> <span class="n">STRING</span><span class="p">(</span><span class="mi">38</span><span class="p">)</span> <span class="p">(</span><span class="mi">4305736</span> <span class="mi">312</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">EMPTY_GUID_STRING</span> <span class="p">:</span> <span class="n">STRING</span><span class="p">(</span><span class="mi">36</span><span class="p">)</span> <span class="p">(</span><span class="mi">4305440</span> <span class="mi">296</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">EMPTY_GUID_STRUCT</span> <span class="p">:</span> <span class="n">GUID</span> <span class="p">(</span><span class="mi">4305312</span> <span class="mi">128</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">EMPTY_ROUTE_ENTRY</span> <span class="p">:</span> <span class="n">lcls_twincat_motion</span><span class="o">.</span><span class="n">Tc2_Utilities</span><span class="o">.</span><span class="n">ST_AmsRouteEntry</span> <span class="p">(</span><span class="mi">4163296</span> <span class="mi">1184</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FLOATREC_EXP_IS_INF</span> <span class="p">:</span> <span class="n">INT</span> <span class="p">(</span><span class="mi">4164640</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FLOATREC_EXP_IS_NAN</span> <span class="p">:</span> <span class="n">INT</span> <span class="p">(</span><span class="mi">4164624</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FLOATREC_MAX_DIGITS</span> <span class="p">:</span> <span class="n">INT</span> <span class="p">(</span><span class="mi">4164656</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FLOATREC_MAX_PRECISION</span> <span class="p">:</span> <span class="n">INT</span> <span class="p">(</span><span class="mi">4164672</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FLOATREC_MIN_PRECISION</span> <span class="p">:</span> <span class="n">INT</span> <span class="p">(</span><span class="mi">4164688</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FMTERR_ARGTYPEINVALID</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4164992</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FMTERR_ASTERISKPOSITION</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4164768</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FMTERR_DESTBUFFOVERFLOW</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4165088</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FMTERR_FLAGPOSITION</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4164864</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FMTERR_INSUFFICIENTARGS</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4165056</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FMTERR_INVALIDPOINTERINPUT</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4165120</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FMTERR_NOERROR</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4164704</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FMTERR_PERCENTSIGNPOSITION</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4164736</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FMTERR_PRECISIONDOTPOSITION</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4164928</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FMTERR_PRECISIONVALUE</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4164832</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FMTERR_TYPEFIELDVALUE</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4164960</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FMTERR_UNACCEPTEDPARAMETER</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4165024</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FMTERR_WIDTHPRECISIONVALPOS</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4164896</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FMTERR_WIDTHVALUE</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4164800</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FOPEN_MODEAPPEND</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4099072</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FOPEN_MODEBINARY</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4099136</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FOPEN_MODEPLUS</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4099104</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FOPEN_MODEREAD</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4099008</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FOPEN_MODETEXT</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4099168</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FOPEN_MODEWRITE</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4099040</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FORMAT_DECASC_CODES</span> <span class="p">:</span> <span class="n">BYTE</span> <span class="p">(</span><span class="mi">4165568</span> <span class="mi">80</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FORMAT_HEXASC_CODES</span> <span class="p">:</span> <span class="n">BYTE</span> <span class="p">(</span><span class="mi">4165312</span> <span class="mi">256</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FORMAT_MAX_ARGS</span> <span class="p">:</span> <span class="n">INT</span> <span class="p">(</span><span class="mi">4164608</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">GLOBAL_DCF77_PULSE_SPLIT</span> <span class="p">:</span> <span class="n">TIME</span> <span class="p">(</span><span class="mi">4101280</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">GLOBAL_DCF77_SEQUENCE_CHECK</span> <span class="p">:</span> <span class="n">BOOL</span> <span class="p">(</span><span class="mi">4101264</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">GLOBAL_FORMAT_HASH_PREFIX_TYPE</span> <span class="p">:</span> <span class="n">lcls_twincat_motion</span><span class="o">.</span><span class="n">Tc2_Utilities</span><span class="o">.</span><span class="n">E_HashPrefixTypes</span> <span class="p">(</span><span class="mi">4101232</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">GLOBAL_SBCS_TABLE</span> <span class="p">:</span> <span class="n">lcls_twincat_motion</span><span class="o">.</span><span class="n">Tc2_Utilities</span><span class="o">.</span><span class="n">E_SBCSType</span> <span class="p">(</span><span class="mi">4101248</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">HKEY_MAX_BINARY_DATA_SIZE</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4164512</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">IPHELPERAPI_ADAPTERSINFO</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4162944</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">IPHELPERAPI_IPADDRBYHOSTNAME</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4162976</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">MAX_ADAPTER_ADDRESS_LENGTH</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4162848</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">MAX_ADAPTER_DESCRIPTION_LENGTH</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4162816</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">MAX_ADAPTER_NAME_LENGTH</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4162784</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">MAX_AVERAGE_MEASURES</span> <span class="p">:</span> <span class="n">INT</span> <span class="p">(</span><span class="mi">4101216</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">MAX_LOCAL_ADAPTERS</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4163008</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">MAX_REMOTE_PCS</span> <span class="p">:</span> <span class="n">INT</span> <span class="p">(</span><span class="mi">4163136</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">MAX_ROUTE_ADDR_LEN</span> <span class="p">:</span> <span class="n">BYTE</span> <span class="p">(</span><span class="mi">4163160</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">MAX_ROUTE_NAME_LEN</span> <span class="p">:</span> <span class="n">BYTE</span> <span class="p">(</span><span class="mi">4163152</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">MAX_ROUTE_TRANSPORT</span> <span class="p">:</span> <span class="n">BYTE</span> <span class="p">(</span><span class="mi">4163272</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">MAX_STRING_LENGTH</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4099744</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">MIN_ROUTE_TRANSPORT</span> <span class="p">:</span> <span class="n">BYTE</span> <span class="p">(</span><span class="mi">4163264</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">PI</span> <span class="p">:</span> <span class="n">LREAL</span> <span class="p">(</span><span class="mi">4099648</span> <span class="mi">64</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ROUTE_FLAG_DYNAMIC</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4163200</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ROUTE_FLAG_NOOVERRIDE</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4163232</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ROUTE_FLAG_TEMPORARY</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4163168</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_ADDREMOTE</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4163040</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_CHANGENETID</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098528</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_CLOSEHANDLE</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097888</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_CREATEFILE</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097856</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_DELREMOTE</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4163072</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_ENUMREMOTE</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4163104</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_FCLOSE</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097952</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_FDELETE</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098272</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_FEOF</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098240</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_FFILEFIND</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4164480</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_FGETS</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098112</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_FOPEN</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097920</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_FPRINTF</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098208</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_FPUTS</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098144</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_FREAD</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097984</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_FRENAME</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098304</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_FSCANF</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098176</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_FSEEK</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098048</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_FTELL</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098080</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_FWRITE</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098016</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_IPHELPERAPI</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4162880</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_IPHOSTNAME</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4162912</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_MKDIR</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098336</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_OPENCREATE</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097760</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_OPENREAD</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097792</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_OPENWRITE</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097824</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_REG_HKEYLOCALMACHINE</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098400</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_RMDIR</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098368</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_SENDEMAIL</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098432</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_STARTPROCESS</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098496</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_TIMESERVICES</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098464</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSTATEFLAGS_BSOD</span> <span class="p">:</span> <span class="n">BYTE</span> <span class="p">(</span><span class="mi">4098984</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSTATEFLAGS_RTVIOLATION</span> <span class="p">:</span> <span class="n">BYTE</span> <span class="p">(</span><span class="mi">4098992</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMTIME_DATEDELTA_OFFSET</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4165152</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMTIME_DATE_AND_TIME_MAX</span> <span class="p">:</span> <span class="n">lcls_twincat_motion</span><span class="o">.</span><span class="n">Tc2_Utilities</span><span class="o">.</span><span class="n">T_ULARGE_INTEGER</span> <span class="p">(</span><span class="mi">4172160</span> <span class="mi">64</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMTIME_DATE_AND_TIME_MAX64</span> <span class="p">:</span> <span class="n">ULINT</span> <span class="p">(</span><span class="mi">4172480</span> <span class="mi">64</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMTIME_DATE_AND_TIME_MIN</span> <span class="p">:</span> <span class="n">lcls_twincat_motion</span><span class="o">.</span><span class="n">Tc2_Utilities</span><span class="o">.</span><span class="n">T_ULARGE_INTEGER</span> <span class="p">(</span><span class="mi">4172096</span> <span class="mi">64</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMTIME_DATE_AND_TIME_MIN64</span> <span class="p">:</span> <span class="n">ULINT</span> <span class="p">(</span><span class="mi">4172416</span> <span class="mi">64</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMTIME_MAX_MONTHDAYS</span> <span class="p">:</span> <span class="n">WORD</span> <span class="p">(</span><span class="mi">4171056</span> <span class="mi">384</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMTIME_MAX_YEARSDAY</span> <span class="p">:</span> <span class="n">WORD</span> <span class="p">(</span><span class="mi">4171440</span> <span class="mi">448</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMTIME_TICKSPERDAY</span> <span class="p">:</span> <span class="n">lcls_twincat_motion</span><span class="o">.</span><span class="n">Tc2_Utilities</span><span class="o">.</span><span class="n">T_ULARGE_INTEGER</span> <span class="p">(</span><span class="mi">4172032</span> <span class="mi">64</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMTIME_TICKSPERDAY64</span> <span class="p">:</span> <span class="n">ULINT</span> <span class="p">(</span><span class="mi">4172352</span> <span class="mi">64</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMTIME_TICKSPERMSEC</span> <span class="p">:</span> <span class="n">lcls_twincat_motion</span><span class="o">.</span><span class="n">Tc2_Utilities</span><span class="o">.</span><span class="n">T_ULARGE_INTEGER</span> <span class="p">(</span><span class="mi">4171904</span> <span class="mi">64</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMTIME_TICKSPERMSEC64</span> <span class="p">:</span> <span class="n">ULINT</span> <span class="p">(</span><span class="mi">4172224</span> <span class="mi">64</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMTIME_TICKSPERSEC</span> <span class="p">:</span> <span class="n">lcls_twincat_motion</span><span class="o">.</span><span class="n">Tc2_Utilities</span><span class="o">.</span><span class="n">T_ULARGE_INTEGER</span> <span class="p">(</span><span class="mi">4171968</span> <span class="mi">64</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMTIME_TICKSPERSEC64</span> <span class="p">:</span> <span class="n">ULINT</span> <span class="p">(</span><span class="mi">4172288</span> <span class="mi">64</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">TCEVENTFLAG_AUTOFMTALL</span> <span class="p">:</span> <span class="n">WORD</span> <span class="p">(</span><span class="mi">4099504</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">TCEVENTFLAG_FMTSELF</span> <span class="p">:</span> <span class="n">WORD</span> <span class="p">(</span><span class="mi">4099440</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">TCEVENTFLAG_LOG</span> <span class="p">:</span> <span class="n">WORD</span> <span class="p">(</span><span class="mi">4099456</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">TCEVENTFLAG_MSGBOX</span> <span class="p">:</span> <span class="n">WORD</span> <span class="p">(</span><span class="mi">4099472</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">TCEVENTFLAG_PRIOCLASS</span> <span class="p">:</span> <span class="n">WORD</span> <span class="p">(</span><span class="mi">4099424</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">TCEVENTFLAG_SRCID</span> <span class="p">:</span> <span class="n">WORD</span> <span class="p">(</span><span class="mi">4099488</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">TCEVENTSTATE_CONFIRMED</span> <span class="p">:</span> <span class="n">WORD</span> <span class="p">(</span><span class="mi">4099568</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">TCEVENTSTATE_INVALID</span> <span class="p">:</span> <span class="n">WORD</span> <span class="p">(</span><span class="mi">4099520</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">TCEVENTSTATE_RESET</span> <span class="p">:</span> <span class="n">WORD</span> <span class="p">(</span><span class="mi">4099552</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">TCEVENTSTATE_RESETCON</span> <span class="p">:</span> <span class="n">WORD</span> <span class="p">(</span><span class="mi">4099584</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">TCEVENTSTATE_SIGNALED</span> <span class="p">:</span> <span class="n">WORD</span> <span class="p">(</span><span class="mi">4099536</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">TCEVENT_FMTPRGSIZE</span> <span class="p">:</span> <span class="n">INT</span> <span class="p">(</span><span class="mi">4099616</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">TCEVENT_SRCNAMESIZE</span> <span class="p">:</span> <span class="n">INT</span> <span class="p">(</span><span class="mi">4099600</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">TIMESERVICE_ADJUSTTIMETORTC</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098656</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">TIMESERVICE_DATEANDTIME</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098560</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">TIMESERVICE_RTCTIMEDIFF</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098624</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">TIMESERVICE_SYSTEMTIMES</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098592</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">TIMESERVICE_TIMEZONINFORMATION</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098688</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">TcMcGlobal</span> <span class="p">:</span> <span class="n">lcls_twincat_motion</span><span class="o">.</span><span class="n">Tc2_MC2</span><span class="o">.</span><span class="n">_TCMCGLOBAL</span> <span class="p">(</span><span class="mi">4306048</span> <span class="mi">6976</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">WEST_EUROPE_TZI</span> <span class="p">:</span> <span class="n">lcls_twincat_motion</span><span class="o">.</span><span class="n">Tc2_Utilities</span><span class="o">.</span><span class="n">ST_TimeZoneInformation</span> <span class="p">(</span><span class="mi">4172544</span> <span class="mi">864</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">eWatchdogConfig</span> <span class="p">:</span> <span class="n">Tc2_System</span><span class="o">.</span><span class="n">E_WATCHDOG_TIME_CONFIG</span> <span class="p">(</span><span class="mi">4099632</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">nWatchdogTime</span> <span class="p">:</span> <span class="n">BYTE</span> <span class="p">(</span><span class="mi">4099000</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Global_Version</span><span class="o">.</span><span class="n">stLibVersion_Tc2_System</span> <span class="p">:</span> <span class="n">ST_LibVersion</span> <span class="p">(</span><span class="mi">4096000</span> <span class="mi">288</span><span class="p">)</span>
<span class="n">Global_Version</span><span class="o">.</span><span class="n">stLibVersion_Tc2_Utilities</span> <span class="p">:</span> <span class="n">ST_LibVersion</span> <span class="p">(</span><span class="mi">4100928</span> <span class="mi">288</span><span class="p">)</span>
<span class="n">Global_Version</span><span class="o">.</span><span class="n">stLibVersion_Tc3_Module</span> <span class="p">:</span> <span class="n">ST_LibVersion</span> <span class="p">(</span><span class="mi">4100288</span> <span class="mi">288</span><span class="p">)</span>
<span class="n">Main</span><span class="o">.</span><span class="n">M1</span> <span class="p">:</span> <span class="n">lcls_twincat_motion</span><span class="o">.</span><span class="n">DUT_MotionStage</span> <span class="p">(</span><span class="mi">4334592</span> <span class="mi">11264</span><span class="p">)</span>
<span class="n">Main</span><span class="o">.</span><span class="n">M1</span><span class="o">.</span><span class="n">Axis</span><span class="o">.</span><span class="n">NcToPlc</span> <span class="p">:</span> <span class="n">NCTOPLC_AXIS_REF</span> <span class="p">(</span><span class="mi">4335680</span> <span class="mi">2048</span><span class="p">)</span>
<span class="n">Main</span><span class="o">.</span><span class="n">M1</span><span class="o">.</span><span class="n">Axis</span><span class="o">.</span><span class="n">PlcToNc</span> <span class="p">:</span> <span class="n">PLCTONC_AXIS_REF</span> <span class="p">(</span><span class="mi">4334656</span> <span class="mi">1024</span><span class="p">)</span>
<span class="n">Main</span><span class="o">.</span><span class="n">M1</span><span class="o">.</span><span class="n">bBrakeRelease</span> <span class="p">:</span> <span class="n">BOOL</span> <span class="p">(</span><span class="mi">4343640</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Main</span><span class="o">.</span><span class="n">M1</span><span class="o">.</span><span class="n">bHardwareEnable</span> <span class="p">:</span> <span class="n">BOOL</span> <span class="p">(</span><span class="mi">4343648</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Main</span><span class="o">.</span><span class="n">M1</span><span class="o">.</span><span class="n">bHome</span> <span class="p">:</span> <span class="n">BOOL</span> <span class="p">(</span><span class="mi">4343632</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Main</span><span class="o">.</span><span class="n">M1</span><span class="o">.</span><span class="n">bLimitBackwardEnable</span> <span class="p">:</span> <span class="n">BOOL</span> <span class="p">(</span><span class="mi">4343624</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Main</span><span class="o">.</span><span class="n">M1</span><span class="o">.</span><span class="n">bLimitForwardEnable</span> <span class="p">:</span> <span class="n">BOOL</span> <span class="p">(</span><span class="mi">4343616</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Main</span><span class="o">.</span><span class="n">M2</span> <span class="p">:</span> <span class="n">lcls_twincat_motion</span><span class="o">.</span><span class="n">DUT_MotionStage</span> <span class="p">(</span><span class="mi">4345856</span> <span class="mi">11264</span><span class="p">)</span>
<span class="n">Main</span><span class="o">.</span><span class="n">M2</span><span class="o">.</span><span class="n">Axis</span><span class="o">.</span><span class="n">NcToPlc</span> <span class="p">:</span> <span class="n">NCTOPLC_AXIS_REF</span> <span class="p">(</span><span class="mi">4346944</span> <span class="mi">2048</span><span class="p">)</span>
<span class="n">Main</span><span class="o">.</span><span class="n">M2</span><span class="o">.</span><span class="n">Axis</span><span class="o">.</span><span class="n">PlcToNc</span> <span class="p">:</span> <span class="n">PLCTONC_AXIS_REF</span> <span class="p">(</span><span class="mi">4345920</span> <span class="mi">1024</span><span class="p">)</span>
<span class="n">Main</span><span class="o">.</span><span class="n">M2</span><span class="o">.</span><span class="n">bBrakeRelease</span> <span class="p">:</span> <span class="n">BOOL</span> <span class="p">(</span><span class="mi">4354904</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Main</span><span class="o">.</span><span class="n">M2</span><span class="o">.</span><span class="n">bHardwareEnable</span> <span class="p">:</span> <span class="n">BOOL</span> <span class="p">(</span><span class="mi">4354912</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Main</span><span class="o">.</span><span class="n">M2</span><span class="o">.</span><span class="n">bHome</span> <span class="p">:</span> <span class="n">BOOL</span> <span class="p">(</span><span class="mi">4354896</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Main</span><span class="o">.</span><span class="n">M2</span><span class="o">.</span><span class="n">bLimitBackwardEnable</span> <span class="p">:</span> <span class="n">BOOL</span> <span class="p">(</span><span class="mi">4354888</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Main</span><span class="o">.</span><span class="n">M2</span><span class="o">.</span><span class="n">bLimitForwardEnable</span> <span class="p">:</span> <span class="n">BOOL</span> <span class="p">(</span><span class="mi">4354880</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Main</span><span class="o">.</span><span class="n">fbMotion1</span> <span class="p">:</span> <span class="n">lcls_twincat_motion</span><span class="o">.</span><span class="n">FB_MotionStage</span> <span class="p">(</span><span class="mi">4357120</span> <span class="mi">167936</span><span class="p">)</span>
<span class="n">Main</span><span class="o">.</span><span class="n">fbMotion1</span><span class="o">.</span><span class="n">fbDriveVirtual</span><span class="o">.</span><span class="n">MasterAxis</span><span class="o">.</span><span class="n">NcToPlc</span> <span class="p">:</span> <span class="n">NCTOPLC_AXIS_REF</span> <span class="p">(</span><span class="mi">4359744</span> <span class="mi">2048</span><span class="p">)</span>
<span class="n">Main</span><span class="o">.</span><span class="n">fbMotion1</span><span class="o">.</span><span class="n">fbDriveVirtual</span><span class="o">.</span><span class="n">MasterAxis</span><span class="o">.</span><span class="n">PlcToNc</span> <span class="p">:</span> <span class="n">PLCTONC_AXIS_REF</span> <span class="p">(</span><span class="mi">4358720</span> <span class="mi">1024</span><span class="p">)</span>
<span class="n">Main</span><span class="o">.</span><span class="n">fbMotion2</span> <span class="p">:</span> <span class="n">lcls_twincat_motion</span><span class="o">.</span><span class="n">FB_MotionStage</span> <span class="p">(</span><span class="mi">4525056</span> <span class="mi">167936</span><span class="p">)</span>
<span class="n">Main</span><span class="o">.</span><span class="n">fbMotion2</span><span class="o">.</span><span class="n">fbDriveVirtual</span><span class="o">.</span><span class="n">MasterAxis</span><span class="o">.</span><span class="n">NcToPlc</span> <span class="p">:</span> <span class="n">NCTOPLC_AXIS_REF</span> <span class="p">(</span><span class="mi">4527680</span> <span class="mi">2048</span><span class="p">)</span>
<span class="n">Main</span><span class="o">.</span><span class="n">fbMotion2</span><span class="o">.</span><span class="n">fbDriveVirtual</span><span class="o">.</span><span class="n">MasterAxis</span><span class="o">.</span><span class="n">PlcToNc</span> <span class="p">:</span> <span class="n">PLCTONC_AXIS_REF</span> <span class="p">(</span><span class="mi">4526656</span> <span class="mi">1024</span><span class="p">)</span>
<span class="n">TwinCAT_SystemInfoVarList</span><span class="o">.</span><span class="n">_AppInfo</span> <span class="p">:</span> <span class="n">PlcAppSystemInfo</span> <span class="p">(</span><span class="mi">4698176</span> <span class="mi">2048</span><span class="p">)</span>
<span class="n">TwinCAT_SystemInfoVarList</span><span class="o">.</span><span class="n">_TaskInfo</span> <span class="p">:</span> <span class="n">PlcTaskSystemInfo</span> <span class="p">(</span><span class="mi">4700224</span> <span class="mi">1024</span><span class="p">)</span>
<span class="n">TwinCAT_SystemInfoVarList</span><span class="o">.</span><span class="n">_TaskOid_PlcTask</span> <span class="p">:</span> <span class="n">OTCID</span> <span class="p">(</span><span class="mi">4701280</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">TwinCAT_SystemInfoVarList</span><span class="o">.</span><span class="n">_TaskPouOid_PlcTask</span> <span class="p">:</span> <span class="n">OTCID</span> <span class="p">(</span><span class="mi">4701248</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">TwinCAT_SystemInfoVarList</span><span class="o">.</span><span class="n">__PlcTask</span> <span class="p">:</span> <span class="n">_Implicit_Task_Info</span> <span class="p">(</span><span class="mi">4701312</span> <span class="mi">896</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="boxes">
<h2>Boxes<a class="headerlink" href="#boxes" title="Permalink to this headline">Â¶</a></h2>
</div>
<div class="section" id="nc-axes">
<h2>NC axes<a class="headerlink" href="#nc-axes" title="Permalink to this headline">Â¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">1.</span><span class="p">)</span> <span class="s1">&#39;Test 1&#39;</span><span class="p">:</span>
    <span class="n">Id</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">CreateSymbols</span> <span class="o">=</span> <span class="s1">&#39;true&#39;</span>
    <span class="n">AxisType</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">OtherSettings</span><span class="p">:</span><span class="n">AllowMotionCmdToSlave</span> <span class="o">=</span> <span class="s1">&#39;true&#39;</span>
    <span class="n">Enc</span><span class="p">:</span><span class="n">EncType</span> <span class="o">=</span> <span class="mi">1</span>

<span class="mf">2.</span><span class="p">)</span> <span class="s1">&#39;Test 2&#39;</span><span class="p">:</span>
    <span class="n">Id</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="n">CreateSymbols</span> <span class="o">=</span> <span class="s1">&#39;true&#39;</span>
    <span class="n">AxisType</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">OtherSettings</span><span class="p">:</span><span class="n">AllowMotionCmdToSlave</span> <span class="o">=</span> <span class="s1">&#39;true&#39;</span>
    <span class="n">Enc</span><span class="p">:</span><span class="n">EncType</span> <span class="o">=</span> <span class="mi">1</span>

<span class="mf">3.</span><span class="p">)</span> <span class="s1">&#39;Example 1&#39;</span><span class="p">:</span>
    <span class="n">Id</span> <span class="o">=</span> <span class="mi">3</span>
    <span class="n">CreateSymbols</span> <span class="o">=</span> <span class="s1">&#39;true&#39;</span>
    <span class="n">AxisType</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">OtherSettings</span><span class="p">:</span><span class="n">AllowMotionCmdToSlave</span> <span class="o">=</span> <span class="s1">&#39;true&#39;</span>
    <span class="n">Enc</span><span class="p">:</span><span class="n">EncType</span> <span class="o">=</span> <span class="mi">1</span>

<span class="mf">4.</span><span class="p">)</span> <span class="s1">&#39;Example 2&#39;</span><span class="p">:</span>
    <span class="n">Id</span> <span class="o">=</span> <span class="mi">4</span>
    <span class="n">CreateSymbols</span> <span class="o">=</span> <span class="s1">&#39;true&#39;</span>
    <span class="n">AxisType</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">OtherSettings</span><span class="p">:</span><span class="n">AllowMotionCmdToSlave</span> <span class="o">=</span> <span class="s1">&#39;true&#39;</span>
    <span class="n">Enc</span><span class="p">:</span><span class="n">EncType</span> <span class="o">=</span> <span class="mi">1</span>
</pre></div>
</div>
</div>
<div class="section" id="links">
<h2>Links<a class="headerlink" href="#links" title="Permalink to this headline">Â¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">1.</span><span class="p">)</span> <span class="n">A</span> <span class="p">(</span><span class="s1">&#39;Library Instance&#39;</span><span class="p">,</span> <span class="s1">&#39;PlcTask Inputs^Interactive.M1.Axis.NcToPlc&#39;</span><span class="p">)</span>
      <span class="n">B</span> <span class="p">(</span><span class="s1">&#39;TINC^NC-Task 1 SAF^Axes^Test 1&#39;</span><span class="p">,</span> <span class="s1">&#39;Outputs^ToPlc&#39;</span><span class="p">)</span>
<span class="mf">2.</span><span class="p">)</span> <span class="n">A</span> <span class="p">(</span><span class="s1">&#39;Library Instance&#39;</span><span class="p">,</span> <span class="s1">&#39;PlcTask Outputs^Interactive.M1.Axis.PlcToNc&#39;</span><span class="p">)</span>
      <span class="n">B</span> <span class="p">(</span><span class="s1">&#39;TINC^NC-Task 1 SAF^Axes^Test 1&#39;</span><span class="p">,</span> <span class="s1">&#39;Inputs^FromPlc&#39;</span><span class="p">)</span>
<span class="mf">3.</span><span class="p">)</span> <span class="n">A</span> <span class="p">(</span><span class="s1">&#39;Example Instance&#39;</span><span class="p">,</span> <span class="s1">&#39;PlcTask Inputs^Main.M1.Axis.NcToPlc&#39;</span><span class="p">)</span>
      <span class="n">B</span> <span class="p">(</span><span class="s1">&#39;TINC^NC-Task 1 SAF^Axes^Example 1&#39;</span><span class="p">,</span> <span class="s1">&#39;Outputs^ToPlc&#39;</span><span class="p">)</span>
<span class="mf">4.</span><span class="p">)</span> <span class="n">A</span> <span class="p">(</span><span class="s1">&#39;Example Instance&#39;</span><span class="p">,</span> <span class="s1">&#39;PlcTask Outputs^Main.M1.Axis.PlcToNc&#39;</span><span class="p">)</span>
      <span class="n">B</span> <span class="p">(</span><span class="s1">&#39;TINC^NC-Task 1 SAF^Axes^Example 1&#39;</span><span class="p">,</span> <span class="s1">&#39;Inputs^FromPlc&#39;</span><span class="p">)</span>
<span class="mf">5.</span><span class="p">)</span> <span class="n">A</span> <span class="p">(</span><span class="s1">&#39;Example Instance&#39;</span><span class="p">,</span> <span class="s1">&#39;PlcTask Inputs^Main.M2.Axis.NcToPlc&#39;</span><span class="p">)</span>
      <span class="n">B</span> <span class="p">(</span><span class="s1">&#39;TINC^NC-Task 1 SAF^Axes^Example 2&#39;</span><span class="p">,</span> <span class="s1">&#39;Outputs^ToPlc&#39;</span><span class="p">)</span>
<span class="mf">6.</span><span class="p">)</span> <span class="n">A</span> <span class="p">(</span><span class="s1">&#39;Example Instance&#39;</span><span class="p">,</span> <span class="s1">&#39;PlcTask Outputs^Main.M2.Axis.PlcToNc&#39;</span><span class="p">)</span>
      <span class="n">B</span> <span class="p">(</span><span class="s1">&#39;TINC^NC-Task 1 SAF^Axes^Example 2&#39;</span><span class="p">,</span> <span class="s1">&#39;Inputs^FromPlc&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="pragma-lint-results">
<h2>Pragma lint results<a class="headerlink" href="#pragma-lint-results" title="Permalink to this headline">Â¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">INFO</span><span class="p">:</span><span class="n">pytmc</span><span class="o">.</span><span class="n">bin</span><span class="o">.</span><span class="n">pragmalint</span><span class="p">:</span><span class="n">Total</span> <span class="n">pragmas</span> <span class="n">found</span><span class="p">:</span> <span class="mi">61</span> <span class="n">Total</span> <span class="n">linter</span> <span class="n">errors</span><span class="p">:</span> <span class="mi">0</span>
<span class="n">PLC</span> <span class="n">Project</span> <span class="p">(</span><span class="mi">1</span><span class="p">):</span> <span class="n">Library</span>
<span class="o">========================</span>


<span class="n">DUTs</span><span class="o">/</span><span class="n">DUT_MotionStage</span><span class="o">.</span><span class="n">TcDUT</span> <span class="p">(</span><span class="n">TcPlcObject</span><span class="p">)</span>
<span class="o">----------------------------------------</span>

    <span class="o">-</span> <span class="n">DUT_MotionStage</span><span class="p">:</span> <span class="n">Declaration</span> <span class="o">-</span> <span class="mi">31</span> <span class="n">pragmas</span>


<span class="n">DUTs</span><span class="o">/</span><span class="n">DUT_PositionState</span><span class="o">.</span><span class="n">TcDUT</span> <span class="p">(</span><span class="n">TcPlcObject</span><span class="p">)</span>
<span class="o">------------------------------------------</span>

    <span class="o">-</span> <span class="n">DUT_PositionState</span><span class="p">:</span> <span class="n">Declaration</span> <span class="o">-</span> <span class="mi">6</span> <span class="n">pragmas</span>


<span class="n">DUTs</span><span class="o">/</span><span class="n">ENUM_EpicsHomeCmd</span><span class="o">.</span><span class="n">TcDUT</span> <span class="p">(</span><span class="n">TcPlcObject</span><span class="p">)</span>
<span class="o">------------------------------------------</span>

    <span class="o">-</span> <span class="n">ENUM_EpicsHomeCmd</span><span class="p">:</span> <span class="n">Declaration</span> <span class="o">-</span> <span class="mi">2</span> <span class="n">pragmas</span>


<span class="n">DUTs</span><span class="o">/</span><span class="n">ENUM_EpicsMotorCmd</span><span class="o">.</span><span class="n">TcDUT</span> <span class="p">(</span><span class="n">TcPlcObject</span><span class="p">)</span>
<span class="o">-------------------------------------------</span>

    <span class="o">-</span> <span class="n">ENUM_EpicsMotorCmd</span><span class="p">:</span> <span class="n">Declaration</span> <span class="o">-</span> <span class="mi">2</span> <span class="n">pragmas</span>


<span class="n">DUTs</span><span class="o">/</span><span class="n">ENUM_StageBrakeMode</span><span class="o">.</span><span class="n">TcDUT</span> <span class="p">(</span><span class="n">TcPlcObject</span><span class="p">)</span>
<span class="o">--------------------------------------------</span>

    <span class="o">-</span> <span class="n">ENUM_StageBrakeMode</span><span class="p">:</span> <span class="n">Declaration</span> <span class="o">-</span> <span class="mi">2</span> <span class="n">pragmas</span>


<span class="n">DUTs</span><span class="o">/</span><span class="n">ENUM_StageEnableMode</span><span class="o">.</span><span class="n">TcDUT</span> <span class="p">(</span><span class="n">TcPlcObject</span><span class="p">)</span>
<span class="o">---------------------------------------------</span>

    <span class="o">-</span> <span class="n">ENUM_StageEnableMode</span><span class="p">:</span> <span class="n">Declaration</span> <span class="o">-</span> <span class="mi">2</span> <span class="n">pragmas</span>


<span class="n">POUs</span><span class="o">/</span><span class="n">Motion</span><span class="o">/</span><span class="n">FB_StatePTPMove</span><span class="o">.</span><span class="n">TcPOU</span> <span class="p">(</span><span class="n">TcPlcObject</span><span class="p">)</span>
<span class="o">-----------------------------------------------</span>

    <span class="o">-</span> <span class="n">FB_StatePTPMove</span><span class="p">:</span> <span class="n">Declaration</span> <span class="o">-</span> <span class="mi">8</span> <span class="n">pragmas</span>


<span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">ErrorHandling</span><span class="o">/</span><span class="n">DUT_ErrorState</span><span class="o">.</span><span class="n">TcDUT</span> <span class="p">(</span><span class="n">TcPlcObject</span><span class="p">)</span>
<span class="o">--------------------------------------------------------------------</span>

    <span class="o">-</span> <span class="n">DUT_ErrorState</span><span class="p">:</span> <span class="n">Declaration</span> <span class="o">-</span> <span class="mi">2</span> <span class="n">pragmas</span>


<span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">ErrorHandling</span><span class="o">/</span><span class="n">GVL_ErrorSystem</span><span class="o">.</span><span class="n">TcGVL</span> <span class="p">(</span><span class="n">TcPlcObject</span><span class="p">)</span>
<span class="o">---------------------------------------------------------------------</span>

    <span class="o">-</span> <span class="n">GVL_ErrorSystem</span><span class="p">:</span> <span class="n">Declaration</span> <span class="o">-</span> <span class="mi">1</span> <span class="n">pragmas</span>


<span class="n">Version</span><span class="o">/</span><span class="n">Global_Version</span><span class="o">.</span><span class="n">TcGVL</span> <span class="p">(</span><span class="n">TcPlcObject</span><span class="p">)</span>
<span class="o">------------------------------------------</span>

    <span class="o">-</span> <span class="n">Global_Version</span><span class="p">:</span> <span class="n">Declaration</span> <span class="o">-</span> <span class="mi">3</span> <span class="n">pragmas</span>

<span class="n">PLC</span> <span class="n">Project</span> <span class="p">(</span><span class="mi">2</span><span class="p">):</span> <span class="n">Example</span>
<span class="o">========================</span>


<span class="n">POUs</span><span class="o">/</span><span class="n">Main</span><span class="o">.</span><span class="n">TcPOU</span> <span class="p">(</span><span class="n">TcPlcObject</span><span class="p">)</span>
<span class="o">-----------------------------</span>

    <span class="o">-</span> <span class="n">Main</span><span class="p">:</span> <span class="n">Declaration</span> <span class="o">-</span> <span class="mi">2</span> <span class="n">pragmas</span>
</pre></div>
</div>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">pcdshub/lcls-twincat-motion</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Example.tmc.html">Example.tmc</a></li>
<li class="toctree-l1"><a class="reference internal" href="Library.tmc.html">Library.tmc</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">PLC Project (1): Library</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#duts-dut-motionstage-tcdut-tcplcobject">DUTs/DUT_MotionStage.TcDUT (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#duts-dut-positionstate-tcdut-tcplcobject">DUTs/DUT_PositionState.TcDUT (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#duts-el5042-status-tcdut-tcplcobject">DUTs/EL5042_Status.TcDUT (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#duts-enum-epicshomecmd-tcdut-tcplcobject">DUTs/ENUM_EpicsHomeCmd.TcDUT (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#duts-enum-epicsmotorcmd-tcdut-tcplcobject">DUTs/ENUM_EpicsMotorCmd.TcDUT (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#duts-enum-stagebrakemode-tcdut-tcplcobject">DUTs/ENUM_StageBrakeMode.TcDUT (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#duts-enum-stageenablemode-tcdut-tcplcobject">DUTs/ENUM_StageEnableMode.TcDUT (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#duts-st-renishawabsenc-tcdut-tcplcobject">DUTs/ST_RenishawAbsEnc.TcDUT (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#plctask-tctto-tcplcobject">PlcTask.TcTTO (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#pous-motion-fb-motionstage-tcpou-tcplcobject">POUs/Motion/FB_MotionStage.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#pous-motion-fb-motionstagesim-tcpou-tcplcobject">POUs/Motion/FB_MotionStageSim.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#pous-motion-fb-setenables-tcpou-tcplcobject">POUs/Motion/FB_SetEnables.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#pous-motion-fb-stateptpmove-tcpou-tcplcobject">POUs/Motion/FB_StatePTPMove.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#pous-motion-gantry-fb-gantryautocoupling-tcpou-tcplcobject">POUs/Motion/Gantry/FB_GantryAutoCoupling.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#pous-motion-gantry-fb-gantrydiffvirtuallimitswitch-tcpou-tcplcobject">POUs/Motion/Gantry/FB_GantryDiffVirtualLimitSwitch.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#pous-motortesting-fb-microstepcounttest-tcpou-tcplcobject">POUs/MotorTesting/FB_MicroStepCountTest.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-duts-dut-axisstatus-v0-01-tcdut-tcplcobject">tc_mca_std_lib/DUTs/DUT_AxisStatus_v0_01.TcDUT (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-gvls-gvl-tcgvl-tcplcobject">tc_mca_std_lib/GVLs/GVL.TcGVL (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-changeconfig-fb-readfloatparameter-tcpou-tcplcobject">tc_mca_std_lib/POUs/ChangeConfig/FB_ReadFloatParameter.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-changeconfig-fb-readparameterinnc-v1-00-tcpou-tcplcobject">tc_mca_std_lib/POUs/ChangeConfig/FB_ReadParameterInNc_v1_00.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-changeconfig-fb-writefloatparameter-tcpou-tcplcobject">tc_mca_std_lib/POUs/ChangeConfig/FB_WriteFloatParameter.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-changeconfig-fb-writeparameterinnc-v1-00-tcpou-tcplcobject">tc_mca_std_lib/POUs/ChangeConfig/FB_WriteParameterInNc_v1_00.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-errorhandling-dut-errorstate-tcdut-tcplcobject">tc_mca_std_lib/POUs/ErrorHandling/DUT_ErrorState.TcDUT (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-errorhandling-dut-terminalerror-tcdut-tcplcobject">tc_mca_std_lib/POUs/ErrorHandling/DUT_TerminalError.TcDUT (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-errorhandling-fb-errorlist-tcpou-tcplcobject">tc_mca_std_lib/POUs/ErrorHandling/FB_ErrorList.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-errorhandling-fb-terminalerror-tcpou-tcplcobject">tc_mca_std_lib/POUs/ErrorHandling/FB_TerminalError.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-errorhandling-gvl-errorsystem-tcgvl-tcplcobject">tc_mca_std_lib/POUs/ErrorHandling/GVL_ErrorSystem.TcGVL (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-errorhandling-st-errorsystem-tcdut-tcplcobject">tc_mca_std_lib/POUs/ErrorHandling/ST_ErrorSystem.TcDUT (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-analog-inputs-el3174-0002-tcpou-tcplcobject">tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Analog_Inputs/EL3174_0002.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-analog-inputs-el3214-tcpou-tcplcobject">tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Analog_Inputs/EL3214.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-analog-inputs-el3255-tcpou-tcplcobject">tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Analog_Inputs/EL3255.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-analog-inputs-fb-calculatefrequency-3702-v0-01-tcpou-tcplcobject">tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Analog_Inputs/FB_CalculateFrequency_3702_v0_01.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-digital-inputs-el1008-tcpou-tcplcobject">tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Digital_Inputs/EL1008.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-digital-inputs-el1018-tcpou-tcplcobject">tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Digital_Inputs/EL1018.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-digital-inputs-el1808-tcpou-tcplcobject">tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Digital_Inputs/EL1808.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-digital-inputs-el1809-tcpou-tcplcobject">tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Digital_Inputs/EL1809.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-digital-inputs-el1819-tcpou-tcplcobject">tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Digital_Inputs/EL1819.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-digital-inputs-fb-el1252asm-v1-00-tcpou-tcplcobject">tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Digital_Inputs/FB_EL1252ASM_v1_00.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-digital-outputs-el2014-tcpou-tcplcobject">tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Digital_Outputs/EL2014.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-digital-outputs-el2252-tcpou-tcplcobject">tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Digital_Outputs/EL2252.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-digital-outputs-el2808-tcpou-tcplcobject">tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Digital_Outputs/EL2808.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-digital-outputs-el2819-tcpou-tcplcobject">tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Digital_Outputs/EL2819.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-digital-outputs-external-types-dutel2521-ctrl-tcdut-tcplcobject">tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Digital_Outputs/External_Types/dutEL2521_Ctrl.TcDUT (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-digital-outputs-external-types-dutel2521-status-tcdut-tcplcobject">tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Digital_Outputs/External_Types/dutEL2521_Status.TcDUT (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-measuring-terminals-el5002-tcpou-tcplcobject">tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Measuring_Terminals/EL5002.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-measuring-terminals-el5021-tcpou-tcplcobject">tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Measuring_Terminals/EL5021.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-measuring-terminals-el5042-tcpou-tcplcobject">tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Measuring_Terminals/EL5042.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-measuring-terminals-el5101-tcpou-tcplcobject">tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Measuring_Terminals/EL5101.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-motion-el7211-v1-00-tcpou-tcplcobject">tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Motion/EL7211_v1_00.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-motion-el9576-v1-00-tcpou-tcplcobject">tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Motion/EL9576_v1_00.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-system-el9410-tcpou-tcplcobject">tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/System/EL9410.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-system-el9505-tcpou-tcplcobject">tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/System/EL9505.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-hardware-other-ek1200-tcpou-tcplcobject">tc_mca_std_lib/POUs/Hardware/Other/EK1200.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-motion-fb-drivevirtual-tcpou-tcplcobject">tc_mca_std_lib/POUs/Motion/FB_DriveVirtual.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-motion-fb-ncaxis-tcpou-tcplcobject">tc_mca_std_lib/POUs/Motion/FB_NcAxis.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-motion-homing-fb-homedirect-tcpou-tcplcobject">tc_mca_std_lib/POUs/Motion/Homing/FB_HomeDirect.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-motion-homing-fb-homefinish-tcpou-tcplcobject">tc_mca_std_lib/POUs/Motion/Homing/FB_HomeFinish.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-motion-homing-fb-homeprepare-tcpou-tcplcobject">tc_mca_std_lib/POUs/Motion/Homing/FB_HomePrepare.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-motion-homing-fb-homereadncvelocities-tcpou-tcplcobject">tc_mca_std_lib/POUs/Motion/Homing/FB_HomeReadNcVelocities.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-motion-homing-fb-homereadsoftlimenable-tcpou-tcplcobject">tc_mca_std_lib/POUs/Motion/Homing/FB_HomeReadSoftLimEnable.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-motion-homing-fb-hometoswitch-tcpou-tcplcobject">tc_mca_std_lib/POUs/Motion/Homing/FB_HomeToSwitch.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-motion-homing-fb-homevirtual-tcpou-tcplcobject">tc_mca_std_lib/POUs/Motion/Homing/FB_HomeVirtual.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-motion-homing-fb-homewritencvelocities-tcpou-tcplcobject">tc_mca_std_lib/POUs/Motion/Homing/FB_HomeWriteNcVelocities.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-motion-homing-fb-homewritesoftlimenable-tcpou-tcplcobject">tc_mca_std_lib/POUs/Motion/Homing/FB_HomeWriteSoftLimEnable.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#unittests-interactive-tcpou-tcplcobject">UnitTests/Interactive.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#version-global-version-tcgvl-tcplcobject">Version/Global_Version.TcGVL (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#symbols">Symbols</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#plc-project-2-example">PLC Project (2): Example</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#id1">PlcTask.TcTTO (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#pous-main-tcpou-tcplcobject">POUs/Main.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id2">Symbols</a></li>
<li class="toctree-l2"><a class="reference internal" href="#boxes">Boxes</a></li>
<li class="toctree-l2"><a class="reference internal" href="#nc-axes">NC axes</a></li>
<li class="toctree-l2"><a class="reference internal" href="#links">Links</a></li>
<li class="toctree-l2"><a class="reference internal" href="#pragma-lint-results">Pragma lint results</a></li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="Library.tmc.html" title="previous chapter">Library.tmc</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2019, SLAC National Accelerator Laboratory.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.2.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/lcls-twincat-motion.tsproj.md.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>
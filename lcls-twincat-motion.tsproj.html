
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>PLC Project (1): Library &#8212; pcdshub/lcls-twincat-motion  documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Library.tmc" href="Library.tmc.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="plc-project-1-library">
<h1>PLC Project (1): Library<a class="headerlink" href="#plc-project-1-library" title="Permalink to this headline">Â¶</a></h1>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Project</span> <span class="n">path</span><span class="p">:</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">Library</span><span class="o">.</span><span class="n">plcproj</span>
<span class="n">TMC</span> <span class="n">path</span><span class="p">:</span>     <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">Library</span><span class="o">.</span><span class="n">tmc</span>
<span class="n">AMS</span> <span class="n">ID</span><span class="p">:</span>       
<span class="n">IP</span> <span class="n">Address</span><span class="p">:</span>    <span class="p">(</span><span class="o">*</span> <span class="n">based</span> <span class="n">on</span> <span class="n">AMS</span> <span class="n">ID</span><span class="p">)</span>
<span class="n">Port</span><span class="p">:</span>         <span class="mi">851</span>

<span class="n">Source</span> <span class="n">files</span><span class="p">:</span>
    <span class="mf">1.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">DUTs</span><span class="o">/</span><span class="n">DUT_MotionStage</span><span class="o">.</span><span class="n">TcDUT</span>
    <span class="mf">2.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">DUTs</span><span class="o">/</span><span class="n">DUT_PositionState</span><span class="o">.</span><span class="n">TcDUT</span>
    <span class="mf">3.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">DUTs</span><span class="o">/</span><span class="n">EL5042_Status</span><span class="o">.</span><span class="n">TcDUT</span>
    <span class="mf">4.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">DUTs</span><span class="o">/</span><span class="n">ENUM_EpicsHomeCmd</span><span class="o">.</span><span class="n">TcDUT</span>
    <span class="mf">5.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">DUTs</span><span class="o">/</span><span class="n">ENUM_EpicsMotorCmd</span><span class="o">.</span><span class="n">TcDUT</span>
    <span class="mf">6.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">DUTs</span><span class="o">/</span><span class="n">ENUM_StageBrakeMode</span><span class="o">.</span><span class="n">TcDUT</span>
    <span class="mf">7.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">DUTs</span><span class="o">/</span><span class="n">ENUM_StageEnableMode</span><span class="o">.</span><span class="n">TcDUT</span>
    <span class="mf">8.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">DUTs</span><span class="o">/</span><span class="n">ST_RenishawAbsEnc</span><span class="o">.</span><span class="n">TcDUT</span>
    <span class="mf">9.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">PlcTask</span><span class="o">.</span><span class="n">TcTTO</span>
    <span class="mf">10.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">Motion</span><span class="o">/</span><span class="n">FB_MotionStage</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">11.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">Motion</span><span class="o">/</span><span class="n">FB_SetEnables</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">12.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">Motion</span><span class="o">/</span><span class="n">FB_StatePTPMove</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">13.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">Motion</span><span class="o">/</span><span class="n">Gantry</span><span class="o">/</span><span class="n">FB_GantryAutoCoupling</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">14.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">Motion</span><span class="o">/</span><span class="n">Gantry</span><span class="o">/</span><span class="n">FB_GantryDiffVirtualLimitSwitch</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">15.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">MotorTesting</span><span class="o">/</span><span class="n">FB_MicroStepCountTest</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">16.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">DUTs</span><span class="o">/</span><span class="n">DUT_AxisStatus_v0_01</span><span class="o">.</span><span class="n">TcDUT</span>
    <span class="mf">17.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">GVLs</span><span class="o">/</span><span class="n">GVL</span><span class="o">.</span><span class="n">TcGVL</span>
    <span class="mf">18.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">ChangeConfig</span><span class="o">/</span><span class="n">FB_ReadFloatParameter</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">19.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">ChangeConfig</span><span class="o">/</span><span class="n">FB_ReadParameterInNc_v1_00</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">20.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">ChangeConfig</span><span class="o">/</span><span class="n">FB_WriteFloatParameter</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">21.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">ChangeConfig</span><span class="o">/</span><span class="n">FB_WriteParameterInNc_v1_00</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">22.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">ErrorHandling</span><span class="o">/</span><span class="n">DUT_ErrorState</span><span class="o">.</span><span class="n">TcDUT</span>
    <span class="mf">23.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">ErrorHandling</span><span class="o">/</span><span class="n">DUT_TerminalError</span><span class="o">.</span><span class="n">TcDUT</span>
    <span class="mf">24.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">ErrorHandling</span><span class="o">/</span><span class="n">FB_ErrorList</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">25.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">ErrorHandling</span><span class="o">/</span><span class="n">FB_TerminalError</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">26.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">ErrorHandling</span><span class="o">/</span><span class="n">GVL_ErrorSystem</span><span class="o">.</span><span class="n">TcGVL</span>
    <span class="mf">27.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">ErrorHandling</span><span class="o">/</span><span class="n">ST_ErrorSystem</span><span class="o">.</span><span class="n">TcDUT</span>
    <span class="mf">28.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">Hardware</span><span class="o">/</span><span class="n">EtherCAT_Terminals</span><span class="o">/</span><span class="n">Analog_Inputs</span><span class="o">/</span><span class="n">EL3174_0002</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">29.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">Hardware</span><span class="o">/</span><span class="n">EtherCAT_Terminals</span><span class="o">/</span><span class="n">Analog_Inputs</span><span class="o">/</span><span class="n">EL3214</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">30.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">Hardware</span><span class="o">/</span><span class="n">EtherCAT_Terminals</span><span class="o">/</span><span class="n">Analog_Inputs</span><span class="o">/</span><span class="n">EL3255</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">31.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">Hardware</span><span class="o">/</span><span class="n">EtherCAT_Terminals</span><span class="o">/</span><span class="n">Analog_Inputs</span><span class="o">/</span><span class="n">FB_CalculateFrequency_3702_v0_01</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">32.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">Hardware</span><span class="o">/</span><span class="n">EtherCAT_Terminals</span><span class="o">/</span><span class="n">Digital_Inputs</span><span class="o">/</span><span class="n">EL1008</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">33.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">Hardware</span><span class="o">/</span><span class="n">EtherCAT_Terminals</span><span class="o">/</span><span class="n">Digital_Inputs</span><span class="o">/</span><span class="n">EL1018</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">34.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">Hardware</span><span class="o">/</span><span class="n">EtherCAT_Terminals</span><span class="o">/</span><span class="n">Digital_Inputs</span><span class="o">/</span><span class="n">EL1808</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">35.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">Hardware</span><span class="o">/</span><span class="n">EtherCAT_Terminals</span><span class="o">/</span><span class="n">Digital_Inputs</span><span class="o">/</span><span class="n">EL1809</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">36.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">Hardware</span><span class="o">/</span><span class="n">EtherCAT_Terminals</span><span class="o">/</span><span class="n">Digital_Inputs</span><span class="o">/</span><span class="n">EL1819</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">37.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">Hardware</span><span class="o">/</span><span class="n">EtherCAT_Terminals</span><span class="o">/</span><span class="n">Digital_Inputs</span><span class="o">/</span><span class="n">FB_EL1252ASM_v1_00</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">38.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">Hardware</span><span class="o">/</span><span class="n">EtherCAT_Terminals</span><span class="o">/</span><span class="n">Digital_Outputs</span><span class="o">/</span><span class="n">EL2014</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">39.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">Hardware</span><span class="o">/</span><span class="n">EtherCAT_Terminals</span><span class="o">/</span><span class="n">Digital_Outputs</span><span class="o">/</span><span class="n">EL2252</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">40.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">Hardware</span><span class="o">/</span><span class="n">EtherCAT_Terminals</span><span class="o">/</span><span class="n">Digital_Outputs</span><span class="o">/</span><span class="n">EL2808</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">41.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">Hardware</span><span class="o">/</span><span class="n">EtherCAT_Terminals</span><span class="o">/</span><span class="n">Digital_Outputs</span><span class="o">/</span><span class="n">EL2819</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">42.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">Hardware</span><span class="o">/</span><span class="n">EtherCAT_Terminals</span><span class="o">/</span><span class="n">Digital_Outputs</span><span class="o">/</span><span class="n">External_Types</span><span class="o">/</span><span class="n">dutEL2521_Ctrl</span><span class="o">.</span><span class="n">TcDUT</span>
    <span class="mf">43.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">Hardware</span><span class="o">/</span><span class="n">EtherCAT_Terminals</span><span class="o">/</span><span class="n">Digital_Outputs</span><span class="o">/</span><span class="n">External_Types</span><span class="o">/</span><span class="n">dutEL2521_Status</span><span class="o">.</span><span class="n">TcDUT</span>
    <span class="mf">44.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">Hardware</span><span class="o">/</span><span class="n">EtherCAT_Terminals</span><span class="o">/</span><span class="n">Measuring_Terminals</span><span class="o">/</span><span class="n">EL5002</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">45.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">Hardware</span><span class="o">/</span><span class="n">EtherCAT_Terminals</span><span class="o">/</span><span class="n">Measuring_Terminals</span><span class="o">/</span><span class="n">EL5021</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">46.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">Hardware</span><span class="o">/</span><span class="n">EtherCAT_Terminals</span><span class="o">/</span><span class="n">Measuring_Terminals</span><span class="o">/</span><span class="n">EL5042</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">47.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">Hardware</span><span class="o">/</span><span class="n">EtherCAT_Terminals</span><span class="o">/</span><span class="n">Measuring_Terminals</span><span class="o">/</span><span class="n">EL5101</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">48.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">Hardware</span><span class="o">/</span><span class="n">EtherCAT_Terminals</span><span class="o">/</span><span class="n">Motion</span><span class="o">/</span><span class="n">EL7211_v1_00</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">49.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">Hardware</span><span class="o">/</span><span class="n">EtherCAT_Terminals</span><span class="o">/</span><span class="n">Motion</span><span class="o">/</span><span class="n">EL9576_v1_00</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">50.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">Hardware</span><span class="o">/</span><span class="n">EtherCAT_Terminals</span><span class="o">/</span><span class="n">System</span><span class="o">/</span><span class="n">EL9410</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">51.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">Hardware</span><span class="o">/</span><span class="n">EtherCAT_Terminals</span><span class="o">/</span><span class="n">System</span><span class="o">/</span><span class="n">EL9505</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">52.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">Hardware</span><span class="o">/</span><span class="n">Other</span><span class="o">/</span><span class="n">EK1200</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">53.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">Motion</span><span class="o">/</span><span class="n">FB_DriveVirtual</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">54.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">Motion</span><span class="o">/</span><span class="n">FB_NcAxis</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">55.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">Motion</span><span class="o">/</span><span class="n">Homing</span><span class="o">/</span><span class="n">FB_HomeDirect</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">56.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">Motion</span><span class="o">/</span><span class="n">Homing</span><span class="o">/</span><span class="n">FB_HomeFinish</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">57.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">Motion</span><span class="o">/</span><span class="n">Homing</span><span class="o">/</span><span class="n">FB_HomePrepare</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">58.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">Motion</span><span class="o">/</span><span class="n">Homing</span><span class="o">/</span><span class="n">FB_HomeReadNcVelocities</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">59.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">Motion</span><span class="o">/</span><span class="n">Homing</span><span class="o">/</span><span class="n">FB_HomeReadSoftLimEnable</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">60.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">Motion</span><span class="o">/</span><span class="n">Homing</span><span class="o">/</span><span class="n">FB_HomeToSwitch</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">61.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">Motion</span><span class="o">/</span><span class="n">Homing</span><span class="o">/</span><span class="n">FB_HomeVirtual</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">62.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">Motion</span><span class="o">/</span><span class="n">Homing</span><span class="o">/</span><span class="n">FB_HomeWriteNcVelocities</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">63.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">tc_mca_std_lib</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">Motion</span><span class="o">/</span><span class="n">Homing</span><span class="o">/</span><span class="n">FB_HomeWriteSoftLimEnable</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">64.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">UnitTests</span><span class="o">/</span><span class="n">Interactive</span><span class="o">.</span><span class="n">TcPOU</span>
    <span class="mf">65.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">Version</span><span class="o">/</span><span class="n">Global_Version</span><span class="o">.</span><span class="n">TcGVL</span>

<span class="n">POUs</span><span class="p">:</span>
    <span class="mf">1.</span><span class="p">)</span> <span class="n">Interactive</span>

<span class="n">GVLs</span><span class="p">:</span>
    <span class="mf">1.</span><span class="p">)</span> <span class="n">GVL</span>
    <span class="mf">2.</span><span class="p">)</span> <span class="n">GVL_ErrorSystem</span>
    <span class="mf">3.</span><span class="p">)</span> <span class="n">Global_Version</span>
</pre></div>
</div>
<div class="section" id="duts-dut-motionstage-tcdut-tcplcobject">
<h2>DUTs/DUT_MotionStage.TcDUT (TcPlcObject)<a class="headerlink" href="#duts-dut-motionstage-tcdut-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">DUT_MotionStage</span><span class="p">:</span> <span class="n">Declaration</span>

 <span class="n">TYPE</span> <span class="n">DUT_MotionStage</span> <span class="p">:</span>
 <span class="n">STRUCT</span>
 	<span class="p">(</span><span class="o">*</span> <span class="n">Hardware</span> <span class="o">*</span><span class="p">)</span>
 	
 	<span class="o">//</span> <span class="n">PLC</span> <span class="n">Axis</span> <span class="n">Reference</span>
 	<span class="n">Axis</span><span class="p">:</span> <span class="n">AXIS_REF</span><span class="p">;</span>
 	<span class="o">//</span> <span class="n">NC</span> <span class="n">Forward</span> <span class="n">Limit</span> <span class="n">Switch</span><span class="p">:</span> <span class="n">TRUE</span> <span class="k">if</span> <span class="n">ok</span> <span class="n">to</span> <span class="n">move</span>
 	<span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="p">:</span><span class="o">=</span> <span class="s1">&#39;</span>
 		<span class="n">pv</span><span class="p">:</span> <span class="n">PLC</span><span class="p">:</span><span class="n">bLimitForwardEnable</span>
 		<span class="n">io</span><span class="p">:</span> <span class="n">i</span>
 	<span class="s1">&#39;}</span>
 	<span class="n">bLimitForwardEnable</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="o">//</span> <span class="n">NC</span> <span class="n">Backward</span> <span class="n">Limit</span> <span class="n">Switch</span><span class="p">:</span> <span class="n">TRUE</span> <span class="k">if</span> <span class="n">ok</span> <span class="n">to</span> <span class="n">move</span>
 	<span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="p">:</span><span class="o">=</span> <span class="s1">&#39;</span>
 		<span class="n">pv</span><span class="p">:</span> <span class="n">PLC</span><span class="p">:</span><span class="n">bLimitBackwardEnable</span>
 		<span class="n">io</span><span class="p">:</span> <span class="n">i</span>
 	<span class="s1">&#39;}</span>
 	<span class="n">bLimitBackwardEnable</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="o">//</span> <span class="n">NO</span> <span class="n">Home</span> <span class="n">Switch</span><span class="p">:</span> <span class="n">TRUE</span> <span class="k">if</span> <span class="n">at</span> <span class="n">home</span>
 	<span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="p">:</span><span class="o">=</span> <span class="s1">&#39;</span>
 		<span class="n">pv</span><span class="p">:</span> <span class="n">PLC</span><span class="p">:</span><span class="n">bHome</span>
 		<span class="n">io</span><span class="p">:</span> <span class="n">i</span>
 	<span class="s1">&#39;}</span>
 	<span class="n">bHome</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="o">//</span> <span class="n">NC</span> <span class="n">Brake</span> <span class="n">Output</span><span class="p">:</span> <span class="n">TRUE</span> <span class="n">to</span> <span class="n">release</span> <span class="n">brake</span>
 	<span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="p">:</span><span class="o">=</span> <span class="s1">&#39;</span>
 		<span class="n">pv</span><span class="p">:</span> <span class="n">PLC</span><span class="p">:</span><span class="n">bBrakeRelease</span>
 		<span class="n">io</span><span class="p">:</span> <span class="n">i</span>
 	<span class="s1">&#39;}</span>
 	<span class="n">bBrakeRelease</span> <span class="n">AT</span> <span class="o">%</span><span class="n">Q</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="o">//</span> <span class="n">NC</span> <span class="n">STO</span> <span class="n">Input</span><span class="p">:</span> <span class="n">TRUE</span> <span class="k">if</span> <span class="n">ok</span> <span class="n">to</span> <span class="n">move</span>
 	<span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="p">:</span><span class="o">=</span> <span class="s1">&#39;</span>
 		<span class="n">pv</span><span class="p">:</span> <span class="n">PLC</span><span class="p">:</span><span class="n">bHardwareEnable</span>
 		<span class="n">io</span><span class="p">:</span> <span class="n">i</span>
 	<span class="s1">&#39;}</span>
 	<span class="n">bHardwareEnable</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 
 	<span class="p">(</span><span class="o">*</span> <span class="n">Psuedo</span><span class="o">-</span><span class="n">hardware</span> <span class="o">*</span><span class="p">)</span>
 	
 	<span class="o">//</span> <span class="n">Forward</span> <span class="n">enable</span> <span class="n">EPS</span> <span class="n">summary</span>
 	<span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="p">:</span><span class="o">=</span> <span class="s1">&#39;</span>
 		<span class="n">pv</span><span class="p">:</span> <span class="n">PLC</span><span class="p">:</span><span class="n">bAllForwardEnable</span>
 		<span class="n">io</span><span class="p">:</span> <span class="n">i</span>
 	<span class="s1">&#39;}</span>
 	<span class="n">bAllForwardEnable</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 	<span class="o">//</span> <span class="n">Backward</span> <span class="n">enable</span> <span class="n">EPS</span> <span class="n">summary</span>
 	<span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="p">:</span><span class="o">=</span> <span class="s1">&#39;</span>
 		<span class="n">pv</span><span class="p">:</span> <span class="n">PLC</span><span class="p">:</span><span class="n">bAllBackwardEnable</span>
 		<span class="n">io</span><span class="p">:</span> <span class="n">i</span>
 	<span class="s1">&#39;}</span>
 	<span class="n">bAllBackwardEnable</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span> 
 	<span class="o">//</span> <span class="n">Enable</span> <span class="n">EPS</span> <span class="n">summary</span> <span class="n">encapsulating</span> <span class="n">emergency</span> <span class="n">stop</span> <span class="n">button</span> <span class="ow">and</span> <span class="nb">any</span> <span class="n">additional</span> <span class="n">motion</span> <span class="n">preventive</span> <span class="n">hardware</span>
 	<span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="p">:</span><span class="o">=</span> <span class="s1">&#39;</span>
 		<span class="n">pv</span><span class="p">:</span> <span class="n">PLC</span><span class="p">:</span><span class="n">bAllEnable</span>
 		<span class="n">io</span><span class="p">:</span> <span class="n">i</span>
 	<span class="s1">&#39;}</span>
 	<span class="n">bAllEnable</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 	<span class="o">//</span> <span class="n">Forward</span> <span class="n">virtual</span> <span class="n">gantry</span> <span class="n">limit</span> <span class="n">switch</span>
 	<span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="p">:</span><span class="o">=</span> <span class="s1">&#39;</span>
 		<span class="n">pv</span><span class="p">:</span> <span class="n">PLC</span><span class="p">:</span><span class="n">bGantryForwardEnable</span>
 		<span class="n">io</span><span class="p">:</span> <span class="n">i</span>
 	<span class="s1">&#39;}</span>
 	<span class="n">bGantryForwardEnable</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 	<span class="o">//</span> <span class="n">Backward</span> <span class="n">virtual</span> <span class="n">gantry</span> <span class="n">limit</span> <span class="n">switch</span>
 	<span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="p">:</span><span class="o">=</span> <span class="s1">&#39;</span>
 		<span class="n">pv</span><span class="p">:</span> <span class="n">PLC</span><span class="p">:</span><span class="n">bGantryBackwardEnable</span>
 		<span class="n">io</span><span class="p">:</span> <span class="n">i</span>
 	<span class="s1">&#39;}</span>
 	<span class="n">bGantryBackwardEnable</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 	
 	<span class="p">(</span><span class="o">*</span> <span class="n">Settings</span> <span class="o">*</span><span class="p">)</span>
 	<span class="o">//</span> <span class="n">Change</span> <span class="n">to</span> <span class="n">FALSE</span> <span class="k">if</span> <span class="n">MC_POWER</span> <span class="ow">is</span> <span class="n">somewhere</span> <span class="k">else</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">project</span>
 	<span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="p">:</span><span class="o">=</span> <span class="s1">&#39;</span>
 		<span class="n">pv</span><span class="p">:</span> <span class="n">PLC</span><span class="p">:</span><span class="n">bPowerSelf</span>
 		<span class="n">io</span><span class="p">:</span> <span class="n">i</span>
 	<span class="s1">&#39;}</span>
 	<span class="n">bPowerSelf</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">:</span><span class="o">=</span><span class="n">TRUE</span><span class="p">;</span>
 	<span class="o">//</span> <span class="n">Determines</span> <span class="n">when</span> <span class="n">we</span> <span class="n">automatically</span> <span class="n">enable</span> <span class="n">the</span> <span class="n">motor</span>
 	<span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="p">:</span><span class="o">=</span> <span class="s1">&#39;</span>
 		<span class="n">pv</span><span class="p">:</span> <span class="n">PLC</span><span class="p">:</span><span class="n">nEnableMode</span>
 		<span class="n">io</span><span class="p">:</span> <span class="n">i</span>
 	<span class="s1">&#39;}</span>
 	<span class="n">nEnableMode</span><span class="p">:</span> <span class="n">INT</span><span class="p">:</span><span class="o">=</span><span class="n">ENUM_StageEnableMode</span><span class="o">.</span><span class="n">STAGE_ENABLE_MOTION</span><span class="p">;</span>
 	<span class="o">//</span> <span class="n">Determines</span> <span class="n">when</span> <span class="n">we</span> <span class="n">automatically</span> <span class="n">disengage</span> <span class="n">the</span> <span class="n">brake</span>
 	<span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="p">:</span><span class="o">=</span> <span class="s1">&#39;</span>
 		<span class="n">pv</span><span class="p">:</span> <span class="n">PLC</span><span class="p">:</span><span class="n">nBrakeMode</span>
 		<span class="n">io</span><span class="p">:</span> <span class="n">i</span>
 	<span class="s1">&#39;}</span>
 	<span class="n">nBrakeMode</span><span class="p">:</span> <span class="n">INT</span><span class="p">:</span><span class="o">=</span><span class="n">ENUM_StageBrakeMode</span><span class="o">.</span><span class="n">STAGE_BRAKE_DISABLED</span><span class="p">;</span>
 	<span class="o">//</span> <span class="n">Determines</span> <span class="n">our</span> <span class="n">encoder</span> <span class="n">homing</span> <span class="n">strategy</span>
 	<span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="p">:</span><span class="o">=</span> <span class="s1">&#39;</span>
 		<span class="n">pv</span><span class="p">:</span> <span class="n">PLC</span><span class="p">:</span><span class="n">nHomingMode</span>
 		<span class="n">io</span><span class="p">:</span> <span class="n">i</span>
 	<span class="s1">&#39;}</span>
 	<span class="n">nHomingMode</span><span class="p">:</span> <span class="n">INT</span><span class="p">:</span><span class="o">=</span><span class="n">ENUM_EpicsHomeCmd</span><span class="o">.</span><span class="n">EPICS_MOTOR_HOME_NONE</span><span class="p">;</span>
 	<span class="o">//</span> <span class="n">Set</span> <span class="n">true</span> <span class="n">to</span> <span class="n">activate</span> <span class="n">gantry</span> <span class="n">EPS</span>
 	<span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="p">:</span><span class="o">=</span> <span class="s1">&#39;</span>
 		<span class="n">pv</span><span class="p">:</span> <span class="n">PLC</span><span class="p">:</span><span class="n">bGantryAxis</span>
 		<span class="n">io</span><span class="p">:</span> <span class="n">i</span>
 	<span class="s1">&#39;}</span>
 	<span class="n">bGantryAxis</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 	<span class="o">//</span> <span class="n">Set</span> <span class="n">to</span> <span class="n">gantry</span> <span class="n">difference</span> <span class="n">tolerance</span>
 	<span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="p">:</span><span class="o">=</span> <span class="s1">&#39;</span>
 		<span class="n">pv</span><span class="p">:</span> <span class="n">PLC</span><span class="p">:</span><span class="n">nGantryTol</span>
 		<span class="n">io</span><span class="p">:</span> <span class="n">i</span>
 	<span class="s1">&#39;}</span>
 	<span class="n">nGantryTol</span><span class="p">:</span> <span class="n">LINT</span><span class="p">:</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
 	<span class="o">//</span> <span class="n">Encoder</span> <span class="n">count</span> <span class="n">at</span> <span class="n">which</span> <span class="n">this</span> <span class="n">axis</span> <span class="ow">is</span> <span class="n">aligned</span> <span class="k">with</span> <span class="n">other</span> <span class="n">axis</span>
 	<span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="p">:</span><span class="o">=</span> <span class="s1">&#39;</span>
 		<span class="n">pv</span><span class="p">:</span> <span class="n">PLC</span><span class="p">:</span><span class="n">nEncRef</span>
 		<span class="n">io</span><span class="p">:</span> <span class="n">i</span>
 	<span class="s1">&#39;}</span>
 	<span class="n">nEncRef</span><span class="p">:</span> <span class="n">ULINT</span><span class="p">:</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
 	
 	<span class="p">(</span><span class="o">*</span> <span class="n">Commands</span> <span class="o">*</span><span class="p">)</span>
 	<span class="o">//</span> <span class="n">Used</span> <span class="n">internally</span> <span class="n">to</span> <span class="n">request</span> <span class="n">enables</span>
 	<span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="p">:</span><span class="o">=</span> <span class="s1">&#39;</span>
 		<span class="n">pv</span><span class="p">:</span> <span class="n">PLC</span><span class="p">:</span><span class="n">bEnable</span>
 		<span class="n">io</span><span class="p">:</span> <span class="n">io</span>
 	<span class="s1">&#39;}</span>
 	<span class="n">bEnable</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="o">//</span> <span class="n">Used</span> <span class="n">internally</span> <span class="n">to</span> <span class="n">reset</span> <span class="n">errors</span> <span class="ow">and</span> <span class="n">other</span> <span class="n">state</span>
 	<span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="p">:</span><span class="o">=</span> <span class="s1">&#39;</span>
 		<span class="n">pv</span><span class="p">:</span> <span class="n">PLC</span><span class="p">:</span><span class="n">bReset</span>
 		<span class="n">io</span><span class="p">:</span> <span class="n">io</span>
 	<span class="s1">&#39;}</span>
 	<span class="n">bReset</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="o">//</span> <span class="n">Used</span> <span class="n">internally</span> <span class="ow">and</span> <span class="n">by</span> <span class="n">the</span> <span class="n">IOC</span> <span class="n">to</span> <span class="n">start</span> <span class="ow">or</span> <span class="n">stop</span> <span class="n">a</span> <span class="n">move</span>
 	<span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="p">:</span><span class="o">=</span> <span class="s1">&#39;</span>
 		<span class="n">pv</span><span class="p">:</span> <span class="n">PLC</span><span class="p">:</span><span class="n">bExecute</span>
 		<span class="n">io</span><span class="p">:</span> <span class="n">io</span>
 	<span class="s1">&#39;}</span>
 	<span class="n">bExecute</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	
 	<span class="p">(</span><span class="o">*</span> <span class="n">Command</span> <span class="n">Args</span> <span class="o">*</span><span class="p">)</span>
 	<span class="o">//</span> <span class="n">Used</span> <span class="n">internally</span> <span class="ow">and</span> <span class="n">by</span> <span class="n">the</span> <span class="n">IOC</span> <span class="n">to</span> <span class="n">pick</span> <span class="n">what</span> <span class="n">kind</span> <span class="n">of</span> <span class="n">move</span> <span class="n">to</span> <span class="n">do</span>
 	<span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="p">:</span><span class="o">=</span> <span class="s1">&#39;</span>
 		<span class="n">pv</span><span class="p">:</span> <span class="n">PLC</span><span class="p">:</span><span class="n">nCommand</span>
 		<span class="n">io</span><span class="p">:</span> <span class="n">io</span>
 	<span class="s1">&#39;}</span>
 	<span class="n">nCommand</span><span class="p">:</span> <span class="n">INT</span><span class="p">;</span>
 	<span class="o">//</span> <span class="n">Used</span> <span class="n">internally</span> <span class="ow">and</span> <span class="n">by</span> <span class="n">the</span> <span class="n">IOC</span> <span class="n">to</span> <span class="k">pass</span> <span class="n">additional</span> <span class="n">data</span> <span class="n">to</span> <span class="n">some</span> <span class="n">commands</span>
 	<span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="p">:</span><span class="o">=</span> <span class="s1">&#39;</span>
 		<span class="n">pv</span><span class="p">:</span> <span class="n">PLC</span><span class="p">:</span><span class="n">nCmdData</span>
 		<span class="n">io</span><span class="p">:</span> <span class="n">io</span>
 	<span class="s1">&#39;}</span>
 	<span class="n">nCmdData</span><span class="p">:</span> <span class="n">INT</span><span class="p">;</span>
 	<span class="o">//</span> <span class="n">Used</span> <span class="n">internally</span> <span class="ow">and</span> <span class="n">by</span> <span class="n">the</span> <span class="n">IOC</span> <span class="n">to</span> <span class="n">pick</span> <span class="n">a</span> <span class="n">destination</span> <span class="k">for</span> <span class="n">the</span> <span class="n">move</span>
 	<span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="p">:</span><span class="o">=</span> <span class="s1">&#39;</span>
 		<span class="n">pv</span><span class="p">:</span> <span class="n">PLC</span><span class="p">:</span><span class="n">fPosition</span>
 		<span class="n">io</span><span class="p">:</span> <span class="n">io</span>
 	<span class="s1">&#39;}</span>
 	<span class="n">fPosition</span><span class="p">:</span> <span class="n">LREAL</span><span class="p">;</span>
 	<span class="o">//</span> <span class="n">Used</span> <span class="n">internally</span> <span class="ow">and</span> <span class="n">by</span> <span class="n">the</span> <span class="n">IOC</span> <span class="n">to</span> <span class="n">pick</span> <span class="n">a</span> <span class="n">move</span> <span class="n">velocity</span>
 	<span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="p">:</span><span class="o">=</span> <span class="s1">&#39;</span>
 		<span class="n">pv</span><span class="p">:</span> <span class="n">PLC</span><span class="p">:</span><span class="n">fVelocity</span>
 		<span class="n">io</span><span class="p">:</span> <span class="n">io</span>
 	<span class="s1">&#39;}</span>
 	<span class="n">fVelocity</span><span class="p">:</span> <span class="n">LREAL</span><span class="p">;</span>
 	<span class="o">//</span> <span class="n">Used</span> <span class="n">internally</span> <span class="ow">and</span> <span class="n">by</span> <span class="n">the</span> <span class="n">IOC</span> <span class="n">to</span> <span class="n">pick</span> <span class="n">a</span> <span class="n">move</span> <span class="n">acceleration</span>
 	<span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="p">:</span><span class="o">=</span> <span class="s1">&#39;</span>
 		<span class="n">pv</span><span class="p">:</span> <span class="n">PLC</span><span class="p">:</span><span class="n">fAcceleration</span>
 		<span class="n">io</span><span class="p">:</span> <span class="n">io</span>
 	<span class="s1">&#39;}</span>
 	<span class="n">fAcceleration</span><span class="p">:</span> <span class="n">LREAL</span><span class="p">;</span>
 	<span class="o">//</span> <span class="n">Used</span> <span class="n">internally</span> <span class="ow">and</span> <span class="n">by</span> <span class="n">the</span> <span class="n">IOC</span> <span class="n">to</span> <span class="n">pick</span> <span class="n">a</span> <span class="n">move</span> <span class="n">deceleration</span>
 	<span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="p">:</span><span class="o">=</span> <span class="s1">&#39;</span>
 		<span class="n">pv</span><span class="p">:</span> <span class="n">PLC</span><span class="p">:</span><span class="n">fDeceleration</span>
 		<span class="n">io</span><span class="p">:</span> <span class="n">io</span>
 	<span class="s1">&#39;}</span>
 	<span class="n">fDeceleration</span><span class="p">:</span> <span class="n">LREAL</span><span class="p">;</span>
 	<span class="o">//</span> <span class="n">Used</span> <span class="n">internally</span> <span class="ow">and</span> <span class="n">by</span> <span class="n">the</span> <span class="n">IOC</span> <span class="n">to</span> <span class="n">pick</span> <span class="n">a</span> <span class="n">home</span> <span class="n">position</span>
 	<span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="p">:</span><span class="o">=</span> <span class="s1">&#39;</span>
 		<span class="n">pv</span><span class="p">:</span> <span class="n">PLC</span><span class="p">:</span><span class="n">fHomePosition</span>
 		<span class="n">io</span><span class="p">:</span> <span class="n">io</span>
 	<span class="s1">&#39;}</span>
 	<span class="n">fHomePosition</span><span class="p">:</span> <span class="n">LREAL</span><span class="p">;</span>
 	
 	<span class="p">(</span><span class="o">*</span> <span class="n">Info</span> <span class="o">*</span><span class="p">)</span>
 	<span class="o">//</span> <span class="n">Unique</span> <span class="n">ID</span> <span class="n">assigned</span> <span class="n">to</span> <span class="n">each</span> <span class="n">axis</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">NC</span>
 	<span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="p">:</span><span class="o">=</span> <span class="s1">&#39;</span>
 		<span class="n">pv</span><span class="p">:</span> <span class="n">PLC</span><span class="p">:</span><span class="n">nMotionAxisID</span>
 		<span class="n">io</span><span class="p">:</span> <span class="n">i</span>
 	<span class="s1">&#39;}</span>
 	<span class="n">nMotionAxisID</span><span class="p">:</span> <span class="n">UDINT</span><span class="p">:</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
 	
 	<span class="p">(</span><span class="o">*</span> <span class="n">Returns</span> <span class="o">*</span><span class="p">)</span>
 	<span class="o">//</span> <span class="n">TRUE</span> <span class="k">if</span> <span class="n">done</span> <span class="n">enabling</span>
 	<span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="p">:</span><span class="o">=</span> <span class="s1">&#39;</span>
 		<span class="n">pv</span><span class="p">:</span> <span class="n">PLC</span><span class="p">:</span><span class="n">bEnableDone</span>
 		<span class="n">io</span><span class="p">:</span> <span class="n">i</span>
 	<span class="s1">&#39;}</span>
 	<span class="n">bEnableDone</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="o">//</span> <span class="n">TRUE</span> <span class="k">if</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">middle</span> <span class="n">of</span> <span class="n">a</span> <span class="n">command</span>
 	<span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="p">:</span><span class="o">=</span> <span class="s1">&#39;</span>
 		<span class="n">pv</span><span class="p">:</span> <span class="n">PLC</span><span class="p">:</span><span class="n">bBusy</span>
 		<span class="n">io</span><span class="p">:</span> <span class="n">i</span>
 	<span class="s1">&#39;}</span>
 	<span class="n">bBusy</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="o">//</span> <span class="n">TRUE</span> <span class="k">if</span> <span class="n">we</span><span class="s1">&#39;ve done a command and it has finished</span>
 	<span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="p">:</span><span class="o">=</span> <span class="s1">&#39;</span>
 		<span class="n">pv</span><span class="p">:</span> <span class="n">PLC</span><span class="p">:</span><span class="n">bDone</span>
 		<span class="n">io</span><span class="p">:</span> <span class="n">i</span>
 	<span class="s1">&#39;}</span>
 	<span class="n">bDone</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="o">//</span> <span class="n">TRUE</span> <span class="k">if</span> <span class="n">we</span><span class="s1">&#39;re in an error state</span>
 	<span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="p">:</span><span class="o">=</span> <span class="s1">&#39;</span>
 		<span class="n">pv</span><span class="p">:</span> <span class="n">PLC</span><span class="p">:</span><span class="n">bError</span>
 		<span class="n">io</span><span class="p">:</span> <span class="n">i</span>
 	<span class="s1">&#39;}</span>
 	<span class="n">bError</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="o">//</span> <span class="n">Message</span> <span class="n">to</span> <span class="n">identify</span> <span class="n">the</span> <span class="n">error</span> <span class="n">state</span>
 	<span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="p">:</span><span class="o">=</span> <span class="s1">&#39;</span>
 		<span class="n">pv</span><span class="p">:</span> <span class="n">PLC</span><span class="p">:</span><span class="n">sErrorMessage</span>
 		<span class="n">io</span><span class="p">:</span> <span class="n">i</span>
 	<span class="s1">&#39;}</span>
 	<span class="n">sErrorMessage</span><span class="p">:</span> <span class="n">STRING</span><span class="p">;</span>
 	<span class="o">//</span> <span class="n">Misc</span> <span class="n">axis</span> <span class="n">status</span> <span class="n">information</span> <span class="k">for</span> <span class="n">the</span> <span class="n">IOC</span>
 	<span class="n">stAxisStatus</span><span class="p">:</span> <span class="n">DUT_AxisStatus_v0_01</span><span class="p">;</span>
 <span class="n">END_STRUCT</span>
 <span class="n">END_TYPE</span>
</pre></div>
</div>
</div>
<div class="section" id="duts-dut-positionstate-tcdut-tcplcobject">
<h2>DUTs/DUT_PositionState.TcDUT (TcPlcObject)<a class="headerlink" href="#duts-dut-positionstate-tcdut-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">DUT_PositionState</span><span class="p">:</span> <span class="n">Declaration</span>

 <span class="n">TYPE</span> <span class="n">DUT_PositionState</span> <span class="p">:</span>
 <span class="o">//</span> <span class="n">Include</span> <span class="n">io</span><span class="p">:</span> <span class="nb">input</span> <span class="n">on</span> <span class="n">things</span> <span class="n">that</span> <span class="n">should</span> <span class="n">never</span> <span class="n">be</span> <span class="n">mutable</span> <span class="ow">in</span> <span class="n">EPICS</span><span class="o">.</span>
 <span class="o">//</span> <span class="n">Omit</span> <span class="n">io</span> <span class="n">on</span> <span class="n">things</span> <span class="n">that</span> <span class="n">may</span> <span class="ow">or</span> <span class="n">may</span> <span class="ow">not</span> <span class="n">need</span> <span class="n">to</span> <span class="n">be</span> <span class="n">mutable</span><span class="p">,</span> <span class="n">allow</span> <span class="n">engineer</span> <span class="n">to</span> <span class="n">decide</span> <span class="ow">in</span> <span class="n">their</span> <span class="n">pragma</span><span class="o">.</span>
 <span class="o">//</span> <span class="n">Currently</span><span class="p">:</span> <span class="n">some</span> <span class="n">installations</span> <span class="n">would</span> <span class="n">want</span> <span class="n">position</span> <span class="ow">and</span> <span class="n">delta</span> <span class="n">to</span> <span class="n">be</span> <span class="n">mutable</span><span class="o">.</span>
 <span class="n">STRUCT</span>
 	<span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="p">:</span><span class="o">=</span> <span class="s1">&#39;</span>
 		<span class="n">pv</span><span class="p">:</span> <span class="n">NAME</span>
 		<span class="n">io</span><span class="p">:</span> <span class="nb">input</span>
 	<span class="s1">&#39;}</span>
 	<span class="n">sName</span><span class="p">:</span> <span class="n">STRING</span><span class="p">;</span>
 
 	<span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="p">:</span><span class="o">=</span> <span class="s1">&#39;</span>
 		<span class="n">pv</span><span class="p">:</span> <span class="n">SETPOINT</span>
 		<span class="n">io</span><span class="p">:</span> <span class="n">io</span>
 	<span class="s1">&#39;}</span>
 	<span class="n">fPosition</span><span class="p">:</span> <span class="n">LREAL</span><span class="p">;</span>
 	
 	<span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="p">:</span><span class="o">=</span> <span class="s1">&#39;</span>
 		<span class="n">pv</span><span class="p">:</span> <span class="n">DELTA</span>
 		<span class="n">io</span><span class="p">:</span> <span class="n">io</span>
 	<span class="s1">&#39;}</span>
 	<span class="n">fDelta</span><span class="p">:</span> <span class="n">LREAL</span><span class="p">;</span>
 	
 	<span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="p">:</span><span class="o">=</span> <span class="s1">&#39;</span>
 		<span class="n">pv</span><span class="p">:</span> <span class="n">VELO</span>
 		<span class="n">io</span><span class="p">:</span> <span class="n">io</span>
 	<span class="s1">&#39;}</span>
 	<span class="n">fVelocity</span><span class="p">:</span> <span class="n">LREAL</span><span class="p">;</span>
 	
 	<span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="p">:</span><span class="o">=</span> <span class="s1">&#39;</span>
 		<span class="n">pv</span><span class="p">:</span> <span class="n">ACCL</span>
 		<span class="n">io</span><span class="p">:</span> <span class="n">io</span>
 	<span class="s1">&#39;}</span>
 	<span class="n">fAccel</span><span class="p">:</span> <span class="n">LREAL</span><span class="p">;</span>
 	
 	<span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="p">:</span><span class="o">=</span> <span class="s1">&#39;</span>
 		<span class="n">pv</span><span class="p">:</span> <span class="n">DCCL</span>
 		<span class="n">io</span><span class="p">:</span> <span class="n">io</span>
 	<span class="s1">&#39;}</span>
 	<span class="n">fDecel</span><span class="p">:</span> <span class="n">LREAL</span><span class="p">;</span>
 <span class="n">END_STRUCT</span>
 <span class="n">END_TYPE</span>
</pre></div>
</div>
</div>
<div class="section" id="duts-el5042-status-tcdut-tcplcobject">
<h2>DUTs/EL5042_Status.TcDUT (TcPlcObject)<a class="headerlink" href="#duts-el5042-status-tcdut-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">EL5042_Status</span><span class="p">:</span> <span class="n">Declaration</span>

 <span class="n">TYPE</span> <span class="n">EL5042_Status</span> <span class="p">:</span>
 <span class="n">STRUCT</span>
 <span class="n">END_STRUCT</span>
 <span class="n">END_TYPE</span>
</pre></div>
</div>
</div>
<div class="section" id="duts-enum-epicshomecmd-tcdut-tcplcobject">
<h2>DUTs/ENUM_EpicsHomeCmd.TcDUT (TcPlcObject)<a class="headerlink" href="#duts-enum-epicshomecmd-tcdut-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">ENUM_EpicsHomeCmd</span><span class="p">:</span> <span class="n">Declaration</span>

 <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;qualified_only&#39;</span><span class="p">}</span>
 <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;strict&#39;</span><span class="p">}</span>
 <span class="n">TYPE</span> <span class="n">ENUM_EpicsHomeCmd</span> <span class="p">:</span>
 <span class="p">(</span>
 	<span class="n">EPICS_MOTOR_HOME_LLS</span> <span class="p">:</span><span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="o">//</span> <span class="n">Low</span> <span class="n">limit</span> <span class="n">switch</span>
 	<span class="n">EPICS_MOTOR_HOME_HLS</span> <span class="p">:</span><span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="o">//</span> <span class="n">High</span> <span class="n">limit</span> <span class="n">switch</span>
 	<span class="n">EPICS_MOTOR_HOME_LHS</span> <span class="p">:</span><span class="o">=</span> <span class="mi">3</span><span class="p">,</span> <span class="o">//</span> <span class="n">Home</span> <span class="n">switch</span> <span class="n">via</span> <span class="n">low</span> <span class="n">switch</span>
 	<span class="n">EPICS_MOTOR_HOME_HHS</span> <span class="p">:</span><span class="o">=</span> <span class="mi">4</span><span class="p">,</span> <span class="o">//</span> <span class="n">Home</span> <span class="n">switch</span> <span class="n">via</span> <span class="n">high</span> <span class="n">switch</span>
 	<span class="n">EPICS_MOTOR_HOME_ABS</span> <span class="p">:</span><span class="o">=</span> <span class="mi">15</span><span class="p">,</span> <span class="o">//</span> <span class="n">Set</span> <span class="n">here</span> <span class="n">to</span> <span class="n">be</span> <span class="n">fHomePosition</span>
 	<span class="n">EPICS_MOTOR_HOME_NONE</span> <span class="p">:</span><span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="o">//</span> <span class="n">Do</span> <span class="ow">not</span> <span class="n">home</span><span class="p">,</span> <span class="n">ever</span>
 <span class="p">);</span>
 <span class="n">END_TYPE</span>
</pre></div>
</div>
</div>
<div class="section" id="duts-enum-epicsmotorcmd-tcdut-tcplcobject">
<h2>DUTs/ENUM_EpicsMotorCmd.TcDUT (TcPlcObject)<a class="headerlink" href="#duts-enum-epicsmotorcmd-tcdut-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">ENUM_EpicsMotorCmd</span><span class="p">:</span> <span class="n">Declaration</span>

 <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;qualified_only&#39;</span><span class="p">}</span>
 <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;strict&#39;</span><span class="p">}</span>
 <span class="n">TYPE</span> <span class="n">ENUM_EpicsMotorCmd</span> <span class="p">:</span>
 <span class="p">(</span>
 	<span class="n">EPICS_MOTOR_JOG</span> <span class="p">:</span><span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
 	<span class="n">EPICS_MOTOR_MOVE_VEL</span> <span class="p">:</span><span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
 	<span class="n">EPICS_MOTOR_MOVE_REL</span> <span class="p">:</span><span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
 	<span class="n">EPICS_MOTOR_MOVE_ABS</span> <span class="p">:</span><span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
 	<span class="n">EPICS_MOTOR_MOVE_MOD</span> <span class="p">:</span><span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
 	<span class="n">EPICS_MOTOR_HOME</span> <span class="p">:</span><span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
 	<span class="n">EPICS_MOTOR_GEAR</span> <span class="p">:</span><span class="o">=</span> <span class="mi">30</span>
 <span class="p">);</span>
 <span class="n">END_TYPE</span>
</pre></div>
</div>
</div>
<div class="section" id="duts-enum-stagebrakemode-tcdut-tcplcobject">
<h2>DUTs/ENUM_StageBrakeMode.TcDUT (TcPlcObject)<a class="headerlink" href="#duts-enum-stagebrakemode-tcdut-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">ENUM_StageBrakeMode</span><span class="p">:</span> <span class="n">Declaration</span>

 <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;qualified_only&#39;</span><span class="p">}</span>
 <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;strict&#39;</span><span class="p">}</span>
 <span class="n">TYPE</span> <span class="n">ENUM_StageBrakeMode</span> <span class="p">:</span>
 <span class="p">(</span>
 	<span class="n">STAGE_BRAKE_DISABLED</span><span class="p">,</span>
 	<span class="n">STAGE_BRAKE_STANDSTILL</span>
 <span class="p">);</span>
 <span class="n">END_TYPE</span>
</pre></div>
</div>
</div>
<div class="section" id="duts-enum-stageenablemode-tcdut-tcplcobject">
<h2>DUTs/ENUM_StageEnableMode.TcDUT (TcPlcObject)<a class="headerlink" href="#duts-enum-stageenablemode-tcdut-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">ENUM_StageEnableMode</span><span class="p">:</span> <span class="n">Declaration</span>

 <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;qualified_only&#39;</span><span class="p">}</span>
 <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;strict&#39;</span><span class="p">}</span>
 <span class="n">TYPE</span> <span class="n">ENUM_StageEnableMode</span> <span class="p">:</span>
 <span class="p">(</span>
 	<span class="n">STAGE_ENABLE_ALWAYS</span><span class="p">,</span> <span class="o">//</span> <span class="n">Always</span> <span class="nb">set</span> <span class="n">bEnable</span> <span class="n">to</span> <span class="n">TRUE</span>
 	<span class="n">STAGE_ENABLE_NEVER</span><span class="p">,</span>  <span class="o">//</span> <span class="n">Only</span> <span class="n">change</span> <span class="n">bEnable</span> <span class="n">on</span> <span class="n">errors</span>
 	<span class="n">STAGE_ENABLE_MOTION</span>  <span class="o">//</span> <span class="n">Enable</span> <span class="n">before</span> <span class="n">motion</span><span class="p">,</span> <span class="n">disable</span> <span class="n">after</span> <span class="n">motion</span>
 <span class="p">);</span>
 <span class="n">END_TYPE</span>
</pre></div>
</div>
</div>
<div class="section" id="duts-st-renishawabsenc-tcdut-tcplcobject">
<h2>DUTs/ST_RenishawAbsEnc.TcDUT (TcPlcObject)<a class="headerlink" href="#duts-st-renishawabsenc-tcdut-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">ST_RenishawAbsEnc</span><span class="p">:</span> <span class="n">Declaration</span>

 <span class="o">//</span> <span class="n">Renishaw</span> <span class="n">BiSS</span><span class="o">-</span><span class="n">C</span> <span class="n">absolute</span> <span class="n">encoder</span> <span class="n">used</span> <span class="k">with</span> <span class="n">an</span> <span class="n">EL5042</span> 
 <span class="n">TYPE</span> <span class="n">ST_RenishawAbsEnc</span> <span class="p">:</span>
 <span class="n">STRUCT</span>
 	<span class="n">Count</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">ULINT</span><span class="p">;</span> <span class="o">//</span> <span class="n">Connect</span> <span class="n">to</span> <span class="n">encoder</span> <span class="s2">&quot;Position&quot;</span> <span class="nb">input</span>
 	<span class="n">Status</span><span class="p">:</span> <span class="n">EL5042_Status</span><span class="p">;</span> <span class="o">//</span> <span class="n">Status</span> <span class="n">struct</span> <span class="n">placeholder</span>
 	<span class="n">Ref</span><span class="p">:</span> <span class="n">ULINT</span><span class="p">;</span> <span class="o">//</span> <span class="n">Encoder</span> <span class="n">zero</span> <span class="n">position</span> <span class="p">(</span><span class="n">useful</span> <span class="k">for</span> <span class="n">aligned</span> <span class="n">position</span> <span class="k">with</span> <span class="n">gantries</span><span class="p">)</span>
 <span class="n">END_STRUCT</span>
 <span class="n">END_TYPE</span>
</pre></div>
</div>
</div>
<div class="section" id="plctask-tctto-tcplcobject">
<h2>PlcTask.TcTTO (TcPlcObject)<a class="headerlink" href="#plctask-tctto-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
</div>
<div class="section" id="pous-motion-fb-motionstage-tcpou-tcplcobject">
<h2>POUs/Motion/FB_MotionStage.TcPOU (TcPlcObject)<a class="headerlink" href="#pous-motion-fb-motionstage-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">FB_MotionStage</span><span class="p">:</span> <span class="n">Declaration</span>

 <span class="n">FUNCTION_BLOCK</span> <span class="n">FB_MotionStage</span>
 <span class="n">VAR_IN_OUT</span>
 	<span class="n">stMotionStage</span><span class="p">:</span> <span class="n">DUT_MotionStage</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 <span class="n">VAR</span>
 	<span class="n">fbDriveVirtual</span><span class="p">:</span> <span class="n">FB_DriveVirtual</span><span class="p">;</span>
 	<span class="n">bExecute</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bFwdHit</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bBwdHit</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">fbExecFallingEdge</span><span class="p">:</span> <span class="n">F_TRIG</span><span class="p">;</span>
 	<span class="n">fbSetEnables</span><span class="p">:</span> <span class="n">FB_SetEnables</span><span class="p">;</span>
 <span class="n">END_VAR</span>

<span class="o">-</span> <span class="n">FB_MotionStage</span><span class="p">:</span> <span class="n">ST</span>

 <span class="o">//</span> <span class="n">Start</span> <span class="k">with</span> <span class="n">an</span> <span class="n">accurate</span> <span class="n">status</span>
 <span class="n">stMotionStage</span><span class="o">.</span><span class="n">Axis</span><span class="o">.</span><span class="n">ReadStatus</span><span class="p">();</span>
 
 <span class="o">//</span> <span class="n">Handle</span> <span class="n">auto</span><span class="o">-</span><span class="n">enable</span> <span class="n">timing</span>
 <span class="n">CASE</span> <span class="n">stMotionStage</span><span class="o">.</span><span class="n">nEnableMode</span> <span class="n">OF</span>
 	<span class="n">ENUM_StageEnableMode</span><span class="o">.</span><span class="n">STAGE_ENABLE_ALWAYS</span><span class="p">:</span>
 		<span class="n">stMotionStage</span><span class="o">.</span><span class="n">bEnable</span> <span class="p">:</span><span class="o">=</span> <span class="n">TRUE</span><span class="p">;</span>
 		<span class="n">bExecute</span> <span class="p">:</span><span class="o">=</span> <span class="n">stMotionStage</span><span class="o">.</span><span class="n">bExecute</span><span class="p">;</span>
 	<span class="n">ENUM_StageEnableMode</span><span class="o">.</span><span class="n">STAGE_ENABLE_NEVER</span><span class="p">:</span>
 		<span class="n">bExecute</span> <span class="p">:</span><span class="o">=</span> <span class="n">stMotionStage</span><span class="o">.</span><span class="n">bExecute</span><span class="p">;</span>
 	<span class="n">ENUM_StageEnableMode</span><span class="o">.</span><span class="n">STAGE_ENABLE_MOTION</span><span class="p">:</span>
 		<span class="n">IF</span> <span class="n">stMotionStage</span><span class="o">.</span><span class="n">bExecute</span> <span class="n">THEN</span>
 			<span class="n">stMotionStage</span><span class="o">.</span><span class="n">bEnable</span> <span class="p">:</span><span class="o">=</span> <span class="n">TRUE</span><span class="p">;</span>
 		<span class="n">END_IF</span>
 		<span class="n">bExecute</span> <span class="p">:</span><span class="o">=</span> <span class="n">stMotionStage</span><span class="o">.</span><span class="n">bExecute</span> <span class="n">AND</span> <span class="n">stMotionStage</span><span class="o">.</span><span class="n">bEnableDone</span><span class="p">;</span>
 <span class="n">END_CASE</span>
 
 <span class="o">//</span> <span class="n">Automatically</span> <span class="n">fill</span> <span class="n">the</span> <span class="n">correct</span> <span class="n">nCmdData</span> <span class="k">for</span> <span class="n">homing</span>
 <span class="n">IF</span> <span class="n">stMotionStage</span><span class="o">.</span><span class="n">nCommand</span> <span class="o">=</span> <span class="n">ENUM_EpicsMotorCmd</span><span class="o">.</span><span class="n">EPICS_MOTOR_HOME</span> <span class="n">THEN</span>
 	<span class="n">stMotionStage</span><span class="o">.</span><span class="n">nCmdData</span> <span class="p">:</span><span class="o">=</span> <span class="n">stMotionStage</span><span class="o">.</span><span class="n">nHomingMode</span><span class="p">;</span>
 <span class="n">END_IF</span>
 
 <span class="n">fbSetEnables</span><span class="p">(</span><span class="n">stMotionStage</span><span class="p">:</span><span class="o">=</span><span class="n">stMotionStage</span><span class="p">);</span>
 
 <span class="o">//</span> <span class="n">Handle</span> <span class="n">standard</span> <span class="n">commands</span> <span class="n">using</span> <span class="n">ESS</span><span class="s1">&#39;s FB</span>
 <span class="n">fbDriveVirtual</span><span class="p">(</span><span class="n">En</span><span class="p">:</span><span class="o">=</span><span class="n">TRUE</span><span class="p">,</span>
 	<span class="n">bEnable</span><span class="p">:</span><span class="o">=</span><span class="n">stMotionStage</span><span class="o">.</span><span class="n">bAllEnable</span><span class="p">,</span>
 	<span class="n">bReset</span><span class="p">:</span><span class="o">=</span><span class="n">stMotionStage</span><span class="o">.</span><span class="n">bReset</span><span class="p">,</span>
 	<span class="n">bExecute</span><span class="p">:</span><span class="o">=</span><span class="n">bExecute</span><span class="p">,</span>
 	<span class="n">nCommand</span><span class="p">:</span><span class="o">=</span><span class="n">INT_TO_UINT</span><span class="p">(</span><span class="n">stMotionStage</span><span class="o">.</span><span class="n">nCommand</span><span class="p">),</span>
 	<span class="n">nCmdData</span><span class="p">:</span><span class="o">=</span><span class="n">INT_TO_UINT</span><span class="p">(</span><span class="n">stMotionStage</span><span class="o">.</span><span class="n">nCmdData</span><span class="p">),</span>
 	<span class="n">fVelocity</span><span class="p">:</span><span class="o">=</span><span class="n">stMotionStage</span><span class="o">.</span><span class="n">fVelocity</span><span class="p">,</span>
 	<span class="n">fPosition</span><span class="p">:</span><span class="o">=</span><span class="n">stMotionStage</span><span class="o">.</span><span class="n">fPosition</span><span class="p">,</span>
 	<span class="n">fAcceleration</span><span class="p">:</span><span class="o">=</span><span class="n">stMotionStage</span><span class="o">.</span><span class="n">fAcceleration</span><span class="p">,</span>
 	<span class="n">fDeceleration</span><span class="p">:</span><span class="o">=</span><span class="n">stMotionStage</span><span class="o">.</span><span class="n">fDeceleration</span><span class="p">,</span>
 	<span class="n">bLimitFwd</span><span class="p">:</span><span class="o">=</span><span class="n">stMotionStage</span><span class="o">.</span><span class="n">bAllForwardEnable</span><span class="p">,</span>
 	<span class="n">bLimitBwd</span><span class="p">:</span><span class="o">=</span><span class="n">stMotionStage</span><span class="o">.</span><span class="n">bAllBackwardEnable</span><span class="p">,</span>
 	<span class="n">bHomeSensor</span><span class="p">:</span><span class="o">=</span><span class="n">stMotionStage</span><span class="o">.</span><span class="n">bHome</span><span class="p">,</span>
 	<span class="n">fHomePosition</span><span class="p">:</span><span class="o">=</span><span class="n">stMotionStage</span><span class="o">.</span><span class="n">fHomePosition</span><span class="p">,</span>
 	<span class="n">bPowerSelf</span><span class="p">:</span><span class="o">=</span><span class="n">stMotionStage</span><span class="o">.</span><span class="n">bPowerSelf</span><span class="p">,</span>
 	<span class="n">nMotionAxisID</span><span class="o">=&gt;</span><span class="n">stMotionStage</span><span class="o">.</span><span class="n">nMotionAxisID</span><span class="p">,</span>
 	<span class="n">bError</span><span class="o">=&gt;</span><span class="n">stMotionStage</span><span class="o">.</span><span class="n">bError</span><span class="p">,</span>
 	<span class="n">sErrorMessage</span><span class="o">=&gt;</span><span class="n">stMotionStage</span><span class="o">.</span><span class="n">sErrorMessage</span><span class="p">,</span>
 	<span class="n">Axis</span><span class="p">:</span><span class="o">=</span><span class="n">stMotionStage</span><span class="o">.</span><span class="n">Axis</span><span class="p">);</span>
 
 <span class="n">IF</span> <span class="n">fbDriveVirtual</span><span class="o">.</span><span class="n">bBusy</span> <span class="n">THEN</span>
 	<span class="n">stMotionStage</span><span class="o">.</span><span class="n">bBusy</span> <span class="p">:</span><span class="o">=</span> <span class="n">TRUE</span><span class="p">;</span>
 	<span class="n">stMotionStage</span><span class="o">.</span><span class="n">bDone</span> <span class="p">:</span><span class="o">=</span> <span class="n">FALSE</span><span class="p">;</span>
 <span class="n">END_IF</span>
 
 <span class="n">IF</span> <span class="n">stMotionStage</span><span class="o">.</span><span class="n">bError</span> <span class="n">THEN</span>
 	<span class="n">stMotionStage</span><span class="o">.</span><span class="n">bBusy</span> <span class="p">:</span><span class="o">=</span> <span class="n">FALSE</span><span class="p">;</span>
 	<span class="n">stMotionStage</span><span class="o">.</span><span class="n">bDone</span> <span class="p">:</span><span class="o">=</span> <span class="n">FALSE</span><span class="p">;</span>
 	<span class="n">stMotionStage</span><span class="o">.</span><span class="n">bEnable</span> <span class="p">:</span><span class="o">=</span> <span class="n">FALSE</span><span class="p">;</span>
 <span class="n">END_IF</span>
 
 <span class="o">//</span> <span class="n">Check</span> <span class="n">the</span> <span class="n">limits</span> <span class="ow">and</span> <span class="n">cancel</span> <span class="n">execution</span> <span class="k">if</span> <span class="n">appropriate</span><span class="o">.</span> <span class="n">Without</span> <span class="n">this</span> <span class="n">block</span> <span class="n">we</span> <span class="n">have</span> <span class="n">infinite</span> <span class="n">error</span> <span class="n">spam</span>
 <span class="n">bFwdHit</span> <span class="p">:</span><span class="o">=</span> <span class="n">stMotionStage</span><span class="o">.</span><span class="n">Axis</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">PositiveDirection</span> <span class="n">AND</span> <span class="n">NOT</span> <span class="n">stMotionStage</span><span class="o">.</span><span class="n">bAllForwardEnable</span><span class="p">;</span>
 <span class="n">bBwdHit</span> <span class="p">:</span><span class="o">=</span> <span class="n">stMotionStage</span><span class="o">.</span><span class="n">Axis</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">NegativeDirection</span> <span class="n">AND</span> <span class="n">NOT</span> <span class="n">stMotionStage</span><span class="o">.</span><span class="n">bAllBackwardEnable</span><span class="p">;</span>
 <span class="n">IF</span> <span class="n">bFwdHit</span> <span class="n">OR</span> <span class="n">bBwdHit</span> <span class="n">THEN</span>
 	<span class="n">stMotionStage</span><span class="o">.</span><span class="n">bExecute</span> <span class="p">:</span><span class="o">=</span> <span class="n">FALSE</span><span class="p">;</span>
 <span class="n">END_IF</span>
 
 <span class="o">//</span> <span class="n">Mark</span> <span class="n">done</span> <span class="k">if</span> <span class="n">settled</span> <span class="ow">or</span> <span class="k">if</span> <span class="n">unexpected</span> <span class="n">stop</span><span class="p">,</span> <span class="n">then</span> <span class="n">reset</span> <span class="n">the</span> <span class="n">FB</span> <span class="k">if</span> <span class="n">there</span> <span class="ow">is</span> <span class="n">no</span> <span class="n">error</span>
 <span class="n">fbExecFallingEdge</span><span class="p">(</span><span class="n">CLK</span><span class="p">:</span><span class="o">=</span><span class="n">stMotionStage</span><span class="o">.</span><span class="n">bExecute</span><span class="p">);</span>
 <span class="n">IF</span> <span class="p">(</span><span class="n">stMotionStage</span><span class="o">.</span><span class="n">Axis</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">InTargetPosition</span> <span class="n">AND</span> <span class="n">NOT</span> <span class="n">fbDriveVirtual</span><span class="o">.</span><span class="n">bBusy</span><span class="p">)</span> <span class="n">OR</span> <span class="n">fbExecFallingEdge</span><span class="o">.</span><span class="n">Q</span> <span class="n">THEN</span>
 	<span class="n">IF</span> <span class="n">NOT</span> <span class="n">stMotionStage</span><span class="o">.</span><span class="n">bDone</span> <span class="n">THEN</span>
 		<span class="n">stMotionStage</span><span class="o">.</span><span class="n">bDone</span> <span class="p">:</span><span class="o">=</span> <span class="n">TRUE</span><span class="p">;</span>
 		<span class="n">stMotionStage</span><span class="o">.</span><span class="n">bBusy</span> <span class="p">:</span><span class="o">=</span> <span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">IF</span> <span class="n">NOT</span> <span class="n">stMotionStage</span><span class="o">.</span><span class="n">Axis</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">Error</span> <span class="n">THEN</span>
 			<span class="n">bExecute</span> <span class="p">:</span><span class="o">=</span> <span class="n">FALSE</span><span class="p">;</span>
 			<span class="n">stMotionStage</span><span class="o">.</span><span class="n">bExecute</span> <span class="p">:</span><span class="o">=</span> <span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">END_IF</span>
 	<span class="n">END_IF</span>
 <span class="n">END_IF</span>
 <span class="n">IF</span> <span class="n">stMotionStage</span><span class="o">.</span><span class="n">nEnableMode</span> <span class="o">=</span> <span class="n">ENUM_StageEnableMode</span><span class="o">.</span><span class="n">STAGE_ENABLE_MOTION</span> <span class="n">AND</span> <span class="n">NOT</span> <span class="n">bExecute</span> <span class="n">THEN</span>
 	<span class="n">IF</span> <span class="n">stMotionStage</span><span class="o">.</span><span class="n">Axis</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">MotionState</span> <span class="o">=</span> <span class="n">MC_AXISSTATE_STANDSTILL</span> <span class="n">THEN</span>
 		<span class="n">stMotionStage</span><span class="o">.</span><span class="n">bEnable</span> <span class="p">:</span><span class="o">=</span> <span class="n">FALSE</span><span class="p">;</span>
 	<span class="n">END_IF</span>
 <span class="n">END_IF</span>
 
 <span class="o">//</span> <span class="n">Get</span> <span class="n">a</span> <span class="n">definitive</span> <span class="n">bEnabled</span> <span class="n">reading</span>
 <span class="n">CASE</span> <span class="n">stMotionStage</span><span class="o">.</span><span class="n">Axis</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">MotionState</span> <span class="n">OF</span>
 	<span class="o">//</span> <span class="n">We</span> <span class="n">are</span> <span class="ow">not</span> <span class="n">enabled</span> <span class="k">if</span> <span class="n">there</span> <span class="ow">is</span> <span class="n">an</span> <span class="n">issue</span>
 	<span class="n">MC_AXISSTATE_UNDEFINED</span><span class="p">,</span> <span class="n">MC_AXISSTATE_DISABLED</span><span class="p">,</span> <span class="n">MC_AXISSTATE_ERRORSTOP</span><span class="p">:</span>
 		<span class="n">stMotionStage</span><span class="o">.</span><span class="n">bEnableDone</span> <span class="p">:</span><span class="o">=</span> <span class="n">FALSE</span><span class="p">;</span>
 	<span class="n">ELSE</span>
 		<span class="n">stMotionStage</span><span class="o">.</span><span class="n">bEnableDone</span> <span class="p">:</span><span class="o">=</span> <span class="n">TRUE</span><span class="p">;</span>
 <span class="n">END_CASE</span>
 
 <span class="o">//</span> <span class="n">Handle</span> <span class="n">the</span> <span class="n">brake</span><span class="o">.</span> <span class="n">TRUE</span> <span class="n">means</span> <span class="n">brake</span> <span class="n">disabled</span><span class="o">.</span>
 <span class="n">CASE</span> <span class="n">stMotionStage</span><span class="o">.</span><span class="n">nBrakeMode</span> <span class="n">OF</span>
 	<span class="n">ENUM_StageBrakeMode</span><span class="o">.</span><span class="n">STAGE_BRAKE_DISABLED</span><span class="p">:</span>
 		<span class="n">stMotionStage</span><span class="o">.</span><span class="n">bBrakeRelease</span> <span class="p">:</span><span class="o">=</span> <span class="n">stMotionStage</span><span class="o">.</span><span class="n">bEnableDone</span> <span class="n">AND</span> <span class="n">stMotionStage</span><span class="o">.</span><span class="n">bExecute</span><span class="p">;</span>
 	<span class="n">ENUM_StageBrakeMode</span><span class="o">.</span><span class="n">STAGE_BRAKE_STANDSTILL</span><span class="p">:</span>
 		<span class="n">IF</span> <span class="n">stMotionStage</span><span class="o">.</span><span class="n">Axis</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">MotionState</span> <span class="o">=</span> <span class="n">MC_AXISSTATE_STANDSTILL</span> <span class="n">THEN</span>
 			<span class="n">stMotionStage</span><span class="o">.</span><span class="n">bBrakeRelease</span> <span class="p">:</span><span class="o">=</span> <span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">ELSE</span>
 			<span class="n">stMotionStage</span><span class="o">.</span><span class="n">bBrakeRelease</span> <span class="p">:</span><span class="o">=</span> <span class="n">TRUE</span><span class="p">;</span>
 		<span class="n">END_IF</span>
 <span class="n">END_CASE</span>
 <span class="n">CASE</span> <span class="n">stMotionStage</span><span class="o">.</span><span class="n">Axis</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">MotionState</span> <span class="n">OF</span>
 	<span class="n">MC_AXISSTATE_UNDEFINED</span><span class="p">,</span> <span class="n">MC_AXISSTATE_ERRORSTOP</span><span class="p">:</span>
 		<span class="n">stMotionStage</span><span class="o">.</span><span class="n">bBrakeRelease</span> <span class="p">:</span><span class="o">=</span> <span class="n">FALSE</span><span class="p">;</span>
 <span class="n">END_CASE</span>
 
 <span class="o">//</span> <span class="n">Sync</span> <span class="n">the</span> <span class="n">epics</span> <span class="n">status</span> <span class="n">struct</span>
 <span class="n">stMotionStage</span><span class="o">.</span><span class="n">stAxisStatus</span> <span class="p">:</span><span class="o">=</span> <span class="n">fbDriveVirtual</span><span class="o">.</span><span class="n">stAxisStatus</span><span class="p">;</span>
 <span class="n">stMotionStage</span><span class="o">.</span><span class="n">stAxisStatus</span><span class="o">.</span><span class="n">bEnabled</span> <span class="p">:</span><span class="o">=</span> <span class="n">stMotionStage</span><span class="o">.</span><span class="n">bEnableDone</span><span class="p">;</span>
 
 <span class="o">//</span> <span class="n">Reset</span> <span class="n">everything</span> <span class="n">when</span> <span class="n">bReset</span> <span class="ow">is</span> <span class="n">flagged</span>
 <span class="n">IF</span> <span class="n">stMotionStage</span><span class="o">.</span><span class="n">bReset</span> <span class="n">THEN</span>
 	<span class="n">stMotionStage</span><span class="o">.</span><span class="n">bEnable</span> <span class="p">:</span><span class="o">=</span> <span class="n">FALSE</span><span class="p">;</span>
 	<span class="n">stMotionStage</span><span class="o">.</span><span class="n">bReset</span> <span class="p">:</span><span class="o">=</span> <span class="n">FALSE</span><span class="p">;</span>
 	<span class="n">stMotionStage</span><span class="o">.</span><span class="n">bExecute</span> <span class="p">:</span><span class="o">=</span> <span class="n">FALSE</span><span class="p">;</span>
 	<span class="n">bExecute</span> <span class="p">:</span><span class="o">=</span> <span class="n">FALSE</span><span class="p">;</span>
 <span class="n">END_IF</span>
 
 <span class="o">//</span> <span class="n">Ignore</span> <span class="n">homing</span> <span class="k">if</span> <span class="n">we</span> <span class="n">have</span> <span class="n">the</span> <span class="n">setting</span> <span class="k">for</span> <span class="n">it</span>
 <span class="o">//</span> <span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span> <span class="k">for</span> <span class="n">pre</span><span class="o">-</span><span class="n">calibrated</span> <span class="n">absolute</span> <span class="n">encoders</span>
 <span class="n">IF</span> <span class="n">stMotionStage</span><span class="o">.</span><span class="n">nHomingMode</span> <span class="o">=</span> <span class="n">ENUM_EpicsHomeCmd</span><span class="o">.</span><span class="n">EPICS_MOTOR_HOME_NONE</span> <span class="n">THEN</span>
 	<span class="n">stMotionStage</span><span class="o">.</span><span class="n">stAxisStatus</span><span class="o">.</span><span class="n">bHomed</span> <span class="p">:</span><span class="o">=</span> <span class="n">TRUE</span><span class="p">;</span>
 <span class="n">END_IF</span>
</pre></div>
</div>
</div>
<div class="section" id="pous-motion-fb-setenables-tcpou-tcplcobject">
<h2>POUs/Motion/FB_SetEnables.TcPOU (TcPlcObject)<a class="headerlink" href="#pous-motion-fb-setenables-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">FB_SetEnables</span><span class="p">:</span> <span class="n">Declaration</span>

 <span class="n">FUNCTION_BLOCK</span> <span class="n">FB_SetEnables</span>
 <span class="n">VAR_IN_OUT</span>
 	<span class="n">stMotionStage</span><span class="p">:</span> <span class="n">DUT_MotionStage</span><span class="p">;</span>
 <span class="n">END_VAR</span>

<span class="o">-</span> <span class="n">FB_SetEnables</span><span class="p">:</span> <span class="n">ST</span>

 <span class="n">stMotionStage</span><span class="o">.</span><span class="n">bAllForwardEnable</span> <span class="p">:</span><span class="o">=</span> <span class="n">stMotionStage</span><span class="o">.</span><span class="n">bLimitForwardEnable</span> <span class="n">AND</span> <span class="p">(</span><span class="n">stMotionStage</span><span class="o">.</span><span class="n">bGantryForwardEnable</span> <span class="n">OR</span> <span class="n">NOT</span> <span class="n">stMotionStage</span><span class="o">.</span><span class="n">bGantryAxis</span><span class="p">);</span>
 <span class="n">stMotionStage</span><span class="o">.</span><span class="n">bAllBackwardEnable</span> <span class="p">:</span><span class="o">=</span> <span class="n">stMotionStage</span><span class="o">.</span><span class="n">bLimitBackwardEnable</span> <span class="n">AND</span> <span class="p">(</span><span class="n">stMotionStage</span><span class="o">.</span><span class="n">bGantryBackwardEnable</span> <span class="n">OR</span> <span class="n">NOT</span> <span class="n">stMotionStage</span><span class="o">.</span><span class="n">bGantryAxis</span><span class="p">);</span>
 
 <span class="n">stMotionStage</span><span class="o">.</span><span class="n">bAllEnable</span> <span class="p">:</span><span class="o">=</span> <span class="n">stMotionStage</span><span class="o">.</span><span class="n">bEnable</span> <span class="n">AND</span> <span class="n">stMotionStage</span><span class="o">.</span><span class="n">bHardwareEnable</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="section" id="pous-motion-fb-stateptpmove-tcpou-tcplcobject">
<h2>POUs/Motion/FB_StatePTPMove.TcPOU (TcPlcObject)<a class="headerlink" href="#pous-motion-fb-stateptpmove-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">FB_StatePTPMove</span><span class="p">:</span> <span class="n">Declaration</span>

 <span class="n">FUNCTION_BLOCK</span> <span class="n">FB_StatePTPMove</span>
 <span class="o">//</span> <span class="n">For</span> <span class="n">your</span> <span class="n">pytmc</span> <span class="n">pragma</span> <span class="n">on</span> <span class="n">this</span> <span class="n">block</span><span class="p">,</span> <span class="n">specify</span> <span class="n">io</span> <span class="n">accordingly</span><span class="p">:</span>
 <span class="o">//</span> <span class="mf">1.</span> <span class="n">use</span> <span class="nb">input</span> <span class="ow">or</span> <span class="n">i</span> <span class="k">if</span> <span class="n">you</span> <span class="n">want</span> <span class="n">the</span> <span class="nb">set</span> <span class="n">position</span> <span class="n">to</span> <span class="n">be</span> <span class="n">immutable</span>
 <span class="o">//</span> <span class="mf">2.</span> <span class="n">use</span> <span class="n">io</span> <span class="k">if</span> <span class="n">you</span> <span class="n">want</span> <span class="n">to</span> <span class="nb">set</span> <span class="n">position</span> <span class="n">to</span> <span class="n">be</span> <span class="n">mutable</span> <span class="kn">from</span> <span class="nn">epics</span>
 <span class="n">VAR_INPUT</span>
 	<span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="p">:</span><span class="o">=</span> <span class="s1">&#39;</span>
 		<span class="n">pv</span><span class="p">:</span>
 	<span class="s1">&#39;}</span>
 	<span class="n">stPositionState</span><span class="p">:</span> <span class="n">DUT_PositionState</span><span class="p">;</span>
 	
 	<span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="p">:</span><span class="o">=</span> <span class="s1">&#39;</span>
 		<span class="n">pv</span><span class="p">:</span> <span class="n">GO</span>
 		<span class="n">io</span><span class="p">:</span> <span class="n">io</span>
 		<span class="n">field</span><span class="p">:</span> <span class="n">ZNAM</span> <span class="kc">False</span>
 		<span class="n">field</span><span class="p">:</span> <span class="n">ONAM</span> <span class="kc">True</span>
 	<span class="s1">&#39;}</span>
 	<span class="n">bExecute</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	
 	<span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="p">:</span><span class="o">=</span> <span class="s1">&#39;</span>
 		<span class="n">pv</span><span class="p">:</span> <span class="n">MOVE_OK</span>
 		<span class="n">io</span><span class="p">:</span> <span class="nb">input</span>
 		<span class="n">field</span><span class="p">:</span> <span class="n">ZNAM</span> <span class="kc">False</span>
 		<span class="n">field</span><span class="p">:</span> <span class="n">ONAM</span> <span class="kc">True</span>
 	<span class="s1">&#39;}</span>
 	<span class="n">bMoveOk</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 <span class="n">VAR_IN_OUT</span>
 	<span class="n">stMotionStage</span><span class="p">:</span> <span class="n">DUT_MotionStage</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 <span class="n">VAR_OUTPUT</span>
 	<span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="p">:</span><span class="o">=</span> <span class="s1">&#39;</span>
 		<span class="n">pv</span><span class="p">:</span> <span class="n">AT_STATE</span>
 		<span class="n">io</span><span class="p">:</span> <span class="nb">input</span>
 		<span class="n">field</span><span class="p">:</span> <span class="n">ZNAM</span> <span class="kc">False</span>
 		<span class="n">field</span><span class="p">:</span> <span class="n">ONAM</span> <span class="kc">True</span>
 	<span class="s1">&#39;}</span>
 	<span class="n">bAtState</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	
 	<span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="p">:</span><span class="o">=</span> <span class="s1">&#39;</span>
 		<span class="n">pv</span><span class="p">:</span> <span class="n">DMOV</span>
 		<span class="n">io</span><span class="p">:</span> <span class="nb">input</span>
 		<span class="n">field</span><span class="p">:</span> <span class="n">ZNAM</span> <span class="kc">False</span>
 		<span class="n">field</span><span class="p">:</span> <span class="n">ONAM</span> <span class="kc">True</span>
 	<span class="s1">&#39;}</span>
 	<span class="n">bDone</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	
 	<span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="p">:</span><span class="o">=</span> <span class="s1">&#39;</span>
 		<span class="n">pv</span><span class="p">:</span> <span class="n">BUSY</span>
 		<span class="n">io</span><span class="p">:</span> <span class="nb">input</span>
 		<span class="n">field</span><span class="p">:</span> <span class="n">ZNAM</span> <span class="kc">False</span>
 		<span class="n">field</span><span class="p">:</span> <span class="n">ONAM</span> <span class="kc">True</span>
 	<span class="s1">&#39;}</span>
 	<span class="n">bBusy</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	
 	<span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="p">:</span><span class="o">=</span> <span class="s1">&#39;</span>
 		<span class="n">pv</span><span class="p">:</span> <span class="n">ERR</span>
 		<span class="n">io</span><span class="p">:</span> <span class="nb">input</span>
 		<span class="n">field</span><span class="p">:</span> <span class="n">ZNAM</span> <span class="kc">False</span>
 		<span class="n">field</span><span class="p">:</span> <span class="n">ONAM</span> <span class="kc">True</span>
 	<span class="s1">&#39;}</span>
 	<span class="n">bError</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	
 	<span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="p">:</span><span class="o">=</span> <span class="s1">&#39;</span>
 		<span class="n">pv</span><span class="p">:</span> <span class="n">ERRMSG</span>
 		<span class="n">io</span><span class="p">:</span> <span class="nb">input</span>
 	<span class="s1">&#39;}</span>
 	<span class="n">sError</span><span class="p">:</span> <span class="n">STRING</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 <span class="n">VAR</span>
 	<span class="n">bExecTrig</span><span class="p">:</span> <span class="n">R_TRIG</span><span class="p">;</span>
 	<span class="n">bExecEnd</span><span class="p">:</span> <span class="n">F_TRIG</span><span class="p">;</span>
 	<span class="n">fActPosition</span><span class="p">:</span> <span class="n">LREAL</span><span class="p">;</span>
 	<span class="n">fLowPos</span><span class="p">:</span> <span class="n">LREAL</span><span class="p">;</span>
 	<span class="n">fHighPos</span><span class="p">:</span> <span class="n">LREAL</span><span class="p">;</span>
 <span class="n">END_VAR</span>

<span class="o">-</span> <span class="n">FB_StatePTPMove</span><span class="p">:</span> <span class="n">ST</span>

 <span class="n">bExecTrig</span><span class="p">(</span><span class="n">CLK</span><span class="p">:</span><span class="o">=</span><span class="n">bExecute</span><span class="p">);</span>
 <span class="n">IF</span> <span class="n">bExecTrig</span><span class="o">.</span><span class="n">Q</span> <span class="n">AND</span> <span class="n">bMoveOk</span> <span class="n">THEN</span>
 	<span class="n">IF</span> <span class="n">NOT</span> <span class="n">stMotionStage</span><span class="o">.</span><span class="n">bBusy</span> <span class="n">AND</span> <span class="n">NOT</span> <span class="n">stMotionStage</span><span class="o">.</span><span class="n">bError</span> <span class="n">THEN</span>
 		<span class="n">stMotionStage</span><span class="o">.</span><span class="n">bExecute</span> <span class="p">:</span><span class="o">=</span> <span class="n">TRUE</span><span class="p">;</span>
 		<span class="n">stMotionStage</span><span class="o">.</span><span class="n">nCommand</span> <span class="p">:</span><span class="o">=</span> <span class="n">ENUM_EpicsMotorCmd</span><span class="o">.</span><span class="n">EPICS_MOTOR_MOVE_ABS</span><span class="p">;</span>
 		<span class="n">stMotionStage</span><span class="o">.</span><span class="n">fPosition</span> <span class="p">:</span><span class="o">=</span> <span class="n">stPositionState</span><span class="o">.</span><span class="n">fPosition</span><span class="p">;</span>
 		<span class="n">stMotionStage</span><span class="o">.</span><span class="n">fVelocity</span> <span class="p">:</span><span class="o">=</span> <span class="n">stPositionState</span><span class="o">.</span><span class="n">fVelocity</span><span class="p">;</span>
 		<span class="n">stMotionStage</span><span class="o">.</span><span class="n">fAcceleration</span> <span class="p">:</span><span class="o">=</span> <span class="n">stPositionState</span><span class="o">.</span><span class="n">fAccel</span><span class="p">;</span>
 		<span class="n">stMotionStage</span><span class="o">.</span><span class="n">fDeceleration</span> <span class="p">:</span><span class="o">=</span> <span class="n">stPositionState</span><span class="o">.</span><span class="n">fDecel</span><span class="p">;</span>
 		<span class="n">bDone</span> <span class="p">:</span><span class="o">=</span> <span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">bBusy</span> <span class="p">:</span><span class="o">=</span> <span class="n">TRUE</span><span class="p">;</span>
 	<span class="n">END_IF</span>
 <span class="n">END_IF</span>
 <span class="n">bError</span> <span class="p">:</span><span class="o">=</span> <span class="n">stMotionStage</span><span class="o">.</span><span class="n">bError</span><span class="p">;</span>
 <span class="n">sError</span> <span class="p">:</span><span class="o">=</span> <span class="n">stMotionStage</span><span class="o">.</span><span class="n">sErrorMessage</span><span class="p">;</span>
 
 <span class="n">fActPosition</span> <span class="p">:</span><span class="o">=</span> <span class="n">stMotionStage</span><span class="o">.</span><span class="n">stAxisStatus</span><span class="o">.</span><span class="n">fActPosition</span><span class="p">;</span>
 <span class="n">fLowPos</span> <span class="p">:</span><span class="o">=</span> <span class="n">stPositionState</span><span class="o">.</span><span class="n">fPosition</span> <span class="o">-</span> <span class="n">stPositionState</span><span class="o">.</span><span class="n">fDelta</span><span class="p">;</span>
 <span class="n">fHighPos</span> <span class="p">:</span><span class="o">=</span> <span class="n">stPositionState</span><span class="o">.</span><span class="n">fPosition</span> <span class="o">+</span> <span class="n">stPositionState</span><span class="o">.</span><span class="n">fDelta</span><span class="p">;</span>
 <span class="n">IF</span> <span class="p">(</span><span class="n">fLowPos</span> <span class="o">&lt;</span> <span class="n">fActPosition</span><span class="p">)</span> <span class="n">AND</span> <span class="p">(</span><span class="n">fHighPos</span> <span class="o">&gt;</span> <span class="n">fActPosition</span><span class="p">)</span> <span class="n">THEN</span>
 	<span class="n">bAtState</span> <span class="p">:</span><span class="o">=</span> <span class="n">TRUE</span><span class="p">;</span>
 	<span class="n">IF</span> <span class="n">NOT</span> <span class="n">stMotionStage</span><span class="o">.</span><span class="n">bBusy</span> <span class="n">THEN</span>
 		<span class="n">bDone</span> <span class="p">:</span><span class="o">=</span> <span class="n">TRUE</span><span class="p">;</span>
 		<span class="n">bBusy</span> <span class="p">:</span><span class="o">=</span> <span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">bExecute</span> <span class="p">:</span><span class="o">=</span> <span class="n">FALSE</span><span class="p">;</span>
 	<span class="n">END_IF</span>
 <span class="n">ELSE</span>
 	<span class="n">bAtState</span> <span class="p">:</span><span class="o">=</span> <span class="n">FALSE</span><span class="p">;</span>
 <span class="n">END_IF</span>
 
 <span class="n">bExecEnd</span><span class="p">(</span><span class="n">CLK</span><span class="p">:</span><span class="o">=</span><span class="n">bExecute</span><span class="p">);</span>
 <span class="n">IF</span> <span class="n">bExecEnd</span><span class="o">.</span><span class="n">Q</span> <span class="n">AND</span> <span class="n">bBusy</span> <span class="n">THEN</span>
 	<span class="n">stMotionStage</span><span class="o">.</span><span class="n">bExecute</span> <span class="p">:</span><span class="o">=</span> <span class="n">FALSE</span><span class="p">;</span>
 <span class="n">END_IF</span>
 
 <span class="n">IF</span> <span class="n">NOT</span> <span class="n">stMotionStage</span><span class="o">.</span><span class="n">bExecute</span> <span class="n">OR</span> <span class="n">NOT</span> <span class="n">bExecute</span> <span class="n">THEN</span>
 	<span class="n">bDone</span> <span class="p">:</span><span class="o">=</span> <span class="n">TRUE</span><span class="p">;</span>
 	<span class="n">bBusy</span> <span class="p">:</span><span class="o">=</span> <span class="n">FALSE</span><span class="p">;</span>
 	<span class="n">bExecute</span> <span class="p">:</span><span class="o">=</span> <span class="n">FALSE</span><span class="p">;</span>
 <span class="n">END_IF</span>
</pre></div>
</div>
</div>
<div class="section" id="pous-motion-gantry-fb-gantryautocoupling-tcpou-tcplcobject">
<h2>POUs/Motion/Gantry/FB_GantryAutoCoupling.TcPOU (TcPlcObject)<a class="headerlink" href="#pous-motion-gantry-fb-gantryautocoupling-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">FB_GantryAutoCoupling</span><span class="p">:</span> <span class="n">Declaration</span>

 <span class="n">FUNCTION_BLOCK</span> <span class="n">FB_GantryAutoCoupling</span>
 <span class="n">VAR_INPUT</span>
 	<span class="n">nGantryTol</span> <span class="p">:</span> <span class="n">LINT</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 <span class="n">VAR_OUTPUT</span>
 	<span class="n">bGantryAlreadyCoupled</span> <span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 <span class="n">VAR_IN_OUT</span>
 	<span class="n">Master</span> <span class="p">:</span> <span class="n">DUT_MotionStage</span><span class="p">;</span>
 	<span class="n">MasterEnc</span> <span class="p">:</span> <span class="n">ST_RenishawAbsEnc</span><span class="p">;</span>
 	<span class="n">Slave</span> <span class="p">:</span> <span class="n">DUT_MotionStage</span><span class="p">;</span>
 	<span class="n">SlaveEnc</span> <span class="p">:</span> <span class="n">ST_RenishawAbsEnc</span><span class="p">;</span>
 	<span class="n">bExecuteCouple</span> <span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bExecuteDecouple</span> <span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 <span class="n">VAR</span>
 	<span class="n">gantry_diff_limit</span> <span class="p">:</span> <span class="n">FB_GantryDiffVirtualLimitSwitch</span><span class="p">;</span>
 	<span class="n">couple</span> <span class="p">:</span> <span class="n">MC_GEARIN</span><span class="p">;</span>
 	<span class="n">decouple</span> <span class="p">:</span> <span class="n">MC_GEAROUT</span><span class="p">;</span>
 	<span class="n">bInitComplete</span> <span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">fbSetEnables</span> <span class="p">:</span> <span class="n">FB_SetEnables</span><span class="p">;</span>
 <span class="n">END_VAR</span>

<span class="o">-</span> <span class="n">FB_GantryAutoCoupling</span><span class="p">:</span> <span class="n">ST</span>

 <span class="o">//</span> <span class="n">Designate</span> <span class="n">Master</span> <span class="ow">and</span> <span class="n">SLave</span> <span class="n">Axes</span>
 <span class="n">Master</span><span class="o">.</span><span class="n">bGantryAxis</span> <span class="p">:</span><span class="o">=</span> <span class="n">TRUE</span><span class="p">;</span>
 <span class="n">Slave</span><span class="o">.</span><span class="n">bGantryAxis</span> <span class="p">:</span><span class="o">=</span> <span class="n">TRUE</span><span class="p">;</span>
 
 <span class="n">Master</span><span class="o">.</span><span class="n">nGantryTol</span> <span class="p">:</span><span class="o">=</span> <span class="n">nGantryTol</span><span class="p">;</span>
 <span class="n">Slave</span><span class="o">.</span><span class="n">nGantryTol</span> <span class="p">:</span><span class="o">=</span> <span class="n">Master</span><span class="o">.</span><span class="n">nGantryTol</span><span class="p">;</span>
 
 <span class="o">//</span> <span class="n">Activate</span> <span class="n">Gantry</span> <span class="n">Virtual</span> <span class="n">Limit</span> <span class="n">Switch</span>
 <span class="n">gantry_diff_limit</span><span class="p">(</span><span class="n">Penc</span><span class="p">:</span><span class="o">=</span><span class="n">MasterEnc</span><span class="p">,</span> <span class="n">SEnc</span><span class="p">:</span><span class="o">=</span><span class="n">SlaveEnc</span><span class="p">,</span> <span class="n">GantDiffTol</span><span class="p">:</span><span class="o">=</span><span class="n">Master</span><span class="o">.</span><span class="n">nGantryTol</span><span class="p">,</span>
 				  <span class="n">PLimFwd</span><span class="o">=&gt;</span><span class="n">Master</span><span class="o">.</span><span class="n">bGantryForwardEnable</span><span class="p">,</span> <span class="n">PLimBwd</span><span class="o">=&gt;</span><span class="n">Master</span><span class="o">.</span><span class="n">bGantryBackwardEnable</span><span class="p">,</span>
 				  <span class="n">SLimFwd</span><span class="o">=&gt;</span><span class="n">Slave</span><span class="o">.</span><span class="n">bGantryForwardEnable</span><span class="p">,</span> <span class="n">SLimBwd</span><span class="o">=&gt;</span><span class="n">Slave</span><span class="o">.</span><span class="n">bGantryBackwardEnable</span><span class="p">);</span>
 
 <span class="o">//</span> <span class="n">Coupling</span> <span class="n">Status</span> <span class="n">Bit</span>
 <span class="n">bGantryAlreadyCoupled</span> <span class="p">:</span><span class="o">=</span> <span class="n">Master</span><span class="o">.</span><span class="n">Axis</span><span class="o">.</span><span class="n">NcToPlc</span><span class="o">.</span><span class="n">CoupleState</span><span class="o">=</span><span class="mi">1</span> <span class="n">AND</span> <span class="n">Slave</span><span class="o">.</span><span class="n">Axis</span><span class="o">.</span><span class="n">NcToPlc</span><span class="o">.</span><span class="n">CoupleState</span><span class="o">=</span><span class="mi">3</span><span class="p">;</span>
 
 <span class="n">fbSetEnables</span><span class="p">(</span><span class="n">stMotionStage</span><span class="p">:</span><span class="o">=</span><span class="n">Master</span><span class="p">);</span>
 <span class="n">fbSetEnables</span><span class="p">(</span><span class="n">stMotionStage</span><span class="p">:</span><span class="o">=</span><span class="n">Slave</span><span class="p">);</span>
 
 <span class="n">IF</span> <span class="n">bGantryAlreadyCoupled</span> <span class="n">THEN</span>
 	<span class="n">Master</span><span class="o">.</span><span class="n">bGantryForwardEnable</span> <span class="p">:</span><span class="o">=</span> <span class="n">Master</span><span class="o">.</span><span class="n">bGantryForwardEnable</span> <span class="n">AND</span> <span class="n">Slave</span><span class="o">.</span><span class="n">bAllForwardEnable</span><span class="p">;</span>
 	<span class="n">Slave</span><span class="o">.</span><span class="n">bGantryForwardEnable</span> <span class="p">:</span><span class="o">=</span> <span class="n">Master</span><span class="o">.</span><span class="n">bAllForwardEnable</span> <span class="n">AND</span> <span class="n">Slave</span><span class="o">.</span><span class="n">bGantryForwardEnable</span><span class="p">;</span>
 	
 	<span class="n">Master</span><span class="o">.</span><span class="n">bGantryBackwardEnable</span> <span class="p">:</span><span class="o">=</span> <span class="n">Master</span><span class="o">.</span><span class="n">bGantryBackwardEnable</span> <span class="n">AND</span> <span class="n">Slave</span><span class="o">.</span><span class="n">bAllBackwardEnable</span><span class="p">;</span>
 	<span class="n">Slave</span><span class="o">.</span><span class="n">bGantryBackwardEnable</span> <span class="p">:</span><span class="o">=</span> <span class="n">Master</span><span class="o">.</span><span class="n">bAllBackwardEnable</span> <span class="n">AND</span> <span class="n">Slave</span><span class="o">.</span><span class="n">bGantryBackwardEnable</span><span class="p">;</span>
 <span class="n">END_IF</span>
 
 
 <span class="o">//</span> <span class="n">Coupling</span> <span class="n">states</span>
 <span class="o">//</span> <span class="n">Auto</span><span class="o">-</span><span class="n">coupling</span> <span class="n">at</span> <span class="n">init</span> <span class="ow">and</span> <span class="n">auto</span><span class="o">-</span><span class="n">reset</span> <span class="n">of</span> <span class="n">coupling</span> <span class="n">boolean</span>
 <span class="n">bExecuteCouple</span> <span class="n">S</span><span class="o">=</span> <span class="n">NOT</span> <span class="n">bInitComplete</span><span class="p">;</span>
 
 <span class="n">bExecuteCouple</span> <span class="n">R</span><span class="o">=</span> <span class="n">couple</span><span class="o">.</span><span class="n">Busy</span> <span class="n">OR</span> <span class="n">bGantryAlreadyCoupled</span><span class="p">;</span>
 <span class="n">couple</span><span class="p">(</span><span class="n">Master</span><span class="p">:</span><span class="o">=</span><span class="n">Master</span><span class="o">.</span><span class="n">Axis</span><span class="p">,</span> <span class="n">Slave</span><span class="p">:</span><span class="o">=</span><span class="n">Slave</span><span class="o">.</span><span class="n">Axis</span><span class="p">,</span> <span class="n">Execute</span><span class="p">:</span><span class="o">=</span><span class="n">bExecuteCouple</span><span class="p">);</span>
 
 <span class="n">bInitComplete</span> <span class="n">S</span><span class="o">=</span> <span class="n">bGantryAlreadyCoupled</span><span class="p">;</span>
 
 <span class="o">//</span> <span class="n">Decoupling</span> <span class="k">with</span> <span class="n">auto</span><span class="o">-</span><span class="n">reset</span> <span class="n">of</span> <span class="n">coupling</span> <span class="n">boolean</span>
 <span class="n">bExecuteDecouple</span> <span class="n">R</span><span class="o">=</span> <span class="n">decouple</span><span class="o">.</span><span class="n">Busy</span> <span class="n">OR</span> <span class="n">NOT</span> <span class="n">bGantryAlreadyCoupled</span><span class="p">;</span>
 <span class="n">decouple</span><span class="p">(</span><span class="n">Slave</span><span class="p">:</span><span class="o">=</span><span class="n">Slave</span><span class="o">.</span><span class="n">Axis</span><span class="p">,</span> <span class="n">Execute</span><span class="p">:</span><span class="o">=</span><span class="n">bExecuteDecouple</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="pous-motion-gantry-fb-gantrydiffvirtuallimitswitch-tcpou-tcplcobject">
<h2>POUs/Motion/Gantry/FB_GantryDiffVirtualLimitSwitch.TcPOU (TcPlcObject)<a class="headerlink" href="#pous-motion-gantry-fb-gantrydiffvirtuallimitswitch-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">FB_GantryDiffVirtualLimitSwitch</span><span class="p">:</span> <span class="n">Declaration</span>

 <span class="n">FUNCTION_BLOCK</span> <span class="n">FB_GantryDiffVirtualLimitSwitch</span>
 <span class="n">VAR_INPUT</span>
 	<span class="n">PEnc</span><span class="p">:</span> <span class="n">ST_RenishawAbsEnc</span><span class="p">;</span> <span class="o">//</span> <span class="n">Primary</span> <span class="n">axis</span> <span class="n">encoder</span> <span class="p">(</span><span class="n">usually</span> <span class="n">the</span> <span class="n">upstream</span> <span class="n">one</span><span class="p">)</span>
 	<span class="n">SEnc</span><span class="p">:</span> <span class="n">ST_RenishawAbsEnc</span><span class="p">;</span> <span class="o">//</span> <span class="n">Secondary</span> <span class="n">axis</span> <span class="n">encoder</span> <span class="p">(</span><span class="n">couples</span> <span class="n">to</span> <span class="n">the</span> <span class="n">primary</span><span class="p">)</span>
 	
 	<span class="n">GantDiffTol</span><span class="p">:</span> <span class="n">LINT</span><span class="p">;</span>		<span class="o">//</span> <span class="n">Gantry</span> <span class="n">differenace</span> <span class="n">tolerance</span> <span class="ow">in</span> <span class="n">encoder</span> <span class="n">counts</span>
 <span class="n">END_VAR</span>
 <span class="n">VAR_OUTPUT</span>
 	<span class="n">PLimFwd</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span> <span class="o">//</span> <span class="n">Primary</span> <span class="n">axis</span> <span class="n">forward</span> <span class="n">direction</span> <span class="n">enable</span>
 	<span class="n">PLimBwd</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span> <span class="o">//</span> <span class="n">Primary</span> <span class="n">axis</span> <span class="n">reverse</span> <span class="n">direction</span> <span class="n">enable</span>
 	<span class="n">SLimFwd</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span> <span class="o">//</span> <span class="n">Secondary</span> <span class="n">axis</span> <span class="n">forward</span> <span class="n">direction</span> <span class="n">enable</span>
 	<span class="n">SLimBwd</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span> <span class="o">//</span> <span class="n">Secondary</span> <span class="n">axis</span> <span class="n">reverse</span> <span class="n">direction</span> <span class="n">enable</span>
 <span class="n">END_VAR</span>
 <span class="n">VAR</span>
 	<span class="n">GantryDiff</span><span class="p">:</span> <span class="n">LINT</span><span class="p">;</span>
 <span class="n">END_VAR</span>

<span class="o">-</span> <span class="n">FB_GantryDiffVirtualLimitSwitch</span><span class="p">:</span> <span class="n">ST</span>

 <span class="p">(</span><span class="o">*</span> <span class="n">Gantry</span> <span class="n">Difference</span> <span class="n">Virtual</span> <span class="n">Limit</span> <span class="n">Switch</span>
 <span class="n">A</span><span class="o">.</span> <span class="n">Wallace</span> <span class="mi">2017</span><span class="o">-</span><span class="mi">2</span><span class="o">-</span><span class="mi">15</span>
 
 <span class="n">Determines</span> <span class="n">which</span> <span class="n">direction</span> <span class="ow">is</span> <span class="n">disabled</span> <span class="n">due</span> <span class="n">to</span> <span class="n">it</span> <span class="n">increasing</span> <span class="n">the</span> <span class="n">gantry</span> <span class="n">difference</span><span class="o">.</span>
 <span class="n">Refer</span> <span class="n">to</span> <span class="n">the</span> <span class="n">ESD</span> <span class="k">for</span> <span class="n">actual</span> <span class="n">conventions</span><span class="o">.</span>
 
 <span class="n">A</span> <span class="n">positive</span> <span class="n">gantry</span> <span class="n">error</span> <span class="n">refers</span> <span class="n">to</span> <span class="n">a</span> <span class="n">CCW</span> <span class="n">clocked</span> <span class="n">assembly</span><span class="p">:</span>
 <span class="n">eg</span><span class="o">.</span> <span class="k">for</span> <span class="n">X</span>
 <span class="n">X1</span> <span class="n">upstream</span><span class="p">,</span> <span class="n">X2</span> <span class="n">downstream</span><span class="o">.</span> <span class="n">Primary</span> <span class="n">axis</span> <span class="ow">is</span> <span class="n">always</span> <span class="n">upstream</span><span class="o">.</span>
 <span class="n">Gantry</span> <span class="n">difference</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="n">when</span>
 <span class="n">X2</span><span class="o">&gt;</span><span class="n">X1</span>
 <span class="n">Therefore</span>
 <span class="n">X2</span> <span class="n">positive</span> <span class="n">direction</span> <span class="n">disabled</span>
 <span class="n">X1</span> <span class="n">negative</span> <span class="n">direction</span> <span class="n">disabled</span>
 
 <span class="n">Call</span> <span class="n">before</span> <span class="n">FB_MotionStage</span> <span class="n">fb</span> <span class="n">calls</span> <span class="k">for</span> <span class="n">the</span> <span class="n">gantry</span> <span class="n">axes</span><span class="o">.</span>
 <span class="o">*</span><span class="p">)</span>
 
 <span class="n">GantryDiff</span> <span class="p">:</span><span class="o">=</span> <span class="p">(</span> <span class="n">ULINT_TO_LINT</span><span class="p">(</span><span class="n">PEnc</span><span class="o">.</span><span class="n">Count</span><span class="p">)</span> <span class="o">-</span> <span class="n">ULINT_TO_LINT</span><span class="p">(</span><span class="n">PEnc</span><span class="o">.</span><span class="n">Ref</span><span class="p">)</span> <span class="p">)</span> <span class="o">-</span> <span class="p">(</span> <span class="n">ULINT_TO_LINT</span><span class="p">(</span><span class="n">SEnc</span><span class="o">.</span><span class="n">Count</span><span class="p">)</span> <span class="o">-</span> <span class="n">ULINT_TO_LINT</span><span class="p">(</span><span class="n">SEnc</span><span class="o">.</span><span class="n">Ref</span><span class="p">)</span> <span class="p">);</span>
 
 <span class="n">IF</span> <span class="n">ABS</span><span class="p">(</span><span class="n">GantryDiff</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">GantDiffTol</span> <span class="n">THEN</span>
 	<span class="n">IF</span> <span class="n">GantryDiff</span> <span class="o">&lt;</span> <span class="mi">0</span>  <span class="n">THEN</span>
 		<span class="n">PLimBwd</span> <span class="p">:</span><span class="o">=</span> <span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">SLimFwd</span> <span class="p">:</span><span class="o">=</span> <span class="n">FALSE</span><span class="p">;</span>
 	<span class="n">ELSE</span>	
 		<span class="n">PLimBwd</span> <span class="p">:</span><span class="o">=</span> <span class="n">TRUE</span><span class="p">;</span>
 		<span class="n">SLimFwd</span> <span class="p">:</span><span class="o">=</span> <span class="n">TRUE</span><span class="p">;</span>
 	<span class="n">END_IF</span>
 	<span class="n">IF</span> <span class="n">GantryDiff</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="n">THEN</span>
 		<span class="n">PLimFwd</span> <span class="p">:</span><span class="o">=</span> <span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">SLimBwd</span> <span class="p">:</span><span class="o">=</span> <span class="n">FALSE</span><span class="p">;</span>
 	<span class="n">ELSE</span>
 		<span class="n">PLimFwd</span> <span class="p">:</span><span class="o">=</span> <span class="n">TRUE</span><span class="p">;</span>
 		<span class="n">SLimBwd</span> <span class="p">:</span><span class="o">=</span> <span class="n">TRUE</span><span class="p">;</span>
 	<span class="n">END_IF</span>
 <span class="n">ELSE</span>
 	<span class="o">//</span><span class="n">If</span> <span class="n">there</span> <span class="ow">is</span> <span class="n">no</span> <span class="n">fault</span><span class="p">,</span> <span class="nb">all</span> <span class="n">directions</span> <span class="n">are</span> <span class="n">enabled</span>
 	<span class="n">PLimFwd</span> <span class="p">:</span><span class="o">=</span> <span class="n">TRUE</span><span class="p">;</span>
 	<span class="n">PLimBwd</span> <span class="p">:</span><span class="o">=</span> <span class="n">TRUE</span><span class="p">;</span>
 	<span class="n">SLimFwd</span> <span class="p">:</span><span class="o">=</span> <span class="n">TRUE</span><span class="p">;</span>
 	<span class="n">SLimBwd</span> <span class="p">:</span><span class="o">=</span> <span class="n">TRUE</span><span class="p">;</span>
 <span class="n">END_IF</span>
</pre></div>
</div>
</div>
<div class="section" id="pous-motortesting-fb-microstepcounttest-tcpou-tcplcobject">
<h2>POUs/MotorTesting/FB_MicroStepCountTest.TcPOU (TcPlcObject)<a class="headerlink" href="#pous-motortesting-fb-microstepcounttest-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">FB_MicroStepCountTest</span><span class="p">:</span> <span class="n">Declaration</span>

 <span class="n">FUNCTION_BLOCK</span> <span class="n">FB_MicroStepCountTest</span>
 <span class="n">VAR_INPUT</span>
 	<span class="n">bExecute</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">fStepSize</span><span class="p">:</span> <span class="n">LREAL</span><span class="p">;</span>
 	<span class="n">nSteps</span><span class="p">:</span> <span class="n">UINT</span><span class="p">;</span>
 	<span class="n">fMicroStep</span><span class="p">:</span> <span class="n">LREAL</span><span class="p">;</span>
 	<span class="n">fVelocity</span><span class="p">:</span> <span class="n">LREAL</span><span class="p">;</span>
 	<span class="n">tSettleTime</span><span class="p">:</span> <span class="n">TIME</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 <span class="n">VAR_IN_OUT</span>
 	<span class="n">Axis</span><span class="p">:</span> <span class="n">AXIS_REF</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 <span class="n">VAR_OUTPUT</span>
 	<span class="n">nStepsCounted</span><span class="p">:</span> <span class="n">UINT</span><span class="p">;</span>
 	<span class="n">nTheorySteps</span><span class="p">:</span> <span class="n">UINT</span><span class="p">;</span>
 	<span class="n">fPercent</span><span class="p">:</span> <span class="n">LREAL</span><span class="p">;</span>
 	<span class="n">fEstMicroSize</span><span class="p">:</span> <span class="n">LREAL</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 <span class="n">VAR</span>
 	<span class="n">fbMoveRel</span><span class="p">:</span> <span class="n">MC_MoveRelative</span><span class="p">;</span>
 	<span class="n">fbSettleTimer</span><span class="p">:</span> <span class="n">TON</span><span class="p">;</span>
 	<span class="n">bDoMove</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">nStepCounter</span><span class="p">:</span> <span class="n">UINT</span><span class="p">;</span>
 	
 	<span class="n">arrPosBuffer</span><span class="p">:</span> <span class="n">ARRAY</span> <span class="p">[</span><span class="mf">0.</span><span class="o">.</span><span class="mi">99</span><span class="p">]</span> <span class="n">OF</span> <span class="n">LREAL</span><span class="p">;</span>
 	<span class="n">fAvgPos</span><span class="p">:</span> <span class="n">LREAL</span><span class="p">;</span>
 	<span class="n">nArrIndex</span><span class="p">:</span> <span class="n">UINT</span><span class="p">;</span>
 	<span class="n">nLoopIndex</span><span class="p">:</span> <span class="n">UINT</span><span class="p">;</span>
 	
 	<span class="n">fStartPos</span><span class="p">:</span> <span class="n">LREAL</span><span class="p">;</span>
 	<span class="n">fPrevPos</span><span class="p">:</span> <span class="n">LREAL</span><span class="p">;</span>
 	<span class="n">fStepChange</span><span class="p">:</span> <span class="n">LREAL</span><span class="p">;</span>
 	
 	<span class="n">fStepSum</span><span class="p">:</span> <span class="n">LREAL</span><span class="p">;</span>
 <span class="n">END_VAR</span>

<span class="o">-</span> <span class="n">FB_MicroStepCountTest</span><span class="p">:</span> <span class="n">ST</span>

 <span class="o">//</span> <span class="n">Motion</span> <span class="n">FB</span>
 <span class="n">fbMoveRel</span><span class="p">(</span><span class="n">Axis</span><span class="p">:</span><span class="o">=</span><span class="n">Axis</span><span class="p">,</span>
 	<span class="n">Execute</span><span class="p">:</span><span class="o">=</span><span class="n">bDoMove</span><span class="p">,</span>
 	<span class="n">Distance</span><span class="p">:</span><span class="o">=</span><span class="n">fStepSize</span><span class="p">,</span>
 	<span class="n">Velocity</span><span class="p">:</span><span class="o">=</span><span class="n">fVelocity</span><span class="p">);</span>
 	
 <span class="o">//</span> <span class="n">Settle</span> <span class="n">time</span>
 <span class="n">fbSettleTimer</span><span class="p">(</span><span class="n">IN</span><span class="p">:</span><span class="o">=</span><span class="n">fbMoveRel</span><span class="o">.</span><span class="n">Done</span><span class="p">,</span>
 	<span class="n">PT</span><span class="p">:</span><span class="o">=</span><span class="n">tSettleTime</span><span class="p">);</span>
 	
 <span class="o">//</span> <span class="n">Re</span><span class="o">-</span><span class="n">enable</span> <span class="n">the</span> <span class="n">move</span> <span class="k">for</span> <span class="nb">next</span> <span class="n">cycle</span>
 <span class="n">bDoMove</span> <span class="p">:</span><span class="o">=</span> <span class="n">bExecute</span> <span class="n">AND</span> <span class="n">nStepCounter</span> <span class="o">&lt;</span> <span class="n">nSteps</span><span class="p">;</span>
 
 <span class="o">//</span> <span class="n">Calculate</span> <span class="n">rolling</span> <span class="n">average</span>
 <span class="n">arrPosBuffer</span><span class="p">[</span><span class="n">nArrIndex</span><span class="p">]</span> <span class="p">:</span><span class="o">=</span> <span class="n">Axis</span><span class="o">.</span><span class="n">NcToPlc</span><span class="o">.</span><span class="n">ActPos</span><span class="p">;</span>
 <span class="n">fAvgPos</span> <span class="p">:</span><span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
 <span class="n">FOR</span> <span class="n">nLoopIndex</span> <span class="p">:</span><span class="o">=</span> <span class="mi">0</span> <span class="n">TO</span> <span class="mi">99</span> <span class="n">DO</span>
 	<span class="n">fAvgPos</span> <span class="p">:</span><span class="o">=</span> <span class="n">fAvgPos</span> <span class="o">+</span> <span class="n">arrPosBuffer</span><span class="p">[</span><span class="n">nLoopIndex</span><span class="p">];</span>
 <span class="n">END_FOR</span><span class="p">;</span>
 <span class="n">fAvgPos</span> <span class="p">:</span><span class="o">=</span> <span class="n">fAvgPos</span> <span class="o">/</span> <span class="mi">100</span><span class="p">;</span>
 <span class="n">nArrIndex</span> <span class="p">:</span><span class="o">=</span> <span class="p">(</span><span class="n">nArrIndex</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="n">MOD</span> <span class="mi">100</span><span class="p">;</span>
 
 <span class="o">//</span> <span class="n">Initialize</span> <span class="n">starting</span> <span class="n">variables</span>
 <span class="n">IF</span> <span class="n">NOT</span> <span class="n">bExecute</span> <span class="n">THEN</span>
 	<span class="n">fStartPos</span> <span class="p">:</span><span class="o">=</span> <span class="n">fAvgPos</span><span class="p">;</span>
 	<span class="n">fPrevPos</span> <span class="p">:</span><span class="o">=</span> <span class="n">fAvgPos</span><span class="p">;</span>
 <span class="n">END_IF</span>
 
 <span class="o">//</span> <span class="n">Check</span> <span class="n">results</span>
 <span class="n">IF</span> <span class="n">fbSettleTimer</span><span class="o">.</span><span class="n">Q</span> <span class="n">THEN</span>
 	<span class="n">fStepChange</span> <span class="p">:</span><span class="o">=</span> <span class="n">fAvgPos</span> <span class="o">-</span> <span class="n">fPrevPos</span><span class="p">;</span>
 	<span class="o">//</span> <span class="n">Invert</span> <span class="n">fStepChange</span> <span class="k">if</span> <span class="n">we</span> <span class="n">were</span> <span class="n">doing</span> <span class="n">negative</span> <span class="n">steps</span>
 	<span class="n">IF</span> <span class="n">fStepSize</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="n">THEN</span>
 		<span class="n">fStepChange</span> <span class="p">:</span><span class="o">=</span> <span class="n">fStepChange</span> <span class="o">*</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
 	<span class="n">END_IF</span>
 	<span class="n">IF</span> <span class="n">fStepChange</span> <span class="o">&gt;</span> <span class="n">fMicroStep</span> <span class="o">*</span> <span class="mf">0.5</span> <span class="n">THEN</span>
 		<span class="n">nStepsCounted</span> <span class="p">:</span><span class="o">=</span> <span class="n">nStepsCounted</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
 		<span class="n">fStepSum</span> <span class="p">:</span><span class="o">=</span> <span class="n">fStepSum</span> <span class="o">+</span> <span class="n">fStepChange</span><span class="p">;</span>
 		<span class="n">fEstMicroSize</span> <span class="p">:</span><span class="o">=</span> <span class="n">fStepSum</span> <span class="o">/</span> <span class="n">nStepsCounted</span><span class="p">;</span>
 	<span class="n">END_IF</span>
 	<span class="n">nTheorySteps</span> <span class="p">:</span><span class="o">=</span> <span class="n">DINT_TO_UINT</span><span class="p">(</span><span class="n">TRUNC</span><span class="p">(</span><span class="n">ABS</span><span class="p">((</span><span class="n">fStartPos</span> <span class="o">-</span> <span class="n">fAvgPos</span><span class="p">)</span> <span class="o">/</span> <span class="n">fMicroStep</span><span class="p">)));</span>
 	<span class="n">IF</span> <span class="n">nTheorySteps</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="n">THEN</span>
 		<span class="n">fPercent</span> <span class="p">:</span><span class="o">=</span> <span class="mi">100</span> <span class="o">*</span> <span class="n">nStepsCounted</span> <span class="o">/</span> <span class="n">nTheorySteps</span><span class="p">;</span>
 	<span class="n">END_IF</span>
 	<span class="n">fPrevPos</span> <span class="p">:</span><span class="o">=</span> <span class="n">fAvgPos</span><span class="p">;</span>
 	<span class="n">nStepCounter</span> <span class="p">:</span><span class="o">=</span> <span class="n">nStepCounter</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
 	<span class="o">//</span> <span class="n">Reset</span> <span class="n">the</span> <span class="n">move</span> <span class="n">block</span>
 	<span class="n">bDoMove</span> <span class="p">:</span><span class="o">=</span> <span class="n">FALSE</span><span class="p">;</span>
 <span class="n">END_IF</span>
</pre></div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-duts-dut-axisstatus-v0-01-tcdut-tcplcobject">
<h2>tc_mca_std_lib/DUTs/DUT_AxisStatus_v0_01.TcDUT (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-duts-dut-axisstatus-v0-01-tcdut-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">DUT_AxisStatus_v0_01</span><span class="p">:</span> <span class="n">Declaration</span>

 <span class="n">TYPE</span> <span class="n">DUT_AxisStatus_v0_01</span> <span class="p">:</span>
 <span class="n">STRUCT</span>
 	<span class="n">bEnable</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bReset</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bExecute</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">nCommand</span><span class="p">:</span> <span class="n">UINT</span><span class="p">;</span>
 	<span class="n">nCmdData</span><span class="p">:</span> <span class="n">UINT</span><span class="p">;</span>
 	<span class="n">fVelocity</span><span class="p">:</span> <span class="n">LREAL</span><span class="p">;</span>
 	<span class="n">fPosition</span><span class="p">:</span> <span class="n">LREAL</span><span class="p">;</span>
 	<span class="n">fAcceleration</span><span class="p">:</span> <span class="n">LREAL</span><span class="p">;</span>
 	<span class="n">fDeceleration</span><span class="p">:</span> <span class="n">LREAL</span><span class="p">;</span>
 	<span class="n">bJogFwd</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bJogBwd</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bLimitFwd</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bLimitBwd</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">fOverride</span><span class="p">:</span> <span class="n">LREAL</span> <span class="p">:</span><span class="o">=</span> <span class="mi">100</span><span class="p">;</span>
 	<span class="n">bHomeSensor</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bEnabled</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bError</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">nErrorId</span><span class="p">:</span> <span class="n">UDINT</span><span class="p">;</span>
 	<span class="n">fActVelocity</span><span class="p">:</span> <span class="n">LREAL</span><span class="p">;</span>
 	<span class="n">fActPosition</span><span class="p">:</span> <span class="n">LREAL</span><span class="p">;</span>
 	<span class="n">fActDiff</span><span class="p">:</span> <span class="n">LREAL</span><span class="p">;</span>
 	<span class="n">bHomed</span><span class="p">:</span><span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bBusy</span><span class="p">:</span><span class="n">BOOL</span><span class="p">;</span>
 <span class="n">END_STRUCT</span>
 <span class="n">END_TYPE</span>
</pre></div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-gvls-gvl-tcgvl-tcplcobject">
<h2>tc_mca_std_lib/GVLs/GVL.TcGVL (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-gvls-gvl-tcgvl-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">GVL</span><span class="p">:</span> <span class="n">Declaration</span>

 <span class="n">VAR_GLOBAL</span>
 	<span class="n">nHomingError</span><span class="p">:</span><span class="n">UDINT</span><span class="p">:</span><span class="o">=</span><span class="mi">16</span><span class="c1">#14D00;</span>
 <span class="n">END_VAR</span>
</pre></div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-changeconfig-fb-readfloatparameter-tcpou-tcplcobject">
<h2>tc_mca_std_lib/POUs/ChangeConfig/FB_ReadFloatParameter.TcPOU (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-changeconfig-fb-readfloatparameter-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">FB_ReadFloatParameter</span><span class="p">:</span> <span class="n">Declaration</span>

 <span class="n">FUNCTION_BLOCK</span> <span class="n">FB_ReadFloatParameter</span>
 <span class="n">VAR_INPUT</span>
 	<span class="n">bExecute</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="o">///</span><span class="mi">16</span><span class="c1">#4000=Axisdata, 16#5000=Encoderdata, 16#6000=Controldata, 16#7000=Drivedata</span>
 	<span class="n">nDeviceGroup</span><span class="p">:</span> <span class="n">UDINT</span><span class="p">;</span>
 	<span class="n">nIndexOffset</span><span class="p">:</span> <span class="n">UDINT</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 <span class="n">VAR_OUTPUT</span>
 	<span class="n">nData</span><span class="p">:</span> <span class="n">LREAL</span><span class="p">;</span>
 	<span class="n">bBusy</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDone</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bError</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">nErrorId</span><span class="p">:</span> <span class="n">UDINT</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 <span class="n">VAR_IN_OUT</span>
 	<span class="n">Axis</span><span class="p">:</span> <span class="n">AXIS_REF</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 <span class="n">VAR</span>
 	<span class="n">nState</span><span class="p">:</span> <span class="n">UINT</span><span class="p">;</span>
 	<span class="n">fbADSREAD</span><span class="p">:</span> <span class="n">ADSREAD</span><span class="p">;</span>
 <span class="n">END_VAR</span>

<span class="o">-</span> <span class="n">FB_ReadFloatParameter</span><span class="p">:</span> <span class="n">ST</span>

 <span class="p">(</span><span class="o">*</span><span class="n">Sequence</span> <span class="n">to</span> <span class="n">read</span> <span class="n">parameter</span> <span class="ow">in</span> <span class="n">Nc</span><span class="o">*</span><span class="p">)</span>
 <span class="n">CASE</span> <span class="n">nState</span> <span class="n">OF</span>
 <span class="mi">0</span><span class="p">:</span>  <span class="p">(</span><span class="o">*</span><span class="n">Start</span> <span class="n">sequence</span><span class="o">.</span> <span class="n">Wait</span> <span class="n">until</span> <span class="n">bExecute</span> <span class="ow">is</span> <span class="n">TRUE</span><span class="o">*</span><span class="p">)</span>
 	<span class="n">IF</span> <span class="n">bExecute</span> <span class="n">THEN</span>
 		<span class="n">bBusy</span><span class="p">:</span><span class="o">=</span><span class="n">TRUE</span><span class="p">;</span>
 		<span class="n">bError</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">nErrorId</span><span class="p">:</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
 		<span class="n">nState</span><span class="p">:</span><span class="o">=</span><span class="mi">10</span><span class="p">;</span>
 	<span class="n">END_IF</span>
 
 <span class="mi">10</span><span class="p">:</span> <span class="p">(</span><span class="o">*</span><span class="n">Read</span> <span class="n">parameter</span> <span class="ow">in</span> <span class="n">Nc</span><span class="o">*</span><span class="p">)</span>
 	<span class="n">fbADSREAD</span><span class="p">(</span>
 		<span class="n">PORT</span><span class="p">:</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span>
 		<span class="n">IDXGRP</span><span class="p">:</span><span class="o">=</span><span class="n">nDeviceGroup</span><span class="o">+</span><span class="n">Axis</span><span class="o">.</span><span class="n">NcToPlc</span><span class="o">.</span><span class="n">AxisId</span><span class="p">,</span>
 		<span class="n">IDXOFFS</span><span class="p">:</span><span class="o">=</span><span class="n">nIndexOffset</span><span class="p">,</span>
 		<span class="n">LEN</span><span class="p">:</span><span class="o">=</span><span class="n">SIZEOF</span><span class="p">(</span><span class="n">nData</span><span class="p">),</span>
 		<span class="n">DESTADDR</span><span class="p">:</span><span class="o">=</span><span class="n">ADR</span><span class="p">(</span><span class="n">nData</span><span class="p">),</span>
 		<span class="n">READ</span><span class="p">:</span><span class="o">=</span><span class="n">TRUE</span><span class="p">);</span>
 
 	<span class="p">(</span><span class="o">*</span><span class="n">Wait</span> <span class="n">until</span> <span class="n">it</span><span class="s1">&#39;s done or if an error occurs*)</span>
 	<span class="n">IF</span> <span class="n">NOT</span> <span class="n">fbADSREAD</span><span class="o">.</span><span class="n">ERR</span> <span class="n">THEN</span>
 		<span class="n">IF</span> <span class="n">NOT</span> <span class="n">fbADSREAD</span><span class="o">.</span><span class="n">BUSY</span> <span class="n">THEN</span>
 			<span class="n">fbADSREAD</span><span class="p">(</span><span class="n">READ</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">);</span>
 			<span class="n">nState</span><span class="p">:</span><span class="o">=</span><span class="mi">20</span><span class="p">;</span>
 		<span class="n">END_IF</span>
 	<span class="n">ELSE</span>
 		<span class="n">nErrorId</span><span class="p">:</span><span class="o">=</span><span class="n">fbADSREAD</span><span class="o">.</span><span class="n">ERRID</span><span class="p">;</span>
 		<span class="n">nState</span><span class="p">:</span><span class="o">=</span><span class="mi">999</span><span class="p">;</span>
 	<span class="n">END_IF</span>
 
 <span class="mi">20</span><span class="p">:</span> <span class="p">(</span><span class="o">*</span><span class="n">Sequense</span> <span class="ow">is</span> <span class="n">done</span><span class="o">.</span> <span class="n">Waits</span> <span class="n">until</span> <span class="n">bExecute</span> <span class="ow">is</span> <span class="n">FALSE</span><span class="o">*</span><span class="p">)</span>
 	<span class="n">bBusy</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 	<span class="n">bDone</span><span class="p">:</span><span class="o">=</span><span class="n">TRUE</span><span class="p">;</span>
 	<span class="n">IF</span> <span class="n">NOT</span> <span class="n">bExecute</span> <span class="n">THEN</span>
 		<span class="n">bDone</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">nState</span><span class="p">:</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
 	<span class="n">END_IF</span>
 
 <span class="mi">999</span><span class="p">:</span> <span class="p">(</span><span class="o">*</span><span class="n">Error</span> <span class="ow">in</span> <span class="n">sequence</span><span class="o">*</span><span class="p">)</span>
 	<span class="n">bError</span><span class="p">:</span><span class="o">=</span><span class="n">TRUE</span><span class="p">;</span>
 	<span class="n">bBusy</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 	<span class="n">bDone</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 	<span class="n">fbADSREAD</span><span class="p">(</span><span class="n">READ</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">);</span>
 	<span class="n">IF</span> <span class="n">NOT</span> <span class="n">bExecute</span> <span class="n">THEN</span>
 		<span class="n">nState</span><span class="p">:</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
 	<span class="n">END_IF</span>
 
 <span class="n">END_CASE</span>
</pre></div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-changeconfig-fb-readparameterinnc-v1-00-tcpou-tcplcobject">
<h2>tc_mca_std_lib/POUs/ChangeConfig/FB_ReadParameterInNc_v1_00.TcPOU (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-changeconfig-fb-readparameterinnc-v1-00-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">FB_ReadParameterInNc_v1_00</span><span class="p">:</span> <span class="n">Declaration</span>

 <span class="o">///</span><span class="c1">#########################################################</span>
 <span class="o">///</span><span class="n">Function</span> <span class="n">block</span> <span class="n">to</span> <span class="n">read</span> <span class="n">parameter</span> <span class="ow">in</span> <span class="n">Nc</span><span class="o">.</span>
 <span class="o">///</span>
 <span class="o">///</span>	<span class="n">Library</span><span class="p">:</span>		
 <span class="o">///</span>	<span class="n">Tc2_MC2</span><span class="o">.</span><span class="n">lib</span>
 <span class="o">///</span> <span class="n">Tc2_System</span><span class="o">.</span><span class="n">lib</span>
 <span class="o">///</span>
 <span class="o">///</span>	<span class="n">Global</span> <span class="n">Variables</span><span class="p">:</span>
 <span class="o">///</span>	
 <span class="o">///</span>	<span class="n">Data</span> <span class="n">types</span><span class="p">:</span>
 <span class="o">///</span>	
 <span class="o">///</span>	<span class="n">External</span> <span class="n">functions</span><span class="p">:</span>
 <span class="o">///</span>
 <span class="o">///</span>	<span class="n">History</span><span class="p">:</span>
 <span class="o">///</span>	<span class="mi">2014</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">05</span>	<span class="n">v1</span><span class="o">.</span><span class="mi">00</span>	<span class="n">NB</span>	<span class="n">Release</span> <span class="n">code</span><span class="o">.</span>
 <span class="o">///</span>
 <span class="o">///</span>	<span class="n">Known</span> <span class="n">bugs</span><span class="p">:</span>
 <span class="o">///</span>
 <span class="o">///</span>
 <span class="o">///</span>
 <span class="o">///</span><span class="c1">###########################################################</span>
 <span class="n">FUNCTION_BLOCK</span> <span class="n">FB_ReadParameterInNc_v1_00</span>
 <span class="n">VAR_INPUT</span>
 	<span class="n">bExecute</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="o">///</span><span class="mi">16</span><span class="c1">#4000=Axisdata, 16#5000=Encoderdata, 16#6000=Controldata, 16#7000=Drivedata</span>
 	<span class="n">nDeviceGroup</span><span class="p">:</span> <span class="n">UDINT</span><span class="p">;</span>
 	<span class="n">nIndexOffset</span><span class="p">:</span> <span class="n">UDINT</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 <span class="n">VAR_OUTPUT</span>
 	<span class="n">nData</span><span class="p">:</span> <span class="n">DWORD</span><span class="p">;</span>
 	<span class="n">bBusy</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDone</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bError</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">nErrorId</span><span class="p">:</span> <span class="n">UDINT</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 <span class="n">VAR_IN_OUT</span>
 	<span class="n">Axis</span><span class="p">:</span> <span class="n">AXIS_REF</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 <span class="n">VAR</span>
 	<span class="n">nState</span><span class="p">:</span> <span class="n">UINT</span><span class="p">;</span>
 	<span class="n">fbADSREAD</span><span class="p">:</span> <span class="n">ADSREAD</span><span class="p">;</span>
 <span class="n">END_VAR</span>

<span class="o">-</span> <span class="n">FB_ReadParameterInNc_v1_00</span><span class="p">:</span> <span class="n">ST</span>

 <span class="p">(</span><span class="o">*</span><span class="n">Sequence</span> <span class="n">to</span> <span class="n">read</span> <span class="n">parameter</span> <span class="ow">in</span> <span class="n">Nc</span><span class="o">*</span><span class="p">)</span>
 <span class="n">CASE</span> <span class="n">nState</span> <span class="n">OF</span>
 <span class="mi">0</span><span class="p">:</span>  <span class="p">(</span><span class="o">*</span><span class="n">Start</span> <span class="n">sequence</span><span class="o">.</span> <span class="n">Wait</span> <span class="n">until</span> <span class="n">bExecute</span> <span class="ow">is</span> <span class="n">TRUE</span><span class="o">*</span><span class="p">)</span>
 	<span class="n">IF</span> <span class="n">bExecute</span> <span class="n">THEN</span>
 		<span class="n">bBusy</span><span class="p">:</span><span class="o">=</span><span class="n">TRUE</span><span class="p">;</span>
 		<span class="n">bError</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">nErrorId</span><span class="p">:</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
 		<span class="n">nState</span><span class="p">:</span><span class="o">=</span><span class="mi">10</span><span class="p">;</span>
 	<span class="n">END_IF</span>
 
 <span class="mi">10</span><span class="p">:</span> <span class="p">(</span><span class="o">*</span><span class="n">Read</span> <span class="n">parameter</span> <span class="ow">in</span> <span class="n">Nc</span><span class="o">*</span><span class="p">)</span>
 	<span class="n">fbADSREAD</span><span class="p">(</span>
 		<span class="n">PORT</span><span class="p">:</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span>
 		<span class="n">IDXGRP</span><span class="p">:</span><span class="o">=</span><span class="n">nDeviceGroup</span><span class="o">+</span><span class="n">Axis</span><span class="o">.</span><span class="n">NcToPlc</span><span class="o">.</span><span class="n">AxisId</span><span class="p">,</span>
 		<span class="n">IDXOFFS</span><span class="p">:</span><span class="o">=</span><span class="n">nIndexOffset</span><span class="p">,</span>
 		<span class="n">LEN</span><span class="p">:</span><span class="o">=</span><span class="n">SIZEOF</span><span class="p">(</span><span class="n">nData</span><span class="p">),</span>
 		<span class="n">DESTADDR</span><span class="p">:</span><span class="o">=</span><span class="n">ADR</span><span class="p">(</span><span class="n">nData</span><span class="p">),</span>
 		<span class="n">READ</span><span class="p">:</span><span class="o">=</span><span class="n">TRUE</span><span class="p">);</span>
 
 	<span class="p">(</span><span class="o">*</span><span class="n">Wait</span> <span class="n">until</span> <span class="n">it</span><span class="s1">&#39;s done or if an error occurs*)</span>
 	<span class="n">IF</span> <span class="n">NOT</span> <span class="n">fbADSREAD</span><span class="o">.</span><span class="n">ERR</span> <span class="n">THEN</span>
 		<span class="n">IF</span> <span class="n">NOT</span> <span class="n">fbADSREAD</span><span class="o">.</span><span class="n">BUSY</span> <span class="n">THEN</span>
 			<span class="n">fbADSREAD</span><span class="p">(</span><span class="n">READ</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">);</span>
 			<span class="n">nState</span><span class="p">:</span><span class="o">=</span><span class="mi">20</span><span class="p">;</span>
 		<span class="n">END_IF</span>
 	<span class="n">ELSE</span>
 		<span class="n">nErrorId</span><span class="p">:</span><span class="o">=</span><span class="n">fbADSREAD</span><span class="o">.</span><span class="n">ERRID</span><span class="p">;</span>
 		<span class="n">nState</span><span class="p">:</span><span class="o">=</span><span class="mi">999</span><span class="p">;</span>
 	<span class="n">END_IF</span>
 
 <span class="mi">20</span><span class="p">:</span> <span class="p">(</span><span class="o">*</span><span class="n">Sequense</span> <span class="ow">is</span> <span class="n">done</span><span class="o">.</span> <span class="n">Waits</span> <span class="n">until</span> <span class="n">bExecute</span> <span class="ow">is</span> <span class="n">FALSE</span><span class="o">*</span><span class="p">)</span>
 	<span class="n">bBusy</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 	<span class="n">bDone</span><span class="p">:</span><span class="o">=</span><span class="n">TRUE</span><span class="p">;</span>
 	<span class="n">IF</span> <span class="n">NOT</span> <span class="n">bExecute</span> <span class="n">THEN</span>
 		<span class="n">bDone</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">nState</span><span class="p">:</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
 	<span class="n">END_IF</span>
 
 <span class="mi">999</span><span class="p">:</span> <span class="p">(</span><span class="o">*</span><span class="n">Error</span> <span class="ow">in</span> <span class="n">sequence</span><span class="o">*</span><span class="p">)</span>
 	<span class="n">bError</span><span class="p">:</span><span class="o">=</span><span class="n">TRUE</span><span class="p">;</span>
 	<span class="n">bBusy</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 	<span class="n">bDone</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 	<span class="n">fbADSREAD</span><span class="p">(</span><span class="n">READ</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">);</span>
 	<span class="n">IF</span> <span class="n">NOT</span> <span class="n">bExecute</span> <span class="n">THEN</span>
 		<span class="n">nState</span><span class="p">:</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
 	<span class="n">END_IF</span>
 
 <span class="n">END_CASE</span>
</pre></div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-changeconfig-fb-writefloatparameter-tcpou-tcplcobject">
<h2>tc_mca_std_lib/POUs/ChangeConfig/FB_WriteFloatParameter.TcPOU (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-changeconfig-fb-writefloatparameter-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">FB_WriteFloatParameter</span><span class="p">:</span> <span class="n">Declaration</span>

 <span class="o">///</span><span class="c1">#########################################################</span>
 <span class="o">///</span><span class="n">Function</span> <span class="n">block</span> <span class="n">to</span> <span class="n">write</span> <span class="n">parameter</span> <span class="ow">in</span> <span class="n">Nc</span><span class="o">.</span>
 <span class="o">///</span>
 <span class="o">///</span>	<span class="n">Library</span><span class="p">:</span>		
 <span class="o">///</span>	<span class="n">Tc2_MC2</span><span class="o">.</span><span class="n">lib</span>
 <span class="o">///</span> <span class="n">Tc2_System</span><span class="o">.</span><span class="n">lib</span>
 <span class="o">///</span>
 <span class="o">///</span>	<span class="n">Global</span> <span class="n">Variables</span><span class="p">:</span>
 <span class="o">///</span>	
 <span class="o">///</span>	<span class="n">Data</span> <span class="n">types</span><span class="p">:</span>
 <span class="o">///</span>	
 <span class="o">///</span>	<span class="n">External</span> <span class="n">functions</span><span class="p">:</span>
 <span class="o">///</span>
 <span class="o">///</span>	<span class="n">History</span><span class="p">:</span>
 <span class="o">///</span>	<span class="mi">2014</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">05</span>	<span class="n">v1</span><span class="o">.</span><span class="mi">00</span>	<span class="n">NB</span>	<span class="n">Release</span> <span class="n">code</span><span class="o">.</span>
 <span class="o">///</span>
 <span class="o">///</span>	<span class="n">Known</span> <span class="n">bugs</span><span class="p">:</span>
 <span class="o">///</span>
 <span class="o">///</span>
 <span class="o">///</span>
 <span class="o">///</span><span class="c1">###########################################################</span>
 <span class="n">FUNCTION_BLOCK</span> <span class="n">FB_WriteFloatParameter</span>
 <span class="n">VAR_INPUT</span>
 	<span class="n">bExecute</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="o">///</span><span class="mi">16</span><span class="c1">#4000=Axisdata, 16#5000=Encoderdata, 16#6000=Controldata, 16#7000=Drivedata</span>
 	<span class="n">nDeviceGroup</span><span class="p">:</span> <span class="n">UDINT</span><span class="p">;</span>
 	<span class="n">nIndexOffset</span><span class="p">:</span> <span class="n">UDINT</span><span class="p">;</span>
 	<span class="n">nData</span><span class="p">:</span> <span class="n">LREAL</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 <span class="n">VAR_OUTPUT</span>
 	<span class="n">bBusy</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDone</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bError</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">nErrorId</span><span class="p">:</span> <span class="n">UDINT</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 <span class="n">VAR_IN_OUT</span>
 	<span class="n">Axis</span><span class="p">:</span> <span class="n">AXIS_REF</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 <span class="n">VAR</span>
 	<span class="n">nState</span><span class="p">:</span> <span class="n">UINT</span><span class="p">;</span>
 	<span class="n">fbADSWRITE</span><span class="p">:</span> <span class="n">ADSWRITE</span><span class="p">;</span>
 <span class="n">END_VAR</span>

<span class="o">-</span> <span class="n">FB_WriteFloatParameter</span><span class="p">:</span> <span class="n">ST</span>

 <span class="p">(</span><span class="o">*</span><span class="n">Sequence</span> <span class="n">to</span> <span class="n">write</span> <span class="n">parameter</span> <span class="ow">in</span> <span class="n">Nc</span><span class="o">*</span><span class="p">)</span>
 <span class="n">CASE</span> <span class="n">nState</span> <span class="n">OF</span>
 <span class="mi">0</span><span class="p">:</span>  <span class="p">(</span><span class="o">*</span><span class="n">Start</span> <span class="n">sequence</span><span class="o">.</span> <span class="n">Wait</span> <span class="n">until</span> <span class="n">bExecute</span> <span class="ow">is</span> <span class="n">TRUE</span><span class="o">*</span><span class="p">)</span>
 	<span class="n">IF</span> <span class="n">bExecute</span> <span class="n">THEN</span>
 		<span class="n">bBusy</span><span class="p">:</span><span class="o">=</span><span class="n">TRUE</span><span class="p">;</span>
 		<span class="n">bError</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">nErrorId</span><span class="p">:</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
 		<span class="n">nState</span><span class="p">:</span><span class="o">=</span><span class="mi">10</span><span class="p">;</span>
 	<span class="n">END_IF</span>
 
 <span class="mi">10</span><span class="p">:</span> <span class="p">(</span><span class="o">*</span><span class="n">Write</span> <span class="n">parameter</span> <span class="ow">in</span> <span class="n">Nc</span><span class="o">*</span><span class="p">)</span>
 	<span class="n">fbADSWRITE</span><span class="p">(</span>
 		<span class="n">PORT</span><span class="p">:</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span>
 		<span class="n">IDXGRP</span><span class="p">:</span><span class="o">=</span><span class="n">nDeviceGroup</span><span class="o">+</span><span class="n">Axis</span><span class="o">.</span><span class="n">NcToPlc</span><span class="o">.</span><span class="n">AxisId</span><span class="p">,</span>
 		<span class="n">IDXOFFS</span><span class="p">:</span><span class="o">=</span><span class="n">nIndexOffset</span><span class="p">,</span>
 		<span class="n">LEN</span><span class="p">:</span><span class="o">=</span><span class="n">SIZEOF</span><span class="p">(</span><span class="n">nData</span><span class="p">),</span>
 		<span class="n">SRCADDR</span><span class="p">:</span><span class="o">=</span><span class="n">ADR</span><span class="p">(</span><span class="n">nData</span><span class="p">),</span>
 		<span class="n">WRITE</span><span class="p">:</span><span class="o">=</span><span class="n">TRUE</span><span class="p">);</span>
 
 	<span class="p">(</span><span class="o">*</span><span class="n">Wait</span> <span class="n">until</span> <span class="n">it</span><span class="s1">&#39;s done or if an error occurs*)</span>
 	<span class="n">IF</span> <span class="n">NOT</span> <span class="n">fbADSWRITE</span><span class="o">.</span><span class="n">ERR</span> <span class="n">THEN</span>
 		<span class="n">IF</span> <span class="n">NOT</span> <span class="n">fbADSWRITE</span><span class="o">.</span><span class="n">BUSY</span> <span class="n">THEN</span>
 			<span class="n">fbADSWRITE</span><span class="p">(</span><span class="n">WRITE</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">);</span>
 			<span class="n">nState</span><span class="p">:</span><span class="o">=</span><span class="mi">20</span><span class="p">;</span>
 		<span class="n">END_IF</span>
 	<span class="n">ELSE</span>
 		<span class="n">nErrorId</span><span class="p">:</span><span class="o">=</span><span class="n">fbADSWRITE</span><span class="o">.</span><span class="n">ERRID</span><span class="p">;</span>
 		<span class="n">nState</span><span class="p">:</span><span class="o">=</span><span class="mi">999</span><span class="p">;</span>
 	<span class="n">END_IF</span>
 
 <span class="mi">20</span><span class="p">:</span> <span class="p">(</span><span class="o">*</span><span class="n">Sequense</span> <span class="ow">is</span> <span class="n">done</span><span class="o">.</span> <span class="n">Waits</span> <span class="n">until</span> <span class="n">bExecute</span> <span class="ow">is</span> <span class="n">FALSE</span><span class="o">*</span><span class="p">)</span>
 	<span class="n">bBusy</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 	<span class="n">bDone</span><span class="p">:</span><span class="o">=</span><span class="n">TRUE</span><span class="p">;</span>
 	<span class="n">IF</span> <span class="n">NOT</span> <span class="n">bExecute</span> <span class="n">THEN</span>
 		<span class="n">bDone</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">nState</span><span class="p">:</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
 	<span class="n">END_IF</span>
 
 <span class="mi">999</span><span class="p">:</span> <span class="p">(</span><span class="o">*</span><span class="n">Error</span> <span class="ow">in</span> <span class="n">sequence</span><span class="o">*</span><span class="p">)</span>
 	<span class="n">bError</span><span class="p">:</span><span class="o">=</span><span class="n">TRUE</span><span class="p">;</span>
 	<span class="n">bBusy</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 	<span class="n">bDone</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 	<span class="n">fbADSWRITE</span><span class="p">(</span><span class="n">WRITE</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">);</span>
 	<span class="n">IF</span> <span class="n">NOT</span> <span class="n">bExecute</span> <span class="n">THEN</span>
 		<span class="n">nState</span><span class="p">:</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
 	<span class="n">END_IF</span>
 
 <span class="n">END_CASE</span>
</pre></div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-changeconfig-fb-writeparameterinnc-v1-00-tcpou-tcplcobject">
<h2>tc_mca_std_lib/POUs/ChangeConfig/FB_WriteParameterInNc_v1_00.TcPOU (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-changeconfig-fb-writeparameterinnc-v1-00-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">FB_WriteParameterInNc_v1_00</span><span class="p">:</span> <span class="n">Declaration</span>

 <span class="o">///</span><span class="c1">#########################################################</span>
 <span class="o">///</span><span class="n">Function</span> <span class="n">block</span> <span class="n">to</span> <span class="n">write</span> <span class="n">parameter</span> <span class="ow">in</span> <span class="n">Nc</span><span class="o">.</span>
 <span class="o">///</span>
 <span class="o">///</span>	<span class="n">Library</span><span class="p">:</span>		
 <span class="o">///</span>	<span class="n">Tc2_MC2</span><span class="o">.</span><span class="n">lib</span>
 <span class="o">///</span> <span class="n">Tc2_System</span><span class="o">.</span><span class="n">lib</span>
 <span class="o">///</span>
 <span class="o">///</span>	<span class="n">Global</span> <span class="n">Variables</span><span class="p">:</span>
 <span class="o">///</span>	
 <span class="o">///</span>	<span class="n">Data</span> <span class="n">types</span><span class="p">:</span>
 <span class="o">///</span>	
 <span class="o">///</span>	<span class="n">External</span> <span class="n">functions</span><span class="p">:</span>
 <span class="o">///</span>
 <span class="o">///</span>	<span class="n">History</span><span class="p">:</span>
 <span class="o">///</span>	<span class="mi">2014</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">05</span>	<span class="n">v1</span><span class="o">.</span><span class="mi">00</span>	<span class="n">NB</span>	<span class="n">Release</span> <span class="n">code</span><span class="o">.</span>
 <span class="o">///</span>
 <span class="o">///</span>	<span class="n">Known</span> <span class="n">bugs</span><span class="p">:</span>
 <span class="o">///</span>
 <span class="o">///</span>
 <span class="o">///</span>
 <span class="o">///</span><span class="c1">###########################################################</span>
 <span class="n">FUNCTION_BLOCK</span> <span class="n">FB_WriteParameterInNc_v1_00</span>
 <span class="n">VAR_INPUT</span>
 	<span class="n">bExecute</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="o">///</span><span class="mi">16</span><span class="c1">#4000=Axisdata, 16#5000=Encoderdata, 16#6000=Controldata, 16#7000=Drivedata</span>
 	<span class="n">nDeviceGroup</span><span class="p">:</span> <span class="n">UDINT</span><span class="p">;</span>
 	<span class="n">nIndexOffset</span><span class="p">:</span> <span class="n">UDINT</span><span class="p">;</span>
 	<span class="n">nData</span><span class="p">:</span> <span class="n">DWORD</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 <span class="n">VAR_OUTPUT</span>
 	<span class="n">bBusy</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDone</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bError</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">nErrorId</span><span class="p">:</span> <span class="n">UDINT</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 <span class="n">VAR_IN_OUT</span>
 	<span class="n">Axis</span><span class="p">:</span> <span class="n">AXIS_REF</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 <span class="n">VAR</span>
 	<span class="n">nState</span><span class="p">:</span> <span class="n">UINT</span><span class="p">;</span>
 	<span class="n">fbADSWRITE</span><span class="p">:</span> <span class="n">ADSWRITE</span><span class="p">;</span>
 <span class="n">END_VAR</span>

<span class="o">-</span> <span class="n">FB_WriteParameterInNc_v1_00</span><span class="p">:</span> <span class="n">ST</span>

 <span class="p">(</span><span class="o">*</span><span class="n">Sequence</span> <span class="n">to</span> <span class="n">write</span> <span class="n">parameter</span> <span class="ow">in</span> <span class="n">Nc</span><span class="o">*</span><span class="p">)</span>
 <span class="n">CASE</span> <span class="n">nState</span> <span class="n">OF</span>
 <span class="mi">0</span><span class="p">:</span>  <span class="p">(</span><span class="o">*</span><span class="n">Start</span> <span class="n">sequence</span><span class="o">.</span> <span class="n">Wait</span> <span class="n">until</span> <span class="n">bExecute</span> <span class="ow">is</span> <span class="n">TRUE</span><span class="o">*</span><span class="p">)</span>
 	<span class="n">IF</span> <span class="n">bExecute</span> <span class="n">THEN</span>
 		<span class="n">bBusy</span><span class="p">:</span><span class="o">=</span><span class="n">TRUE</span><span class="p">;</span>
 		<span class="n">bError</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">nErrorId</span><span class="p">:</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
 		<span class="n">nState</span><span class="p">:</span><span class="o">=</span><span class="mi">10</span><span class="p">;</span>
 	<span class="n">END_IF</span>
 
 <span class="mi">10</span><span class="p">:</span> <span class="p">(</span><span class="o">*</span><span class="n">Write</span> <span class="n">parameter</span> <span class="ow">in</span> <span class="n">Nc</span><span class="o">*</span><span class="p">)</span>
 	<span class="n">fbADSWRITE</span><span class="p">(</span>
 		<span class="n">PORT</span><span class="p">:</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span>
 		<span class="n">IDXGRP</span><span class="p">:</span><span class="o">=</span><span class="n">nDeviceGroup</span><span class="o">+</span><span class="n">Axis</span><span class="o">.</span><span class="n">NcToPlc</span><span class="o">.</span><span class="n">AxisId</span><span class="p">,</span>
 		<span class="n">IDXOFFS</span><span class="p">:</span><span class="o">=</span><span class="n">nIndexOffset</span><span class="p">,</span>
 		<span class="n">LEN</span><span class="p">:</span><span class="o">=</span><span class="n">SIZEOF</span><span class="p">(</span><span class="n">nData</span><span class="p">),</span>
 		<span class="n">SRCADDR</span><span class="p">:</span><span class="o">=</span><span class="n">ADR</span><span class="p">(</span><span class="n">nData</span><span class="p">),</span>
 		<span class="n">WRITE</span><span class="p">:</span><span class="o">=</span><span class="n">TRUE</span><span class="p">);</span>
 
 	<span class="p">(</span><span class="o">*</span><span class="n">Wait</span> <span class="n">until</span> <span class="n">it</span><span class="s1">&#39;s done or if an error occurs*)</span>
 	<span class="n">IF</span> <span class="n">NOT</span> <span class="n">fbADSWRITE</span><span class="o">.</span><span class="n">ERR</span> <span class="n">THEN</span>
 		<span class="n">IF</span> <span class="n">NOT</span> <span class="n">fbADSWRITE</span><span class="o">.</span><span class="n">BUSY</span> <span class="n">THEN</span>
 			<span class="n">fbADSWRITE</span><span class="p">(</span><span class="n">WRITE</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">);</span>
 			<span class="n">nState</span><span class="p">:</span><span class="o">=</span><span class="mi">20</span><span class="p">;</span>
 		<span class="n">END_IF</span>
 	<span class="n">ELSE</span>
 		<span class="n">nErrorId</span><span class="p">:</span><span class="o">=</span><span class="n">fbADSWRITE</span><span class="o">.</span><span class="n">ERRID</span><span class="p">;</span>
 		<span class="n">nState</span><span class="p">:</span><span class="o">=</span><span class="mi">999</span><span class="p">;</span>
 	<span class="n">END_IF</span>
 
 <span class="mi">20</span><span class="p">:</span> <span class="p">(</span><span class="o">*</span><span class="n">Sequense</span> <span class="ow">is</span> <span class="n">done</span><span class="o">.</span> <span class="n">Waits</span> <span class="n">until</span> <span class="n">bExecute</span> <span class="ow">is</span> <span class="n">FALSE</span><span class="o">*</span><span class="p">)</span>
 	<span class="n">bBusy</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 	<span class="n">bDone</span><span class="p">:</span><span class="o">=</span><span class="n">TRUE</span><span class="p">;</span>
 	<span class="n">IF</span> <span class="n">NOT</span> <span class="n">bExecute</span> <span class="n">THEN</span>
 		<span class="n">bDone</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">nState</span><span class="p">:</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
 	<span class="n">END_IF</span>
 
 <span class="mi">999</span><span class="p">:</span> <span class="p">(</span><span class="o">*</span><span class="n">Error</span> <span class="ow">in</span> <span class="n">sequence</span><span class="o">*</span><span class="p">)</span>
 	<span class="n">bError</span><span class="p">:</span><span class="o">=</span><span class="n">TRUE</span><span class="p">;</span>
 	<span class="n">bBusy</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 	<span class="n">bDone</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 	<span class="n">fbADSWRITE</span><span class="p">(</span><span class="n">WRITE</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">);</span>
 	<span class="n">IF</span> <span class="n">NOT</span> <span class="n">bExecute</span> <span class="n">THEN</span>
 		<span class="n">nState</span><span class="p">:</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
 	<span class="n">END_IF</span>
 
 <span class="n">END_CASE</span>
</pre></div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-errorhandling-dut-errorstate-tcdut-tcplcobject">
<h2>tc_mca_std_lib/POUs/ErrorHandling/DUT_ErrorState.TcDUT (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-errorhandling-dut-errorstate-tcdut-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">DUT_ErrorState</span><span class="p">:</span> <span class="n">Declaration</span>

 <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;qualified_only&#39;</span><span class="p">}</span>
 <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;strict&#39;</span><span class="p">}</span>
 <span class="n">TYPE</span> <span class="n">DUT_ErrorState</span> <span class="p">:</span>
 <span class="p">(</span>
 	<span class="kc">None</span><span class="p">,</span>
 	<span class="n">Active</span><span class="p">,</span>
 	<span class="n">Inactive</span><span class="p">,</span>
 	<span class="n">Acknowledged</span>
 <span class="p">);</span>
 <span class="n">END_TYPE</span>
</pre></div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-errorhandling-dut-terminalerror-tcdut-tcplcobject">
<h2>tc_mca_std_lib/POUs/ErrorHandling/DUT_TerminalError.TcDUT (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-errorhandling-dut-terminalerror-tcdut-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">DUT_TerminalError</span><span class="p">:</span> <span class="n">Declaration</span>

 <span class="n">TYPE</span> <span class="n">DUT_TerminalError</span> <span class="p">:</span>
 <span class="n">STRUCT</span>
 	<span class="o">//</span><span class="n">Error</span> <span class="n">system</span> <span class="n">related</span>
 	<span class="n">iTerminalID</span> <span class="p">:</span> <span class="n">INT</span><span class="p">;</span>					<span class="o">//</span><span class="n">ID</span> <span class="n">of</span> <span class="n">the</span> <span class="n">terminal</span>
 	<span class="n">Error_ID</span> <span class="p">:</span> <span class="n">ULINT</span> <span class="p">:</span><span class="o">=</span> <span class="mi">0</span><span class="p">;</span>				<span class="o">//</span><span class="n">ID</span> <span class="k">for</span> <span class="n">the</span> <span class="n">Error</span> <span class="n">entry</span>
 	<span class="n">ErrorState</span> <span class="p">:</span> <span class="n">DUT_ErrorState</span><span class="p">;</span>		<span class="o">//</span><span class="n">State</span> <span class="n">of</span> <span class="n">the</span> <span class="n">error</span>
 	
 	<span class="o">//</span><span class="n">Error</span> <span class="n">related</span>
 	<span class="n">nDateTimeOn</span> <span class="p">:</span> <span class="n">ULINT</span><span class="p">;</span>				<span class="o">//</span><span class="n">Date</span> <span class="ow">and</span> <span class="n">time</span> <span class="n">when</span> <span class="n">the</span> <span class="n">error</span> <span class="n">occured</span><span class="o">.</span> <span class="n">Raw</span> <span class="n">data</span>
 	<span class="n">sDateTimeOn</span> <span class="p">:</span> <span class="n">STRING</span><span class="p">(</span><span class="mi">24</span><span class="p">);</span>			<span class="o">//</span><span class="n">Date</span> <span class="ow">and</span> <span class="n">time</span> <span class="n">when</span> <span class="n">the</span> <span class="n">error</span> <span class="n">occured</span><span class="o">.</span> <span class="n">Readable</span> <span class="nb">format</span>
 	<span class="n">nDateTimeOff</span> <span class="p">:</span> <span class="n">ULINT</span><span class="p">;</span>				<span class="o">//</span><span class="n">Date</span> <span class="ow">and</span> <span class="n">time</span> <span class="n">when</span> <span class="n">the</span> <span class="n">error</span> <span class="n">disapeared</span><span class="o">.</span> <span class="n">Raw</span> <span class="n">data</span>
 	<span class="n">sDateTimeOff</span> <span class="p">:</span> <span class="n">STRING</span><span class="p">(</span><span class="mi">24</span><span class="p">);</span>			<span class="o">//</span><span class="n">Date</span> <span class="ow">and</span> <span class="n">time</span> <span class="n">when</span> <span class="n">the</span> <span class="n">error</span> <span class="n">disapeared</span><span class="o">.</span> <span class="n">Readable</span> <span class="nb">format</span>
 	<span class="n">bWcState</span> <span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>					<span class="o">//</span><span class="n">WcState</span> <span class="n">variable</span> <span class="n">of</span> <span class="n">the</span> <span class="n">terminal</span>
 	<span class="n">uiInfoDataState</span> <span class="p">:</span> <span class="n">UINT</span><span class="p">;</span>				<span class="o">//</span><span class="n">InfoData</span><span class="o">.</span><span class="n">State</span> <span class="n">variable</span> <span class="n">of</span> <span class="n">the</span> <span class="n">terminal</span>
 	<span class="n">sErrorMessage</span> <span class="p">:</span> <span class="n">STRING</span> <span class="p">(</span><span class="mi">128</span><span class="p">);</span>		<span class="o">//</span><span class="n">Error</span> <span class="n">message</span> <span class="n">corresponding</span> <span class="n">to</span> <span class="n">WcState</span> <span class="ow">and</span> <span class="n">InfoData</span><span class="o">.</span><span class="n">State</span>
 	<span class="n">ErrorType</span> <span class="p">:</span> <span class="n">INT</span><span class="p">;</span> 					<span class="o">//</span><span class="n">Error</span> <span class="n">types</span> <span class="p">(</span><span class="n">priorities</span><span class="p">)</span> <span class="n">need</span> <span class="n">to</span> <span class="n">be</span> <span class="n">developed</span>
 <span class="n">END_STRUCT</span>
 <span class="n">END_TYPE</span>
</pre></div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-errorhandling-fb-errorlist-tcpou-tcplcobject">
<h2>tc_mca_std_lib/POUs/ErrorHandling/FB_ErrorList.TcPOU (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-errorhandling-fb-errorlist-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">FB_ErrorList</span><span class="p">:</span> <span class="n">Declaration</span>

 <span class="n">FUNCTION_BLOCK</span> <span class="n">FB_ErrorList</span>
 
 <span class="n">VAR_INPUT</span>
 	<span class="n">En</span> <span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>											<span class="o">//</span><span class="n">Enable</span> <span class="nb">input</span>
 	<span class="n">bReset</span> <span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>										<span class="o">//</span><span class="n">Delete</span> <span class="nb">all</span> <span class="n">Error</span> <span class="n">entry</span>
 	<span class="n">lErrorID</span> <span class="p">:</span> <span class="n">ULINT</span><span class="p">;</span>									<span class="o">//</span><span class="n">ErrorID</span> <span class="n">to</span> <span class="n">be</span> <span class="n">acknoledged</span>
 	<span class="n">bACK</span> <span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>										<span class="o">//</span><span class="n">Acknoledge</span> <span class="n">the</span> <span class="n">given</span> <span class="n">error</span> <span class="ow">and</span> <span class="n">delete</span> <span class="n">it</span> <span class="kn">from</span> <span class="nn">the</span> <span class="nb">list</span>
 <span class="n">END_VAR</span>
 	
 <span class="n">VAR_OUTPUT</span>
 	<span class="n">EnO</span> <span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>											<span class="o">//</span><span class="n">Enable</span> <span class="n">output</span>
 	<span class="n">nNoError</span><span class="p">:</span> <span class="n">UINT</span><span class="p">;</span>										<span class="o">//</span><span class="n">Number</span> <span class="n">of</span> <span class="n">Errors</span>
 	<span class="n">nNoOverflow</span> <span class="p">:</span> <span class="n">INT</span><span class="p">;</span>									<span class="o">//</span><span class="n">Number</span> <span class="n">of</span> <span class="n">Overflows</span>
 	<span class="n">pErrorSystem</span> <span class="p">:</span> <span class="n">POINTER</span> <span class="n">TO</span> <span class="n">ST_ErrorSystem</span><span class="p">;</span>			<span class="o">//</span><span class="n">Pointer</span> <span class="n">to</span> <span class="n">ErrorSystem</span>
 <span class="n">END_VAR</span>
 
 <span class="n">VAR</span>
 	<span class="n">nFreePos</span> <span class="p">:</span> <span class="n">UINT</span><span class="p">;</span>									<span class="o">//</span><span class="n">Number</span> <span class="n">of</span> <span class="n">free</span> <span class="n">position</span> <span class="ow">in</span> <span class="n">the</span> <span class="nb">list</span>
 	<span class="n">nListCnt1</span> <span class="p">:</span> <span class="n">UINT</span><span class="p">;</span>									<span class="o">//</span><span class="n">work</span> <span class="n">variable</span>
 	<span class="n">ErrorSystem</span> <span class="p">:</span> <span class="n">ST_ErrorSystem</span><span class="p">;</span>						<span class="o">//</span><span class="n">Data</span> <span class="n">structure</span> <span class="n">of</span> <span class="n">the</span> <span class="n">Error</span> <span class="nb">list</span>
 <span class="n">END_VAR</span>

<span class="o">-</span> <span class="n">FB_ErrorList</span><span class="p">:</span> <span class="n">ST</span>

 <span class="p">(</span><span class="o">*</span>
 <span class="o">*</span> <span class="o">================================================================================</span>
 <span class="o">*</span>                                   <span class="n">DESCRIPTION</span>
 <span class="o">*</span> <span class="o">================================================================================</span>
 <span class="o">*</span> <span class="n">This</span> <span class="n">Function</span> <span class="n">Block</span> <span class="n">implements</span> <span class="n">the</span> <span class="n">core</span> <span class="n">structure</span> <span class="n">of</span> <span class="n">the</span> <span class="n">Error</span><span class="o">/</span><span class="ne">Warning</span> <span class="n">Handling</span>
 <span class="o">*</span> <span class="n">system</span><span class="o">.</span> <span class="n">It</span> <span class="n">realizes</span> <span class="n">the</span> <span class="n">datastructure</span> <span class="n">containing</span> <span class="n">every</span> <span class="n">Error</span> <span class="n">Entry</span><span class="p">,</span> <span class="n">collect</span>
 <span class="o">*</span> <span class="n">statistics</span> <span class="n">about</span> <span class="n">the</span> <span class="n">usage</span> <span class="ow">and</span> <span class="n">manage</span> <span class="n">the</span> <span class="n">Error</span> <span class="n">Entries</span><span class="o">.</span>
 <span class="o">*</span> <span class="n">Note</span><span class="p">:</span> <span class="n">The</span> <span class="n">system</span> <span class="ow">is</span> <span class="n">under</span> <span class="n">development</span><span class="p">,</span> <span class="n">most</span> <span class="n">of</span> <span class="n">the</span> <span class="n">functionalities</span> <span class="n">are</span> <span class="ow">not</span>
 <span class="o">*</span> <span class="n">implemented</span> <span class="ow">or</span> <span class="n">existing</span> <span class="n">functionalities</span> <span class="n">may</span> <span class="n">change</span> <span class="k">with</span> <span class="n">time</span><span class="o">.</span>
 <span class="o">*</span> <span class="o">================================================================================</span>
 <span class="o">*</span><span class="p">)</span>
 <span class="n">EnO</span> <span class="p">:</span><span class="o">=</span> <span class="n">En</span><span class="p">;</span>
 
 <span class="o">//</span><span class="n">Ponter</span> <span class="n">to</span> <span class="n">ErrorSystem</span>
 <span class="n">pErrorSystem</span> <span class="p">:</span><span class="o">=</span> <span class="n">ADR</span><span class="p">(</span><span class="n">ErrorSystem</span><span class="p">);</span>
 
 <span class="o">//</span><span class="n">Number</span> <span class="n">of</span> <span class="n">overflows</span>
 <span class="n">nNoOverflow</span> <span class="p">:</span><span class="o">=</span> <span class="n">ErrorSystem</span><span class="o">.</span><span class="n">nNoOverflows</span><span class="p">;</span>
 
 <span class="n">IF</span> <span class="n">bReset</span> <span class="n">THEN</span>
 	<span class="n">MEMSET</span> <span class="p">(</span> <span class="n">ADR</span><span class="p">(</span><span class="n">ErrorSystem</span><span class="o">.</span><span class="n">aErrorData</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="mi">0</span><span class="p">,</span> <span class="n">GVL_ErrorSystem</span><span class="o">.</span><span class="n">cSizeOfErrorData</span> <span class="o">*</span> <span class="n">SIZEOF</span><span class="p">(</span><span class="n">DUT_TerminalError</span><span class="p">));</span>
 	<span class="n">ErrorSystem</span><span class="o">.</span><span class="n">lNextErrorID</span> <span class="p">:</span><span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
 <span class="n">END_IF</span>
 
 <span class="o">//</span><span class="n">Number</span> <span class="n">of</span> <span class="n">errors</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">system</span>
 <span class="n">nNoError</span> <span class="p">:</span><span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
 <span class="n">FOR</span> <span class="n">nListCnt1</span> <span class="p">:</span><span class="o">=</span> <span class="mi">0</span> <span class="n">TO</span> <span class="n">GVL_ErrorSystem</span><span class="o">.</span><span class="n">cSizeOfErrorData</span> <span class="o">-</span> <span class="mi">1</span> <span class="n">DO</span>
 	<span class="n">IF</span> <span class="n">ErrorSystem</span><span class="o">.</span><span class="n">aErrorData</span><span class="p">[</span><span class="n">nListCnt1</span><span class="p">]</span><span class="o">.</span><span class="n">Error_ID</span> <span class="o">&lt;&gt;</span> <span class="mi">0</span>  <span class="n">THEN</span>
 		<span class="n">nNoError</span> <span class="p">:</span><span class="o">=</span> <span class="n">nNoError</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span> 
 	<span class="n">END_IF</span>
 <span class="n">END_FOR</span>
 <span class="n">ErrorSystem</span><span class="o">.</span><span class="n">nNoErrors</span> <span class="p">:</span><span class="o">=</span> <span class="n">nNoError</span><span class="p">;</span>
 
 <span class="o">//</span><span class="n">Number</span> <span class="n">of</span> <span class="n">free</span> <span class="n">position</span> <span class="ow">in</span> <span class="n">the</span> <span class="nb">list</span>
 <span class="n">nFreePos</span> <span class="p">:</span><span class="o">=</span> <span class="n">GVL_ErrorSystem</span><span class="o">.</span><span class="n">cSizeOfErrorData</span> <span class="o">-</span> <span class="n">nNoError</span><span class="p">;</span>
 
 <span class="o">//</span><span class="n">Acknoledge</span> <span class="n">specified</span> <span class="n">Error</span> <span class="n">entry</span>
 <span class="n">IF</span> <span class="n">bACK</span> <span class="n">THEN</span>
 	<span class="n">FOR</span> <span class="n">nListCnt1</span> <span class="p">:</span><span class="o">=</span> <span class="mi">0</span> <span class="n">TO</span> <span class="n">GVL_ErrorSystem</span><span class="o">.</span><span class="n">cSizeOfErrorData</span> <span class="o">-</span> <span class="mi">1</span> <span class="n">DO</span>
 		<span class="n">IF</span> <span class="n">ErrorSystem</span><span class="o">.</span><span class="n">aErrorData</span><span class="p">[</span><span class="n">nListCnt1</span><span class="p">]</span><span class="o">.</span><span class="n">Error_ID</span> <span class="o">=</span> <span class="n">lErrorID</span> <span class="n">THEN</span>
 			<span class="n">ErrorSystem</span><span class="o">.</span><span class="n">aErrorData</span><span class="p">[</span><span class="n">nListCnt1</span><span class="p">]</span><span class="o">.</span><span class="n">ErrorState</span> <span class="p">:</span><span class="o">=</span> <span class="n">DUT_ErrorState</span><span class="o">.</span><span class="n">Acknowledged</span><span class="p">;</span>
 		<span class="n">END_IF</span>
 	<span class="n">END_FOR</span>
 <span class="n">END_IF</span>
 
 <span class="o">//</span><span class="n">Deleting</span> <span class="n">acknoledged</span> <span class="n">errors</span>
 <span class="n">FOR</span> <span class="n">nListCnt1</span> <span class="p">:</span><span class="o">=</span> <span class="mi">0</span> <span class="n">TO</span> <span class="n">GVL_ErrorSystem</span><span class="o">.</span><span class="n">cSizeOfErrorData</span> <span class="o">-</span> <span class="mi">1</span> <span class="n">DO</span>
 	<span class="n">IF</span> <span class="n">ErrorSystem</span><span class="o">.</span><span class="n">aErrorData</span><span class="p">[</span><span class="n">nListCnt1</span><span class="p">]</span><span class="o">.</span><span class="n">ErrorState</span> <span class="o">=</span> <span class="n">DUT_ErrorState</span><span class="o">.</span><span class="n">Acknowledged</span> <span class="n">THEN</span>
 		<span class="n">MEMMOVE</span> <span class="p">(</span><span class="n">ADR</span><span class="p">(</span><span class="n">ErrorSystem</span><span class="o">.</span><span class="n">aErrorData</span><span class="p">[</span><span class="n">nListCnt1</span><span class="p">]),</span> <span class="n">ADR</span><span class="p">(</span><span class="n">ErrorSystem</span><span class="o">.</span><span class="n">aErrorData</span><span class="p">[</span><span class="n">nListCnt1</span><span class="o">+</span><span class="mi">1</span><span class="p">]),</span> <span class="p">(</span><span class="n">GVL_ErrorSystem</span><span class="o">.</span><span class="n">cSizeOfErrorData</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">nListCnt1</span><span class="p">)</span> <span class="o">*</span> <span class="n">SIZEOF</span><span class="p">(</span><span class="n">DUT_TerminalError</span><span class="p">));</span>
 		<span class="n">MEMSET</span><span class="p">(</span><span class="n">ADR</span><span class="p">(</span><span class="n">ErrorSystem</span><span class="o">.</span><span class="n">aErrorData</span><span class="p">[</span><span class="n">GVL_ErrorSystem</span><span class="o">.</span><span class="n">cSizeOfErrorData</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]),</span> <span class="mi">0</span><span class="p">,</span> <span class="n">SIZEOF</span><span class="p">(</span><span class="n">DUT_TerminalError</span><span class="p">));</span>
 	<span class="n">END_IF</span>
 <span class="n">END_FOR</span>
</pre></div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-errorhandling-fb-terminalerror-tcpou-tcplcobject">
<h2>tc_mca_std_lib/POUs/ErrorHandling/FB_TerminalError.TcPOU (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-errorhandling-fb-terminalerror-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">FB_TerminalError</span><span class="p">:</span> <span class="n">Declaration</span>

 <span class="n">FUNCTION_BLOCK</span> <span class="n">FB_TerminalError</span>
 
 <span class="n">VAR_INPUT</span>
 	<span class="n">En</span>					<span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">iTerminal_ID</span>		<span class="p">:</span> <span class="n">INT</span><span class="p">;</span>
 	<span class="n">bWcState</span>			<span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">uiInfoData_State</span>	<span class="p">:</span> <span class="n">UINT</span><span class="p">;</span>
 	<span class="n">pErrorSystem</span>		<span class="p">:</span> <span class="n">POINTER</span> <span class="n">TO</span> <span class="n">ST_ErrorSystem</span><span class="p">;</span>					<span class="o">//</span><span class="n">Pointer</span> <span class="n">to</span> <span class="n">the</span> <span class="n">error</span> <span class="n">system</span>
 <span class="n">END_VAR</span>
 
 <span class="n">VAR_OUTPUT</span>
 	<span class="n">EnO</span> <span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bError</span> <span class="p">:</span> <span class="n">BOOL</span> <span class="p">:</span><span class="o">=</span> <span class="n">FALSE</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 
 <span class="n">VAR</span>
 	<span class="n">iStateError</span> <span class="p">:</span> <span class="n">UINT</span><span class="p">;</span>
 	<span class="n">iOtherError</span> <span class="p">:</span> <span class="n">UINT</span><span class="p">;</span>
 	<span class="n">ErrorData</span>	<span class="p">:</span> <span class="n">DUT_TerminalError</span><span class="p">;</span>
 	<span class="n">nErrSysCNT</span>	<span class="p">:</span> <span class="n">UINT</span><span class="p">;</span>
 	
 	<span class="o">//</span><span class="n">testing</span>
 	<span class="n">bStateChanged</span> <span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>						<span class="o">//</span><span class="n">Indicate</span> <span class="k">if</span> <span class="n">state</span> <span class="n">change</span> <span class="n">happened</span>
 	<span class="n">uiInfoData_State_Prev</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">:</span><span class="o">=</span> <span class="mi">16</span><span class="c1">#8;		//Previous value of Infodata.State</span>
 	<span class="n">bWcState_Prev</span> <span class="p">:</span> <span class="n">BOOL</span> <span class="p">:</span><span class="o">=</span> <span class="n">FALSE</span><span class="p">;</span>				<span class="o">//</span><span class="n">Previous</span> <span class="n">state</span> <span class="n">of</span> <span class="n">WcState</span>
 	
 	<span class="o">//</span><span class="n">FB</span><span class="o">-</span><span class="n">s</span>
 	
 <span class="n">END_VAR</span>

<span class="o">-</span> <span class="n">FB_TerminalError</span><span class="p">:</span> <span class="n">ST</span>

 <span class="p">(</span><span class="o">*</span>
 <span class="n">Currently</span><span class="p">:</span>
 
 <span class="n">Problem</span><span class="p">:</span>
 
 <span class="n">TODO</span><span class="p">:</span>
 
 <span class="o">*</span><span class="p">)</span>
 
 <span class="o">//</span><span class="n">Connect</span> <span class="n">EN</span> <span class="n">to</span> <span class="n">EnO</span>
 <span class="n">EnO</span><span class="p">:</span><span class="o">=</span><span class="n">En</span><span class="p">;</span>
 
 <span class="o">//</span><span class="n">Check</span> <span class="k">if</span> <span class="n">pointer</span> <span class="ow">is</span> <span class="n">OK</span>
 <span class="n">IF</span> <span class="n">pErrorSystem</span><span class="o">=</span><span class="mi">0</span> <span class="n">THEN</span> <span class="n">RETURN</span><span class="p">;</span> <span class="n">END_IF</span>
 
 <span class="o">//</span><span class="n">Any</span> <span class="n">difference</span> <span class="kn">from</span> <span class="nn">normal</span> <span class="n">state</span> <span class="n">creates</span> <span class="n">an</span> <span class="n">error</span>
 <span class="n">IF</span> <span class="n">En</span> <span class="n">AND</span> <span class="p">(</span><span class="n">bWcState</span> <span class="n">OR</span> <span class="n">uiInfoData_State</span><span class="o">&lt;&gt;</span><span class="mi">16</span><span class="c1">#8) THEN</span>
 	<span class="n">bError</span><span class="p">:</span><span class="o">=</span><span class="n">TRUE</span><span class="p">;</span>
 <span class="n">ELSE</span>
 	<span class="n">bError</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 <span class="n">END_IF</span>
 
 <span class="o">//</span><span class="n">Change</span> <span class="n">detection</span>
 <span class="n">IF</span> <span class="n">uiInfoData_State</span> <span class="o">&lt;&gt;</span> <span class="n">uiInfoData_State_Prev</span> <span class="n">OR</span> <span class="n">bWcState</span> <span class="o">&lt;&gt;</span> <span class="n">bWcState_Prev</span> <span class="n">THEN</span>
 	<span class="n">bStateChanged</span> <span class="p">:</span><span class="o">=</span> <span class="n">TRUE</span><span class="p">;</span>
 <span class="n">ELSE</span>
 	<span class="n">bStateChanged</span> <span class="p">:</span><span class="o">=</span> <span class="n">FALSE</span><span class="p">;</span>
 <span class="n">END_IF</span>
 
 <span class="o">//</span><span class="n">Update</span> <span class="n">previous</span> <span class="n">values</span>
 <span class="n">uiInfoData_State_Prev</span> <span class="p">:</span><span class="o">=</span> <span class="n">uiInfoData_State</span><span class="p">;</span>
 <span class="n">bWcState_Prev</span> <span class="p">:</span><span class="o">=</span> <span class="n">bWcState</span><span class="p">;</span>
 
 <span class="o">//</span><span class="n">Decision</span> <span class="n">tree</span>
 <span class="n">IF</span> <span class="n">bStateChanged</span> <span class="n">THEN</span>
 	<span class="n">IF</span> <span class="n">bError</span> <span class="n">THEN</span>
 		<span class="n">IF</span> <span class="n">ErrorData</span><span class="o">.</span><span class="n">ErrorState</span> <span class="o">=</span> <span class="n">DUT_ErrorState</span><span class="o">.</span><span class="n">Active</span> <span class="n">THEN</span>
 			<span class="o">//</span><span class="n">Close</span> <span class="n">active</span> <span class="n">error</span>
 			<span class="o">//</span><span class="n">Read</span> <span class="n">system</span> <span class="n">time</span>
 			<span class="n">ErrorData</span><span class="o">.</span><span class="n">nDateTimeOff</span> <span class="p">:</span><span class="o">=</span> <span class="n">Tc2_EtherCAT</span><span class="o">.</span><span class="n">F_GetActualDcTime64</span><span class="p">();</span>
 			<span class="n">ErrorData</span><span class="o">.</span><span class="n">sDateTimeOff</span> <span class="p">:</span><span class="o">=</span> <span class="n">Tc2_EtherCat</span><span class="o">.</span><span class="n">DCTIME64_TO_STRING</span><span class="p">(</span><span class="n">ErrorData</span><span class="o">.</span><span class="n">nDateTimeOff</span><span class="p">);</span>
 			<span class="n">ErrorData</span><span class="o">.</span><span class="n">ErrorState</span> <span class="p">:</span><span class="o">=</span> <span class="n">DUT_ErrorState</span><span class="o">.</span><span class="n">Inactive</span><span class="p">;</span>
 			<span class="o">//</span><span class="n">Write</span> <span class="n">Off</span><span class="o">-</span><span class="n">time</span> <span class="n">to</span> <span class="n">Error</span> <span class="n">System</span>
 			<span class="n">FOR</span> <span class="n">nErrSysCNT</span> <span class="p">:</span><span class="o">=</span> <span class="mi">0</span> <span class="n">TO</span> <span class="n">GVL_ErrorSystem</span><span class="o">.</span><span class="n">cSizeOfErrorData</span> <span class="o">-</span> <span class="mi">1</span> <span class="n">DO</span>
 				<span class="n">IF</span> <span class="n">pErrorSystem</span><span class="o">^.</span><span class="n">aErrorData</span><span class="p">[</span><span class="n">nErrSysCNT</span><span class="p">]</span><span class="o">.</span><span class="n">Error_ID</span> <span class="o">=</span> <span class="n">ErrorData</span><span class="o">.</span><span class="n">Error_ID</span> <span class="n">THEN</span>
 					<span class="n">pErrorSystem</span><span class="o">^.</span><span class="n">aErrorData</span><span class="p">[</span><span class="n">nErrSysCNT</span><span class="p">]</span><span class="o">.</span><span class="n">nDateTimeOff</span> <span class="p">:</span><span class="o">=</span> <span class="n">ErrorData</span><span class="o">.</span><span class="n">nDateTimeOff</span><span class="p">;</span>
 					<span class="n">pErrorSystem</span><span class="o">^.</span><span class="n">aErrorData</span><span class="p">[</span><span class="n">nErrSysCNT</span><span class="p">]</span><span class="o">.</span><span class="n">sDateTimeOff</span> <span class="p">:</span><span class="o">=</span> <span class="n">ErrorData</span><span class="o">.</span><span class="n">sDateTimeOff</span><span class="p">;</span>
 					<span class="n">pErrorSystem</span><span class="o">^.</span><span class="n">aErrorData</span><span class="p">[</span><span class="n">nErrSysCNT</span><span class="p">]</span><span class="o">.</span><span class="n">ErrorState</span> <span class="p">:</span><span class="o">=</span> <span class="n">DUT_ErrorState</span><span class="o">.</span><span class="n">Inactive</span><span class="p">;</span>
 					<span class="n">EXIT</span><span class="p">;</span>
 				<span class="n">END_IF</span>
 			<span class="n">END_FOR</span>
 				
 			<span class="o">//</span><span class="n">Clear</span> <span class="n">ErrorData</span>
 			<span class="n">MEMSET</span><span class="p">(</span><span class="n">ADR</span><span class="p">(</span><span class="n">ErrorData</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="n">SIZEOF</span><span class="p">(</span><span class="n">ErrorData</span><span class="p">));</span>
 		<span class="n">END_IF</span>
 		
 		<span class="o">//</span><span class="n">Open</span> <span class="n">a</span> <span class="n">new</span> <span class="n">error</span>
 		<span class="n">ErrorData</span><span class="o">.</span><span class="n">ErrorState</span> <span class="p">:</span><span class="o">=</span> <span class="n">DUT_ErrorState</span><span class="o">.</span><span class="n">Active</span><span class="p">;</span>												<span class="o">//</span><span class="n">Set</span> <span class="n">Error</span> <span class="n">State</span>
 		<span class="n">ErrorData</span><span class="o">.</span><span class="n">nDateTimeOn</span> <span class="p">:</span><span class="o">=</span> <span class="n">Tc2_EtherCAT</span><span class="o">.</span><span class="n">F_GetActualDcTime64</span><span class="p">();</span>								<span class="o">//</span><span class="n">Get</span> <span class="n">system</span> <span class="n">time</span>
 		<span class="n">ErrorData</span><span class="o">.</span><span class="n">sDateTimeOn</span> <span class="p">:</span><span class="o">=</span> <span class="n">Tc2_EtherCat</span><span class="o">.</span><span class="n">DCTIME64_TO_STRING</span><span class="p">(</span><span class="n">ErrorData</span><span class="o">.</span><span class="n">nDateTimeOn</span><span class="p">);</span>			<span class="o">//</span><span class="n">Convert</span> <span class="n">to</span> <span class="n">string</span>
 		<span class="n">ErrorData</span><span class="o">.</span><span class="n">iTerminalID</span> <span class="p">:</span><span class="o">=</span> <span class="n">iTerminal_ID</span><span class="p">;</span>														<span class="o">//</span><span class="n">Terminal_ID</span>
 		<span class="n">ErrorData</span><span class="o">.</span><span class="n">bWcState</span> <span class="p">:</span><span class="o">=</span> <span class="n">bWcState</span><span class="p">;</span>																<span class="o">//</span><span class="n">WcState</span> <span class="n">bit</span>
 		<span class="n">ErrorData</span><span class="o">.</span><span class="n">uiInfoDataState</span> <span class="p">:</span><span class="o">=</span> <span class="n">uiInfoData_State</span><span class="p">;</span>												<span class="o">//</span><span class="n">uiInfoData_State</span>
 		
 		<span class="o">//</span><span class="n">Error</span> <span class="n">message</span> <span class="n">according</span> <span class="n">to</span> <span class="n">uiInfoData_State</span> <span class="ow">and</span> <span class="n">WcState</span>
 		<span class="n">iStateError</span> <span class="p">:</span><span class="o">=</span> <span class="p">(</span><span class="n">uiInfoData_State</span> <span class="n">AND</span> <span class="mi">16</span><span class="c1">#000F);												//Mask for operation state </span>
 		<span class="n">iOtherError</span> <span class="p">:</span><span class="o">=</span> <span class="p">(</span><span class="n">uiInfoData_State</span> <span class="n">AND</span> <span class="mi">16</span><span class="c1">#00F0);												//Mask for the other 3 kind of errors</span>
 		<span class="o">//</span><span class="n">Error</span> <span class="n">messages</span> <span class="n">according</span> <span class="n">to</span> <span class="n">the</span> <span class="n">least</span> <span class="n">significant</span> <span class="n">digit</span>
 		<span class="n">CASE</span> <span class="n">iStateError</span> <span class="n">OF</span>
 			<span class="mi">16</span><span class="c1">#0001 : ErrorData.sErrorMessage := &#39;Slave in INIT state;   &#39;;</span>
 			<span class="mi">16</span><span class="c1">#0002 : ErrorData.sErrorMessage := &#39;Slave in PREOP state;   &#39;;</span>
 			<span class="mi">16</span><span class="c1">#0003 : ErrorData.sErrorMessage := &#39;Slave in BOOT state;   &#39;;</span>
 			<span class="mi">16</span><span class="c1">#0004 : ErrorData.sErrorMessage := &#39;Slave in SAFEOP state;   &#39;;</span>
 			<span class="mi">16</span><span class="c1">#0008 : ;																			//Normal operation state</span>
 		<span class="n">ELSE</span>
 			<span class="n">ErrorData</span><span class="o">.</span><span class="n">sErrorMessage</span> <span class="p">:</span><span class="o">=</span> <span class="s1">&#39;Undefined State of operation;   &#39;</span><span class="p">;</span>						<span class="o">//</span><span class="n">I</span> <span class="n">hope</span> <span class="n">we</span> <span class="n">will</span> <span class="n">never</span> <span class="n">see</span> <span class="n">this</span> <span class="n">message</span>
 			<span class="n">ErrorData</span><span class="o">.</span><span class="n">sErrorMessage</span> <span class="p">:</span><span class="o">=</span> <span class="n">CONCAT</span> <span class="p">(</span><span class="n">ErrorData</span><span class="o">.</span><span class="n">sErrorMessage</span><span class="p">,</span> <span class="n">UINT_TO_STRING</span><span class="p">(</span><span class="n">iStateError</span><span class="p">));</span>
 			<span class="n">ErrorData</span><span class="o">.</span><span class="n">sErrorMessage</span> <span class="p">:</span><span class="o">=</span> <span class="n">CONCAT</span> <span class="p">(</span><span class="n">ErrorData</span><span class="o">.</span><span class="n">sErrorMessage</span><span class="p">,</span> <span class="s1">&#39;   &#39;</span><span class="p">);</span>
 		<span class="n">END_CASE</span>
 		
 		<span class="o">//</span><span class="n">Error</span> <span class="n">messages</span> <span class="n">according</span> <span class="n">to</span> <span class="n">the</span> <span class="n">second</span> <span class="n">least</span> <span class="n">significant</span> <span class="n">digit</span>
 		<span class="n">CASE</span> <span class="n">iOtherError</span> <span class="n">OF</span>
 			<span class="mi">16</span><span class="c1">#0000 : ;																			//No error case</span>
 			<span class="mi">16</span><span class="c1">#0010 : ErrorData.sErrorMessage := CONCAT (ErrorData.sErrorMessage, &#39;Slave signals error;   &#39;);</span>
 			<span class="mi">16</span><span class="c1">#0020 : ErrorData.sErrorMessage := CONCAT (ErrorData.sErrorMessage, &#39;Invalid vendorID/productCode read;   &#39;);</span>
 			<span class="mi">16</span><span class="c1">#0040 : ErrorData.sErrorMessage := CONCAT (ErrorData.sErrorMessage, &#39;Initialisation error occured;   &#39;);</span>
 		<span class="n">ELSE</span>
 			<span class="n">ErrorData</span><span class="o">.</span><span class="n">sErrorMessage</span> <span class="p">:</span><span class="o">=</span> <span class="n">CONCAT</span> <span class="p">(</span><span class="n">ErrorData</span><span class="o">.</span><span class="n">sErrorMessage</span><span class="p">,</span> <span class="s1">&#39;Undefined Error ID: &#39;</span><span class="p">);</span>
 			<span class="n">ErrorData</span><span class="o">.</span><span class="n">sErrorMessage</span> <span class="p">:</span><span class="o">=</span> <span class="n">CONCAT</span> <span class="p">(</span><span class="n">ErrorData</span><span class="o">.</span><span class="n">sErrorMessage</span><span class="p">,</span> <span class="n">UINT_TO_STRING</span><span class="p">(</span><span class="n">iOtherError</span><span class="p">));</span>
 			<span class="n">ErrorData</span><span class="o">.</span><span class="n">sErrorMessage</span> <span class="p">:</span><span class="o">=</span> <span class="n">CONCAT</span> <span class="p">(</span><span class="n">ErrorData</span><span class="o">.</span><span class="n">sErrorMessage</span><span class="p">,</span> <span class="s1">&#39;   &#39;</span><span class="p">);</span>
 		<span class="n">END_CASE</span>
 	
 		<span class="o">//</span><span class="n">Errormessage</span> <span class="n">according</span> <span class="n">to</span> <span class="n">WcState</span> <span class="n">bit</span>
 		<span class="n">IF</span> <span class="n">bWcState</span> <span class="n">THEN</span>
 			<span class="n">ErrorData</span><span class="o">.</span><span class="n">sErrorMessage</span> <span class="p">:</span><span class="o">=</span> <span class="n">CONCAT</span> <span class="p">(</span><span class="n">ErrorData</span><span class="o">.</span><span class="n">sErrorMessage</span><span class="p">,</span> <span class="s1">&#39;Invalid Data;&#39;</span><span class="p">);</span>
 		<span class="n">END_IF</span>
 		
 		<span class="o">//</span><span class="n">Check</span> <span class="k">for</span> <span class="n">overflow</span>
 		<span class="n">IF</span> <span class="n">pErrorSystem</span><span class="o">^.</span><span class="n">nNoErrors</span> <span class="o">=</span> <span class="n">GVL_ErrorSystem</span><span class="o">.</span><span class="n">cSizeOfErrorData</span> <span class="n">THEN</span>
 			<span class="n">pErrorSystem</span><span class="o">^.</span><span class="n">nNoOverflows</span> <span class="p">:</span><span class="o">=</span> <span class="n">pErrorSystem</span><span class="o">^.</span><span class="n">nNoOverflows</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span>
 		<span class="n">END_IF</span>
 		
 		<span class="o">//</span><span class="n">Write</span> <span class="n">Error</span> <span class="n">Data</span> <span class="n">into</span> <span class="n">Error</span> <span class="n">System</span>
 		<span class="n">ErrorData</span><span class="o">.</span><span class="n">Error_ID</span> <span class="p">:</span><span class="o">=</span> <span class="n">pErrorSystem</span><span class="o">^.</span><span class="n">lNextErrorID</span> <span class="p">;</span>
 		<span class="n">MEMMOVE</span><span class="p">(</span> <span class="n">ADR</span><span class="p">(</span><span class="n">pErrorSystem</span><span class="o">^.</span><span class="n">aErrorData</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="n">ADR</span><span class="p">(</span><span class="n">pErrorSystem</span><span class="o">^.</span><span class="n">aErrorData</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="p">(</span><span class="n">GVL_ErrorSystem</span><span class="o">.</span><span class="n">cSizeOfErrorData</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="n">SIZEOF</span><span class="p">(</span><span class="n">DUT_TerminalError</span><span class="p">));</span>
 		<span class="n">pErrorSystem</span><span class="o">^.</span><span class="n">aErrorData</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">:</span><span class="o">=</span> <span class="n">ErrorData</span><span class="p">;</span>
 		<span class="n">pErrorSystem</span><span class="o">^.</span><span class="n">lNextErrorID</span> <span class="p">:</span><span class="o">=</span> <span class="n">pErrorSystem</span><span class="o">^.</span><span class="n">lNextErrorID</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span>
 		
 	<span class="n">ELSE</span>
 		<span class="o">//</span><span class="n">Close</span> <span class="n">Active</span> <span class="n">Error</span>
 		<span class="o">//</span><span class="n">Read</span> <span class="n">system</span> <span class="n">time</span>
 		<span class="n">ErrorData</span><span class="o">.</span><span class="n">nDateTimeOff</span> <span class="p">:</span><span class="o">=</span> <span class="n">Tc2_EtherCAT</span><span class="o">.</span><span class="n">F_GetActualDcTime64</span><span class="p">();</span>
 		<span class="n">ErrorData</span><span class="o">.</span><span class="n">sDateTimeOff</span> <span class="p">:</span><span class="o">=</span> <span class="n">Tc2_EtherCat</span><span class="o">.</span><span class="n">DCTIME64_TO_STRING</span><span class="p">(</span><span class="n">ErrorData</span><span class="o">.</span><span class="n">nDateTimeOff</span><span class="p">);</span>
 		<span class="n">ErrorData</span><span class="o">.</span><span class="n">ErrorState</span> <span class="p">:</span><span class="o">=</span> <span class="n">DUT_ErrorState</span><span class="o">.</span><span class="n">Inactive</span><span class="p">;</span>
 		
 		<span class="o">//</span><span class="n">Write</span> <span class="n">Off</span> <span class="n">time</span> <span class="n">to</span> <span class="n">Error</span> <span class="n">System</span>
 		<span class="n">FOR</span> <span class="n">nErrSysCNT</span> <span class="p">:</span><span class="o">=</span> <span class="mi">0</span> <span class="n">TO</span> <span class="n">GVL_ErrorSystem</span><span class="o">.</span><span class="n">cSizeOfErrorData</span> <span class="o">-</span> <span class="mi">1</span> <span class="n">DO</span>
 			<span class="n">IF</span> <span class="n">pErrorSystem</span><span class="o">^.</span><span class="n">aErrorData</span><span class="p">[</span><span class="n">nErrSysCNT</span><span class="p">]</span><span class="o">.</span><span class="n">Error_ID</span> <span class="o">=</span> <span class="n">ErrorData</span><span class="o">.</span><span class="n">Error_ID</span> <span class="n">THEN</span>
 				<span class="n">pErrorSystem</span><span class="o">^.</span><span class="n">aErrorData</span><span class="p">[</span><span class="n">nErrSysCNT</span><span class="p">]</span><span class="o">.</span><span class="n">nDateTimeOff</span> <span class="p">:</span><span class="o">=</span> <span class="n">ErrorData</span><span class="o">.</span><span class="n">nDateTimeOff</span><span class="p">;</span>
 				<span class="n">pErrorSystem</span><span class="o">^.</span><span class="n">aErrorData</span><span class="p">[</span><span class="n">nErrSysCNT</span><span class="p">]</span><span class="o">.</span><span class="n">sDateTimeOff</span> <span class="p">:</span><span class="o">=</span> <span class="n">ErrorData</span><span class="o">.</span><span class="n">sDateTimeOff</span><span class="p">;</span>
 				<span class="n">pErrorSystem</span><span class="o">^.</span><span class="n">aErrorData</span><span class="p">[</span><span class="n">nErrSysCNT</span><span class="p">]</span><span class="o">.</span><span class="n">ErrorState</span> <span class="p">:</span><span class="o">=</span> <span class="n">DUT_ErrorState</span><span class="o">.</span><span class="n">Inactive</span><span class="p">;</span>
 				<span class="n">EXIT</span><span class="p">;</span>
 			<span class="n">END_IF</span>
 		<span class="n">END_FOR</span>
 			
 		<span class="o">//</span><span class="n">Clear</span> <span class="n">ErrorData</span>
 		<span class="n">MEMSET</span><span class="p">(</span><span class="n">ADR</span><span class="p">(</span><span class="n">ErrorData</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="n">SIZEOF</span><span class="p">(</span><span class="n">ErrorData</span><span class="p">));</span>
 	<span class="n">END_IF</span>
 <span class="n">END_IF</span>
</pre></div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-errorhandling-gvl-errorsystem-tcgvl-tcplcobject">
<h2>tc_mca_std_lib/POUs/ErrorHandling/GVL_ErrorSystem.TcGVL (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-errorhandling-gvl-errorsystem-tcgvl-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">GVL_ErrorSystem</span><span class="p">:</span> <span class="n">Declaration</span>

 <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;qualified_only&#39;</span><span class="p">}</span>
 <span class="n">VAR_GLOBAL</span> <span class="n">CONSTANT</span>
 	<span class="n">cSizeOfErrorData</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">:</span><span class="o">=</span> <span class="mi">128</span><span class="p">;</span>
 	
 <span class="n">END_VAR</span>
</pre></div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-errorhandling-st-errorsystem-tcdut-tcplcobject">
<h2>tc_mca_std_lib/POUs/ErrorHandling/ST_ErrorSystem.TcDUT (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-errorhandling-st-errorsystem-tcdut-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">ST_ErrorSystem</span><span class="p">:</span> <span class="n">Declaration</span>

 <span class="n">TYPE</span> <span class="n">ST_ErrorSystem</span> <span class="p">:</span>
 <span class="n">STRUCT</span>
 	<span class="o">//</span><span class="n">Array</span> <span class="n">of</span> <span class="n">error</span> <span class="n">data</span><span class="o">.</span> <span class="n">Size</span> <span class="o">=</span> <span class="n">cSizeOfErrorData</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">GVL</span>
 	<span class="n">aErrorData</span> <span class="p">:</span> <span class="n">ARRAY</span> <span class="p">[</span><span class="mf">0.</span><span class="o">.</span><span class="n">GVL_ErrorSystem</span><span class="o">.</span><span class="n">cSizeOfErrorData</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="n">OF</span> <span class="n">DUT_TerminalError</span><span class="p">;</span>
 	<span class="n">lNextErrorID</span> <span class="p">:</span> <span class="n">ULINT</span> <span class="p">:</span><span class="o">=</span> <span class="mi">1</span><span class="p">;</span>					<span class="o">//</span><span class="n">ErrorID</span> <span class="k">for</span> <span class="n">the</span> <span class="nb">next</span> <span class="n">error</span> <span class="n">entry</span>
 	<span class="n">nNoErrors</span> <span class="p">:</span> <span class="n">UINT</span><span class="p">;</span>							<span class="o">//</span><span class="n">Number</span> <span class="n">of</span> <span class="n">errors</span> <span class="ow">in</span> <span class="n">the</span> <span class="nb">list</span>
 	<span class="n">nNoOverflows</span> <span class="p">:</span> <span class="n">INT</span> <span class="p">:</span><span class="o">=</span> <span class="mi">0</span><span class="p">;</span>					<span class="o">//</span><span class="n">Number</span> <span class="n">of</span> <span class="n">overflows</span><span class="o">.</span> <span class="n">How</span> <span class="n">many</span> <span class="n">error</span> <span class="n">entries</span> <span class="n">have</span> <span class="n">been</span> <span class="n">lost</span>
 <span class="n">END_STRUCT</span>
 <span class="n">END_TYPE</span>
</pre></div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-hardware-ethercat-terminals-analog-inputs-el3174-0002-tcpou-tcplcobject">
<h2>tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Analog_Inputs/EL3174_0002.TcPOU (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-analog-inputs-el3174-0002-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">EL3174_0002</span><span class="p">:</span> <span class="n">Declaration</span>

 <span class="o">//</span><span class="n">EL3174</span><span class="o">-</span><span class="mi">0002</span> <span class="o">|</span> <span class="mi">4</span><span class="o">-</span><span class="n">channel</span> <span class="n">analog</span> <span class="nb">input</span><span class="p">,</span> <span class="o">-</span><span class="mi">10</span><span class="o">/</span><span class="mf">0.</span><span class="o">..+</span><span class="mi">10</span><span class="n">V</span><span class="p">,</span> <span class="o">-</span><span class="mi">20</span><span class="o">/</span><span class="mi">0</span><span class="o">/+</span><span class="mf">4.</span><span class="o">..</span><span class="mi">20</span><span class="n">mA</span><span class="p">,</span> <span class="mi">16</span> <span class="n">bit</span><span class="p">,</span> <span class="n">differential</span>
 <span class="n">FUNCTION_BLOCK</span> <span class="n">EL3174_0002</span>
 
 <span class="n">VAR_INPUT</span>
 	<span class="n">En</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">iTerminal_ID</span> <span class="p">:</span> <span class="n">INT</span><span class="p">;</span>
 	<span class="n">ErrorSystem</span> <span class="p">:</span> <span class="n">POINTER</span> <span class="n">TO</span> <span class="n">ST_ErrorSystem</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 	
 <span class="n">VAR_OUTPUT</span>
 	<span class="n">EnO</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">iAi_Ch1_Value</span> <span class="p">:</span> <span class="n">INT</span><span class="p">;</span>
 	<span class="n">iAi_Ch2_Value</span> <span class="p">:</span> <span class="n">INT</span><span class="p">;</span>
 	<span class="n">iAi_Ch3_Value</span> <span class="p">:</span> <span class="n">INT</span><span class="p">;</span>
 	<span class="n">iAi_Ch4_Value</span> <span class="p">:</span> <span class="n">INT</span><span class="p">;</span>
 	<span class="n">bError</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 
 <span class="n">VAR</span>
 	<span class="o">//</span><span class="n">Channels</span>
 	<span class="n">AI_Std_Ch_1_Status</span>	<span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="p">:</span> <span class="n">WORD</span><span class="p">;</span>
 	<span class="n">AI_Std_Ch_1_Value</span> 	<span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="p">:</span> <span class="n">INT</span><span class="p">;</span>
 	<span class="n">AI_Std_Ch_2_Status</span> 	<span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="p">:</span> <span class="n">WORD</span><span class="p">;</span>
 	<span class="n">AI_Std_Ch_2_Value</span> 	<span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="p">:</span> <span class="n">INT</span><span class="p">;</span>
 	<span class="n">AI_Std_Ch_3_Status</span> 	<span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="p">:</span> <span class="n">WORD</span><span class="p">;</span>
 	<span class="n">AI_Std_Ch_3_Value</span> 	<span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="p">:</span> <span class="n">INT</span><span class="p">;</span>
 	<span class="n">AI_Std_Ch_4_Status</span> 	<span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="p">:</span> <span class="n">WORD</span><span class="p">;</span>
 	<span class="n">AI_Std_Ch_4_Value</span> 	<span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="p">:</span> <span class="n">INT</span><span class="p">;</span>
 	
 	<span class="o">//</span><span class="n">Terminal</span> <span class="n">status</span>
 	<span class="n">WcState_WcState</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">InfoData_State</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">UINT</span><span class="p">;</span>
 	
 	<span class="o">//</span><span class="n">FB</span><span class="o">-</span><span class="n">s</span>
 	<span class="n">EL3174_0002_Error</span> <span class="p">:</span> <span class="n">FB_TerminalError</span><span class="p">;</span>
 <span class="n">END_VAR</span>

<span class="o">-</span> <span class="n">EL3174_0002</span><span class="p">:</span> <span class="n">ST</span>

 <span class="p">(</span><span class="o">*</span>
 <span class="o">*</span> <span class="n">TODO</span><span class="p">:</span>
 <span class="o">*</span> <span class="n">Status</span> <span class="n">words</span> <span class="n">of</span> <span class="n">the</span> <span class="n">channels</span>
 <span class="o">*</span><span class="p">)</span>
 
 <span class="n">EnO</span> <span class="p">:</span><span class="o">=</span> <span class="n">En</span><span class="p">;</span>
 
 <span class="o">//</span><span class="n">Error</span> <span class="n">FB</span> <span class="n">instance</span>
 <span class="n">EL3174_0002_Error</span><span class="p">(</span>
 	<span class="n">En</span> <span class="p">:</span><span class="o">=</span> <span class="n">TRUE</span><span class="p">,</span>
 	<span class="n">iTerminal_ID</span> <span class="p">:</span><span class="o">=</span> <span class="n">iTerminal_ID</span><span class="p">,</span>
 	<span class="n">bWcState</span> <span class="p">:</span><span class="o">=</span> <span class="n">WcState_WcState</span><span class="p">,</span>
 	<span class="n">uiInfoData_State</span> <span class="p">:</span><span class="o">=</span> <span class="n">InfoData_State</span><span class="p">,</span>
 	<span class="n">pErrorSystem</span> <span class="p">:</span><span class="o">=</span> <span class="n">ErrorSystem</span><span class="p">,</span>
 	<span class="n">bError</span> <span class="o">=&gt;</span> <span class="n">bError</span><span class="p">,</span>
 <span class="p">);</span>
 
 <span class="n">IF</span> <span class="n">En</span> <span class="n">THEN</span>
 	<span class="n">IF</span> <span class="n">bError</span> <span class="o">=</span> <span class="n">FALSE</span> <span class="n">THEN</span>
 		<span class="n">iAi_Ch1_Value</span> <span class="p">:</span><span class="o">=</span> <span class="n">AI_Std_Ch_1_Value</span><span class="p">;</span>
 		<span class="n">iAi_Ch2_Value</span> <span class="p">:</span><span class="o">=</span> <span class="n">AI_Std_Ch_2_Value</span><span class="p">;</span>
 		<span class="n">iAi_Ch3_Value</span> <span class="p">:</span><span class="o">=</span> <span class="n">AI_Std_Ch_3_Value</span><span class="p">;</span>
 		<span class="n">iAi_Ch4_Value</span> <span class="p">:</span><span class="o">=</span> <span class="n">AI_Std_Ch_4_Value</span><span class="p">;</span>
 	<span class="n">ELSE</span>
 		<span class="n">iAi_Ch1_Value</span> <span class="p">:</span><span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
 		<span class="n">iAi_Ch2_Value</span> <span class="p">:</span><span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
 		<span class="n">iAi_Ch3_Value</span> <span class="p">:</span><span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
 		<span class="n">iAi_Ch4_Value</span> <span class="p">:</span><span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
 	<span class="n">END_IF</span>
 <span class="n">END_IF</span>
</pre></div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-hardware-ethercat-terminals-analog-inputs-el3214-tcpou-tcplcobject">
<h2>tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Analog_Inputs/EL3214.TcPOU (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-analog-inputs-el3214-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">EL3214</span><span class="p">:</span> <span class="n">Declaration</span>

 <span class="o">//</span><span class="n">EL3214</span> <span class="o">|</span> <span class="mi">4</span><span class="o">-</span><span class="n">channel</span> <span class="n">analog</span> <span class="nb">input</span> <span class="n">terminal</span><span class="p">,</span> <span class="n">PT100</span> <span class="p">(</span><span class="n">RTD</span><span class="p">)</span>
 <span class="n">FUNCTION_BLOCK</span> <span class="n">EL3214</span>
 
 <span class="n">VAR_INPUT</span>
 	<span class="n">En</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">iTerminal_ID</span> <span class="p">:</span> <span class="n">INT</span><span class="p">;</span>
 	<span class="n">ErrorSystem</span> <span class="p">:</span> <span class="n">POINTER</span> <span class="n">TO</span> <span class="n">ST_ErrorSystem</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 
 <span class="n">VAR_OUTPUT</span>
 	<span class="n">EnO</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">iAi_Ch1_Value</span> <span class="p">:</span> <span class="n">INT</span><span class="p">;</span>
 	<span class="n">iAi_Ch2_Value</span> <span class="p">:</span> <span class="n">INT</span><span class="p">;</span>
 	<span class="n">iAi_Ch3_Value</span> <span class="p">:</span> <span class="n">INT</span><span class="p">;</span>
 	<span class="n">iAi_Ch4_Value</span> <span class="p">:</span> <span class="n">INT</span><span class="p">;</span>
 	<span class="n">bError</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 
 <span class="n">VAR</span>
 	<span class="o">//</span><span class="n">Channels</span>
 	<span class="n">AI_RTD_Ch_1_Status</span>	<span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="p">:</span> <span class="n">WORD</span><span class="p">;</span>
 	<span class="n">AI_RTD_Ch_1_Value</span> 	<span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="p">:</span> <span class="n">INT</span><span class="p">;</span>
 	<span class="n">AI_RTD_Ch_2_Status</span> 	<span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="p">:</span> <span class="n">WORD</span><span class="p">;</span>
 	<span class="n">AI_RTD_Ch_2_Value</span> 	<span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="p">:</span> <span class="n">INT</span><span class="p">;</span>
 	<span class="n">AI_RTD_Ch_3_Status</span> 	<span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="p">:</span> <span class="n">WORD</span><span class="p">;</span>
 	<span class="n">AI_RTD_Ch_3_Value</span> 	<span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="p">:</span> <span class="n">INT</span><span class="p">;</span>
 	<span class="n">AI_RTD_Ch_4_Status</span> 	<span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="p">:</span> <span class="n">WORD</span><span class="p">;</span>
 	<span class="n">AI_RTD_Ch_4_Value</span> 	<span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="p">:</span> <span class="n">INT</span><span class="p">;</span>
 	
 	<span class="o">//</span><span class="n">Terminal</span> <span class="n">status</span>
 	<span class="n">WcState_WcState</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">InfoData_State</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">UINT</span><span class="p">;</span>
 	
 	<span class="o">//</span><span class="n">FB</span><span class="o">-</span><span class="n">s</span>
 	<span class="n">EL3214_Error</span> <span class="p">:</span> <span class="n">FB_TerminalError</span><span class="p">;</span>
 <span class="n">END_VAR</span>

<span class="o">-</span> <span class="n">EL3214</span><span class="p">:</span> <span class="n">ST</span>

 <span class="p">(</span><span class="o">*</span>
 <span class="o">*</span> <span class="n">TODO</span><span class="p">:</span>
 <span class="o">*</span> <span class="n">Status</span> <span class="n">words</span> <span class="n">of</span> <span class="n">the</span> <span class="n">channels</span>
 <span class="o">*</span><span class="p">)</span>
 
 <span class="n">EnO</span> <span class="p">:</span><span class="o">=</span> <span class="n">En</span><span class="p">;</span>
 
 <span class="o">//</span><span class="n">Error</span> <span class="n">FB</span> <span class="n">instance</span>
 <span class="n">EL3214_Error</span><span class="p">(</span>
 	<span class="n">En</span> <span class="p">:</span><span class="o">=</span> <span class="n">TRUE</span><span class="p">,</span>
 	<span class="n">iTerminal_ID</span> <span class="p">:</span><span class="o">=</span> <span class="n">iTerminal_ID</span><span class="p">,</span>
 	<span class="n">bWcState</span> <span class="p">:</span><span class="o">=</span> <span class="n">WcState_WcState</span><span class="p">,</span>
 	<span class="n">uiInfoData_State</span> <span class="p">:</span><span class="o">=</span> <span class="n">InfoData_State</span><span class="p">,</span>
 	<span class="n">pErrorSystem</span> <span class="p">:</span><span class="o">=</span> <span class="n">ErrorSystem</span><span class="p">,</span>
 	<span class="n">bError</span> <span class="o">=&gt;</span> <span class="n">bError</span><span class="p">,</span>
 <span class="p">);</span>
 
 <span class="n">IF</span> <span class="n">En</span> <span class="n">THEN</span>
 	<span class="n">IF</span> <span class="n">bError</span> <span class="o">=</span> <span class="n">FALSE</span> <span class="n">THEN</span>
 		<span class="n">iAi_Ch1_Value</span> <span class="p">:</span><span class="o">=</span> <span class="n">AI_RTD_Ch_1_Value</span><span class="p">;</span>
 		<span class="n">iAi_Ch2_Value</span> <span class="p">:</span><span class="o">=</span> <span class="n">AI_RTD_Ch_2_Value</span><span class="p">;</span>
 		<span class="n">iAi_Ch3_Value</span> <span class="p">:</span><span class="o">=</span> <span class="n">AI_RTD_Ch_3_Value</span><span class="p">;</span>
 		<span class="n">iAi_Ch4_Value</span> <span class="p">:</span><span class="o">=</span> <span class="n">AI_RTD_Ch_4_Value</span><span class="p">;</span>
 	<span class="n">ELSE</span>
 		<span class="n">iAi_Ch1_Value</span> <span class="p">:</span><span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
 		<span class="n">iAi_Ch2_Value</span> <span class="p">:</span><span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
 		<span class="n">iAi_Ch3_Value</span> <span class="p">:</span><span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
 		<span class="n">iAi_Ch4_Value</span> <span class="p">:</span><span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
 	<span class="n">END_IF</span>
 <span class="n">END_IF</span>
</pre></div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-hardware-ethercat-terminals-analog-inputs-el3255-tcpou-tcplcobject">
<h2>tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Analog_Inputs/EL3255.TcPOU (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-analog-inputs-el3255-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">EL3255</span><span class="p">:</span> <span class="n">Declaration</span>

 <span class="o">//</span><span class="n">EL3255</span> <span class="o">|</span> <span class="mi">5</span><span class="o">-</span><span class="n">channel</span> <span class="n">potentiometer</span> <span class="n">measurement</span> <span class="k">with</span> <span class="n">sensor</span> <span class="n">supply</span>
 <span class="n">FUNCTION_BLOCK</span> <span class="n">EL3255</span>
 
 <span class="n">VAR_INPUT</span>
 	<span class="n">En</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">iTerminal_ID</span> <span class="p">:</span> <span class="n">INT</span><span class="p">;</span>
 	<span class="n">ErrorSystem</span> <span class="p">:</span> <span class="n">POINTER</span> <span class="n">TO</span> <span class="n">ST_ErrorSystem</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 
 <span class="n">VAR_OUTPUT</span>
 	<span class="n">EnO</span> <span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>	
 	<span class="n">Ch1_Value</span> <span class="p">:</span> <span class="n">INT</span><span class="p">;</span>
 	<span class="n">Ch2_Value</span> <span class="p">:</span> <span class="n">INT</span><span class="p">;</span>
 	<span class="n">Ch3_Value</span> <span class="p">:</span> <span class="n">INT</span><span class="p">;</span>
 	<span class="n">Ch4_Value</span> <span class="p">:</span> <span class="n">INT</span><span class="p">;</span>
 	<span class="n">Ch5_Value</span> <span class="p">:</span> <span class="n">INT</span><span class="p">;</span>
 	<span class="n">bError</span> <span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 
 <span class="n">VAR</span>
 	<span class="n">AI_Std_Ch1_Value</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="p">:</span> <span class="n">INT</span><span class="p">;</span>
 	<span class="n">AI_Std_Ch2_Value</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="p">:</span> <span class="n">INT</span><span class="p">;</span>
 	<span class="n">AI_Std_Ch3_Value</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="p">:</span> <span class="n">INT</span><span class="p">;</span>
 	<span class="n">AI_Std_Ch4_Value</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="p">:</span> <span class="n">INT</span><span class="p">;</span>
 	<span class="n">AI_Std_Ch5_Value</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="p">:</span> <span class="n">INT</span><span class="p">;</span>
 	<span class="n">WcState_WcState</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">InfoData_State</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">UINT</span><span class="p">;</span>
 	
 	<span class="o">//</span><span class="n">FB</span><span class="o">-</span><span class="n">s</span>
 	<span class="n">EL3255_Error</span> <span class="p">:</span> <span class="n">FB_TerminalError</span><span class="p">;</span>
 <span class="n">END_VAR</span>

<span class="o">-</span> <span class="n">EL3255</span><span class="p">:</span> <span class="n">ST</span>

 <span class="p">(</span><span class="o">*</span>
 <span class="o">*</span> <span class="n">TODO</span><span class="p">:</span>
 <span class="o">*</span> <span class="n">Channel</span> <span class="n">Status</span> <span class="n">words</span>
 <span class="o">*</span><span class="p">)</span>
 
 <span class="n">EnO</span><span class="p">:</span><span class="o">=</span><span class="n">En</span><span class="p">;</span>
 
 <span class="o">//</span><span class="n">Error</span> <span class="n">FB</span> <span class="n">instance</span>
 <span class="n">EL3255_Error</span><span class="p">(</span>
 	<span class="n">En</span> <span class="p">:</span><span class="o">=</span> <span class="n">TRUE</span><span class="p">,</span>
 	<span class="n">iTerminal_ID</span> <span class="p">:</span><span class="o">=</span> <span class="n">iTerminal_ID</span><span class="p">,</span>
 	<span class="n">bWcState</span> <span class="p">:</span><span class="o">=</span> <span class="n">WcState_WcState</span><span class="p">,</span>
 	<span class="n">uiInfoData_State</span> <span class="p">:</span><span class="o">=</span> <span class="n">InfoData_State</span><span class="p">,</span>
 	<span class="n">pErrorSystem</span> <span class="p">:</span><span class="o">=</span> <span class="n">ErrorSystem</span><span class="p">,</span>
 	<span class="n">bError</span> <span class="o">=&gt;</span> <span class="n">bError</span><span class="p">,</span>
 <span class="p">);</span>
 
 <span class="n">IF</span> <span class="n">EN</span> <span class="n">THEN</span>
 	<span class="n">IF</span> <span class="n">NOT</span> <span class="n">bError</span> <span class="n">THEN</span>
 		<span class="n">Ch1_Value</span> <span class="p">:</span><span class="o">=</span> <span class="n">AI_Std_Ch1_Value</span><span class="p">;</span>
 		<span class="n">Ch2_Value</span> <span class="p">:</span><span class="o">=</span> <span class="n">AI_Std_Ch2_Value</span><span class="p">;</span>
 		<span class="n">Ch3_Value</span> <span class="p">:</span><span class="o">=</span> <span class="n">AI_Std_Ch3_Value</span><span class="p">;</span>
 		<span class="n">Ch4_Value</span> <span class="p">:</span><span class="o">=</span> <span class="n">AI_Std_Ch4_Value</span><span class="p">;</span>
 		<span class="n">Ch5_Value</span> <span class="p">:</span><span class="o">=</span> <span class="n">AI_Std_Ch5_Value</span><span class="p">;</span>
 	<span class="n">ELSE</span>
 		<span class="n">Ch1_Value</span> <span class="p">:</span><span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
 		<span class="n">Ch2_Value</span> <span class="p">:</span><span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
 		<span class="n">Ch3_Value</span> <span class="p">:</span><span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
 		<span class="n">Ch4_Value</span> <span class="p">:</span><span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
 		<span class="n">Ch5_Value</span> <span class="p">:</span><span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
 	<span class="n">END_IF</span>
 <span class="n">END_IF</span>
</pre></div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-hardware-ethercat-terminals-analog-inputs-fb-calculatefrequency-3702-v0-01-tcpou-tcplcobject">
<h2>tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Analog_Inputs/FB_CalculateFrequency_3702_v0_01.TcPOU (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-analog-inputs-fb-calculatefrequency-3702-v0-01-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">FB_CalculateFrequency_3702_v0_01</span><span class="p">:</span> <span class="n">Declaration</span>

 <span class="n">FUNCTION_BLOCK</span> <span class="n">FB_CalculateFrequency_3702_v0_01</span>
 <span class="n">VAR</span> <span class="n">CONSTANT</span>
 	<span class="o">///</span><span class="mi">200</span> <span class="n">samples</span><span class="o">/</span><span class="n">period</span>
 	<span class="n">cBufferSize</span><span class="p">:</span> <span class="n">INT</span> <span class="p">:</span><span class="o">=</span> <span class="mi">1000</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 <span class="n">VAR_INPUT</span>
 	<span class="n">En</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bCalculate</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">aBufferValue</span><span class="p">:</span> <span class="n">ARRAY</span><span class="p">[</span><span class="mf">0.</span><span class="o">.</span><span class="p">(</span><span class="n">cBuffersize</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)]</span> <span class="n">OF</span> <span class="n">INT</span><span class="p">;</span>
 	<span class="n">aBufferDcTime</span><span class="p">:</span> <span class="n">ARRAY</span><span class="p">[</span><span class="mf">0.</span><span class="o">.</span><span class="p">(</span><span class="n">cBuffersize</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)]</span> <span class="n">OF</span> <span class="n">UDINT</span><span class="p">;</span>
 	<span class="o">///</span><span class="n">If</span> <span class="n">curve</span> <span class="n">has</span> <span class="n">a</span> <span class="n">DC</span> <span class="n">offset</span>
 	<span class="n">nDCOffset</span><span class="p">:</span> <span class="n">INT</span> <span class="p">:</span><span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 <span class="n">VAR_OUTPUT</span>
 	<span class="n">EnO</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bError</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">fActFrequency</span><span class="p">:</span> <span class="n">LREAL</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 <span class="n">VAR</span>
 	<span class="n">nIndex</span><span class="p">:</span> <span class="n">INT</span><span class="p">;</span>
 	<span class="n">nFirstZeroCrossing</span><span class="p">:</span> <span class="n">INT</span><span class="p">;</span>
 	<span class="n">nLastZeroCrossing</span><span class="p">:</span> <span class="n">INT</span><span class="p">;</span>
 	<span class="n">rTimeFirst</span><span class="p">:</span> <span class="n">REAL</span> <span class="p">:</span><span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
 	<span class="n">rTimeLast</span><span class="p">:</span> <span class="n">REAL</span> <span class="p">:</span><span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
 	<span class="n">rTimeRes</span><span class="p">:</span> <span class="n">REAL</span> <span class="p">:</span><span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
 	<span class="n">nCrossings</span><span class="p">:</span> <span class="n">INT</span> <span class="p">:</span><span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 <span class="n">VAR_TEMP</span>
 	<span class="n">rRange</span><span class="p">:</span> <span class="n">REAL</span> <span class="p">:</span><span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
 	<span class="n">rTimeSpan</span><span class="p">:</span> <span class="n">REAL</span> <span class="p">:</span><span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
 <span class="n">END_VAR</span>

<span class="o">-</span> <span class="n">FB_CalculateFrequency_3702_v0_01</span><span class="p">:</span> <span class="n">ST</span>

 <span class="n">EnO</span><span class="p">:</span><span class="o">=</span><span class="n">En</span><span class="p">;</span>
 <span class="n">bError</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 <span class="n">nCrossings</span><span class="p">:</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
 <span class="n">IF</span> <span class="n">En</span> <span class="n">AND</span> <span class="n">bCalculate</span> <span class="n">THEN</span>
 	<span class="o">//</span><span class="n">Serach</span> <span class="k">for</span> <span class="n">crossings</span> <span class="n">of</span> <span class="n">nDCOffset</span>
 	<span class="n">FOR</span> <span class="n">nIndex</span><span class="p">:</span><span class="o">=</span><span class="mi">1</span> <span class="n">TO</span> <span class="n">cBuffersize</span><span class="o">-</span><span class="mi">1</span> <span class="n">DO</span>
 		<span class="n">IF</span><span class="p">((</span><span class="n">aBufferValue</span><span class="p">[</span><span class="n">nIndex</span><span class="p">]</span><span class="o">&gt;</span><span class="n">nDCOffset</span> <span class="n">AND</span> <span class="n">aBufferValue</span><span class="p">[</span><span class="n">nIndex</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">&lt;=</span><span class="n">nDCOffset</span><span class="p">)</span> <span class="n">OR</span> <span class="p">(</span><span class="n">aBufferValue</span><span class="p">[</span><span class="n">nIndex</span><span class="p">]</span><span class="o">&lt;</span><span class="n">nDCOffset</span> <span class="n">AND</span> <span class="n">aBufferValue</span><span class="p">[</span><span class="n">nIndex</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">&gt;=</span><span class="n">nDCOffset</span><span class="p">))</span>	<span class="n">THEN</span>
 			<span class="n">IF</span><span class="p">(</span><span class="n">nCrossings</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span> <span class="n">THEN</span>
 				<span class="n">nFirstZeroCrossing</span><span class="p">:</span><span class="o">=</span><span class="n">nIndex</span><span class="p">;</span>
 			<span class="n">END_IF</span>
 			<span class="n">nLastZeroCrossing</span><span class="p">:</span><span class="o">=</span><span class="n">nIndex</span><span class="p">;</span>
 			<span class="n">nCrossings</span><span class="p">:</span><span class="o">=</span><span class="n">nCrossings</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span>
 		<span class="n">END_IF</span>
 	<span class="n">END_FOR</span>	
 	
 	<span class="n">IF</span> <span class="n">nFirstZeroCrossing</span> <span class="o">&lt;</span> <span class="n">nLastZeroCrossing</span>  <span class="n">AND</span>  <span class="n">nCrossings</span><span class="o">&gt;</span><span class="mi">2</span> <span class="n">THEN</span>
 		<span class="o">//</span><span class="n">interpolate</span> <span class="n">zero</span> <span class="n">crossings</span> <span class="k">for</span> <span class="n">higher</span> <span class="n">accuracy</span>
 		<span class="n">rTimeRes</span><span class="p">:</span><span class="o">=</span><span class="n">UDINT_TO_REAL</span><span class="p">(</span><span class="n">aBufferDcTime</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">aBufferDcTime</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span> <span class="o">//</span><span class="n">Buffer</span> <span class="n">must</span> <span class="n">contain</span> <span class="n">more</span> <span class="n">than</span> <span class="mi">2</span> <span class="n">values</span>
 		<span class="n">rRange</span><span class="p">:</span><span class="o">=</span><span class="n">INT_TO_REAL</span><span class="p">(</span><span class="n">ABS</span><span class="p">(</span><span class="n">aBufferValue</span><span class="p">[</span><span class="n">nFirstZeroCrossing</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">aBufferValue</span><span class="p">[</span><span class="n">nFirstZeroCrossing</span><span class="p">]));</span>
 		<span class="n">rTimeFirst</span><span class="p">:</span><span class="o">=</span><span class="n">UDINT_TO_REAL</span><span class="p">(</span> <span class="n">aBufferDcTime</span><span class="p">[</span><span class="n">nFirstZeroCrossing</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span><span class="o">+</span><span class="n">ABS</span><span class="p">(</span><span class="n">INT_TO_REAL</span><span class="p">(</span><span class="n">aBufferValue</span><span class="p">[</span><span class="n">nFirstZeroCrossing</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span><span class="o">/</span><span class="n">rRange</span><span class="o">*</span><span class="n">rTimeRes</span><span class="p">);</span>
 		<span class="n">rRange</span><span class="p">:</span><span class="o">=</span><span class="n">INT_TO_REAL</span><span class="p">(</span><span class="n">ABS</span><span class="p">(</span><span class="n">aBufferValue</span><span class="p">[</span><span class="n">nLastZeroCrossing</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">aBufferValue</span><span class="p">[</span><span class="n">nLastZeroCrossing</span><span class="p">]));</span>
 		<span class="n">rTimeLast</span><span class="p">:</span><span class="o">=</span><span class="n">UDINT_TO_REAL</span><span class="p">(</span> <span class="n">aBufferDcTime</span><span class="p">[</span><span class="n">nLastZeroCrossing</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span><span class="o">+</span><span class="n">ABS</span><span class="p">(</span><span class="n">INT_TO_REAL</span><span class="p">(</span><span class="n">aBufferValue</span><span class="p">[</span><span class="n">nLastZeroCrossing</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span><span class="o">/</span><span class="n">rRange</span><span class="o">*</span><span class="n">rTimeRes</span><span class="p">);</span>
 
 		<span class="o">//</span><span class="n">Time</span> <span class="n">span</span> <span class="n">first</span> <span class="n">to</span> <span class="n">last</span> <span class="p">(</span><span class="n">considering</span> <span class="n">that</span> <span class="nb">max</span> <span class="n">one</span> <span class="n">time</span> <span class="n">counter</span> <span class="n">overflow</span> <span class="n">have</span> <span class="n">occured</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">total</span> <span class="n">time</span> <span class="nb">range</span> <span class="n">of</span> <span class="n">the</span> <span class="n">time</span> <span class="n">buffer</span><span class="p">)</span>	
 		<span class="n">IF</span> <span class="n">rTimeFirst</span><span class="o">&lt;</span><span class="n">rTimeLast</span> <span class="n">THEN</span>		
 			<span class="n">rTimeSpan</span><span class="p">:</span><span class="o">=</span><span class="n">rTimeLast</span><span class="o">-</span><span class="n">rTimeFirst</span><span class="p">;</span>
 		<span class="n">ELSE</span> <span class="o">//</span><span class="n">overflow</span> <span class="n">of</span> <span class="n">counter</span> <span class="n">once</span> <span class="p">(</span><span class="n">only</span> <span class="mi">32</span><span class="n">bit</span> <span class="n">timestamp</span> <span class="o">=</span><span class="mf">4.29</span><span class="n">seconds</span><span class="p">)</span>
 			<span class="n">rTimeSpan</span><span class="p">:</span><span class="o">=</span><span class="mf">4294967296.0</span><span class="o">-</span><span class="n">rTimeFirst</span><span class="o">+</span><span class="n">rTimeLast</span><span class="p">;</span>
 		<span class="n">END_IF</span>
 		
 		<span class="n">fActFrequency</span><span class="p">:</span><span class="o">=</span><span class="mf">1000000000.0</span><span class="o">/</span><span class="n">rTimeSpan</span><span class="o">*</span><span class="p">(</span><span class="n">nCrossings</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">;</span> <span class="o">//</span><span class="n">two</span> <span class="n">crossings</span> <span class="n">per</span> <span class="n">period</span> <span class="o">=&gt;</span> <span class="n">Average</span> <span class="n">frequency</span> <span class="n">over</span> <span class="n">buffer</span><span class="o">.</span>
 	<span class="n">ELSE</span>
 		<span class="n">fActFrequency</span><span class="p">:</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
 	<span class="n">END_IF</span>
 <span class="n">END_IF</span>
</pre></div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-hardware-ethercat-terminals-digital-inputs-el1008-tcpou-tcplcobject">
<h2>tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Digital_Inputs/EL1008.TcPOU (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-digital-inputs-el1008-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">EL1008</span><span class="p">:</span> <span class="n">Declaration</span>

 <span class="o">///</span><span class="n">EL1008</span> <span class="o">|</span> <span class="mi">8</span><span class="o">-</span><span class="n">channel</span> <span class="n">digital</span> <span class="nb">input</span> <span class="n">terminal</span> <span class="mi">24</span> <span class="n">V</span> <span class="n">DC</span><span class="p">,</span> <span class="mi">3</span> <span class="n">ms</span>
 <span class="n">FUNCTION_BLOCK</span> <span class="n">EL1008</span>
 
 <span class="n">VAR_INPUT</span>
 	<span class="n">En</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">iTerminal_ID</span> <span class="p">:</span> <span class="n">INT</span><span class="p">;</span>
 	<span class="n">ErrorSystem</span> <span class="p">:</span> <span class="n">POINTER</span> <span class="n">TO</span> <span class="n">ST_ErrorSystem</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 
 <span class="n">VAR_OUTPUT</span>
 	<span class="n">EnO</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDi_1</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDi_2</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDi_3</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDi_4</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDi_5</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDi_6</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDi_7</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDi_8</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bError</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 
 <span class="n">VAR</span>
 	<span class="n">Channel_1_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">Channel_2_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">Channel_3_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">Channel_4_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">Channel_5_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">Channel_6_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">Channel_7_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">Channel_8_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">WcState_WcState</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">InfoData_State</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">UINT</span><span class="p">;</span>
 	
 	<span class="o">//</span><span class="n">FB</span><span class="o">-</span><span class="n">s</span>
 	<span class="n">EL1008_Error</span> <span class="p">:</span> <span class="n">FB_TerminalError</span><span class="p">;</span>
 <span class="n">END_VAR</span>

<span class="o">-</span> <span class="n">EL1008</span><span class="p">:</span> <span class="n">ST</span>

 <span class="n">EnO</span><span class="p">:</span><span class="o">=</span><span class="n">En</span><span class="p">;</span>
 
 <span class="o">//</span><span class="n">Error</span> <span class="n">FB</span> <span class="n">instance</span>
 <span class="n">EL1008_Error</span><span class="p">(</span>
 	<span class="n">En</span> <span class="p">:</span><span class="o">=</span> <span class="n">TRUE</span><span class="p">,</span>
 	<span class="n">iTerminal_ID</span> <span class="p">:</span><span class="o">=</span> <span class="n">iTerminal_ID</span><span class="p">,</span>
 	<span class="n">bWcState</span> <span class="p">:</span><span class="o">=</span> <span class="n">WcState_WcState</span><span class="p">,</span>
 	<span class="n">uiInfoData_State</span> <span class="p">:</span><span class="o">=</span> <span class="n">InfoData_State</span><span class="p">,</span>
 	<span class="n">pErrorSystem</span> <span class="p">:</span><span class="o">=</span> <span class="n">ErrorSystem</span><span class="p">,</span>
 	<span class="n">bError</span> <span class="o">=&gt;</span> <span class="n">bError</span><span class="p">,</span>
 <span class="p">);</span>
 
 <span class="n">IF</span> <span class="n">En</span> <span class="n">THEN</span>
 	<span class="n">IF</span> <span class="n">bError</span><span class="o">=</span><span class="n">FALSE</span> <span class="n">THEN</span>
 		<span class="n">bDi_1</span><span class="p">:</span><span class="o">=</span><span class="n">Channel_1_Input</span><span class="p">;</span>
 		<span class="n">bDi_2</span><span class="p">:</span><span class="o">=</span><span class="n">Channel_2_Input</span><span class="p">;</span>
 		<span class="n">bDi_3</span><span class="p">:</span><span class="o">=</span><span class="n">Channel_3_Input</span><span class="p">;</span>
 		<span class="n">bDi_4</span><span class="p">:</span><span class="o">=</span><span class="n">Channel_4_Input</span><span class="p">;</span>
 		<span class="n">bDi_5</span><span class="p">:</span><span class="o">=</span><span class="n">Channel_5_Input</span><span class="p">;</span>
 		<span class="n">bDi_6</span><span class="p">:</span><span class="o">=</span><span class="n">Channel_6_Input</span><span class="p">;</span>
 		<span class="n">bDi_7</span><span class="p">:</span><span class="o">=</span><span class="n">Channel_7_Input</span><span class="p">;</span>
 		<span class="n">bDi_8</span><span class="p">:</span><span class="o">=</span><span class="n">Channel_8_Input</span><span class="p">;</span>
 	<span class="n">ELSE</span>
 		<span class="n">bDi_1</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">bDi_2</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">bDi_3</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">bDi_4</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">bDi_5</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">bDi_6</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">bDi_7</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">bDi_8</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 	<span class="n">END_IF</span>
 <span class="n">END_IF</span>
</pre></div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-hardware-ethercat-terminals-digital-inputs-el1018-tcpou-tcplcobject">
<h2>tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Digital_Inputs/EL1018.TcPOU (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-digital-inputs-el1018-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">EL1018</span><span class="p">:</span> <span class="n">Declaration</span>

 <span class="o">///</span><span class="n">EL1018</span> <span class="o">|</span> <span class="mi">8</span><span class="o">-</span><span class="n">channel</span> <span class="n">digital</span> <span class="nb">input</span> <span class="n">terminal</span> <span class="mi">24</span> <span class="n">V</span> <span class="n">DC</span><span class="p">,</span> <span class="mi">10</span> <span class="n">Âµs</span>
 <span class="n">FUNCTION_BLOCK</span> <span class="n">EL1018</span>
 
 <span class="n">VAR_INPUT</span>
 	<span class="n">En</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">iTerminal_ID</span> <span class="p">:</span> <span class="n">INT</span><span class="p">;</span>
 	<span class="n">ErrorSystem</span> <span class="p">:</span> <span class="n">POINTER</span> <span class="n">TO</span> <span class="n">ST_ErrorSystem</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 
 <span class="n">VAR_OUTPUT</span>
 	<span class="n">EnO</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDi_1</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDi_2</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDi_3</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDi_4</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDi_5</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDi_6</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDi_7</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDi_8</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bError</span> <span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 
 <span class="n">VAR</span>
 	<span class="n">Channel_1_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">Channel_2_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">Channel_3_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">Channel_4_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">Channel_5_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">Channel_6_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">Channel_7_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">Channel_8_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">WcState_WcState</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">InfoData_State</span>  <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">UINT</span><span class="p">;</span>
 	
 	<span class="o">//</span><span class="n">FB</span><span class="o">-</span><span class="n">s</span>
 	<span class="n">EL1018_Error</span> <span class="p">:</span> <span class="n">FB_TerminalError</span><span class="p">;</span>
 <span class="n">END_VAR</span>

<span class="o">-</span> <span class="n">EL1018</span><span class="p">:</span> <span class="n">ST</span>

 <span class="n">EnO</span><span class="p">:</span><span class="o">=</span><span class="n">En</span><span class="p">;</span>
 
 <span class="o">//</span><span class="n">Error</span> <span class="n">FB</span> <span class="n">instance</span>
 <span class="n">EL1018_Error</span><span class="p">(</span>
 	<span class="n">En</span> <span class="p">:</span><span class="o">=</span> <span class="n">TRUE</span><span class="p">,</span>
 	<span class="n">iTerminal_ID</span> <span class="p">:</span><span class="o">=</span> <span class="n">iTerminal_ID</span><span class="p">,</span>
 	<span class="n">bWcState</span> <span class="p">:</span><span class="o">=</span> <span class="n">WcState_WcState</span><span class="p">,</span>
 	<span class="n">uiInfoData_State</span> <span class="p">:</span><span class="o">=</span> <span class="n">InfoData_State</span><span class="p">,</span>
 	<span class="n">pErrorSystem</span> <span class="p">:</span><span class="o">=</span> <span class="n">ErrorSystem</span><span class="p">,</span>
 	<span class="n">bError</span> <span class="o">=&gt;</span> <span class="n">bError</span><span class="p">,</span>
 <span class="p">);</span>
 
 <span class="n">IF</span> <span class="n">En</span> <span class="n">THEN</span>
 	<span class="n">IF</span> <span class="n">bError</span><span class="o">=</span><span class="n">FALSE</span> <span class="n">THEN</span>
 		<span class="n">bDi_1</span><span class="p">:</span><span class="o">=</span><span class="n">Channel_1_Input</span><span class="p">;</span>
 		<span class="n">bDi_2</span><span class="p">:</span><span class="o">=</span><span class="n">Channel_2_Input</span><span class="p">;</span>
 		<span class="n">bDi_3</span><span class="p">:</span><span class="o">=</span><span class="n">Channel_3_Input</span><span class="p">;</span>
 		<span class="n">bDi_4</span><span class="p">:</span><span class="o">=</span><span class="n">Channel_4_Input</span><span class="p">;</span>
 		<span class="n">bDi_5</span><span class="p">:</span><span class="o">=</span><span class="n">Channel_5_Input</span><span class="p">;</span>
 		<span class="n">bDi_6</span><span class="p">:</span><span class="o">=</span><span class="n">Channel_6_Input</span><span class="p">;</span>
 		<span class="n">bDi_7</span><span class="p">:</span><span class="o">=</span><span class="n">Channel_7_Input</span><span class="p">;</span>
 		<span class="n">bDi_8</span><span class="p">:</span><span class="o">=</span><span class="n">Channel_8_Input</span><span class="p">;</span>
 	<span class="n">ELSE</span>
 		<span class="n">bDi_1</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">bDi_2</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">bDi_3</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">bDi_4</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">bDi_5</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">bDi_6</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">bDi_7</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">bDi_8</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 	<span class="n">END_IF</span>
 <span class="n">END_IF</span>
</pre></div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-hardware-ethercat-terminals-digital-inputs-el1808-tcpou-tcplcobject">
<h2>tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Digital_Inputs/EL1808.TcPOU (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-digital-inputs-el1808-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">EL1808</span><span class="p">:</span> <span class="n">Declaration</span>

 <span class="o">///</span><span class="n">EL1808</span> <span class="o">|</span> <span class="n">HD</span> <span class="n">EtherCAT</span> <span class="n">Terminals</span><span class="p">,</span> <span class="mi">8</span><span class="o">-</span><span class="n">channel</span> <span class="n">digital</span> <span class="nb">input</span> <span class="mi">24</span> <span class="n">V</span> <span class="n">DC</span><span class="p">,</span> <span class="mi">3</span> <span class="n">ms</span><span class="p">,</span> <span class="mi">2</span><span class="o">-</span><span class="n">wire</span> <span class="n">connection</span>
 <span class="n">FUNCTION_BLOCK</span> <span class="n">EL1808</span>
 
 <span class="n">VAR_INPUT</span>
 	<span class="n">En</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">iTerminal_ID</span> <span class="p">:</span> <span class="n">INT</span><span class="p">;</span>
 	<span class="n">ErrorSystem</span> <span class="p">:</span> <span class="n">POINTER</span> <span class="n">TO</span> <span class="n">ST_ErrorSystem</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 
 <span class="n">VAR_OUTPUT</span>
 	<span class="n">EnO</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDi_1</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDi_2</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDi_3</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDi_4</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDi_5</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDi_6</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDi_7</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDi_8</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bError</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 
 <span class="n">VAR</span>
 	<span class="n">Channel_1_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">Channel_2_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">Channel_3_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">Channel_4_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">Channel_5_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">Channel_6_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">Channel_7_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">Channel_8_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">WcState_WcState</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">InfoData_State</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">UINT</span><span class="p">;</span>
 	
 	<span class="o">//</span><span class="n">FB</span><span class="o">-</span><span class="n">s</span>
 	<span class="n">EL1808_Error</span> <span class="p">:</span> <span class="n">FB_TerminalError</span><span class="p">;</span>
 <span class="n">END_VAR</span>

<span class="o">-</span> <span class="n">EL1808</span><span class="p">:</span> <span class="n">ST</span>

 <span class="n">EnO</span><span class="p">:</span><span class="o">=</span><span class="n">En</span><span class="p">;</span>
 
 <span class="o">//</span><span class="n">Error</span> <span class="n">FB</span> <span class="n">instance</span>
 <span class="n">EL1808_Error</span><span class="p">(</span>
 	<span class="n">En</span> <span class="p">:</span><span class="o">=</span> <span class="n">TRUE</span><span class="p">,</span>
 	<span class="n">iTerminal_ID</span> <span class="p">:</span><span class="o">=</span> <span class="n">iTerminal_ID</span><span class="p">,</span>
 	<span class="n">bWcState</span> <span class="p">:</span><span class="o">=</span> <span class="n">WcState_WcState</span><span class="p">,</span>
 	<span class="n">uiInfoData_State</span> <span class="p">:</span><span class="o">=</span> <span class="n">InfoData_State</span><span class="p">,</span>
 	<span class="n">pErrorSystem</span> <span class="p">:</span><span class="o">=</span> <span class="n">ErrorSystem</span><span class="p">,</span>
 	<span class="n">bError</span> <span class="o">=&gt;</span> <span class="n">bError</span><span class="p">,</span>
 <span class="p">);</span>
 
 <span class="n">IF</span> <span class="n">En</span> <span class="n">THEN</span>
 	<span class="n">IF</span> <span class="n">bError</span><span class="o">=</span><span class="n">FALSE</span> <span class="n">THEN</span>
 		<span class="n">bDi_1</span><span class="p">:</span><span class="o">=</span><span class="n">Channel_1_Input</span><span class="p">;</span>
 		<span class="n">bDi_2</span><span class="p">:</span><span class="o">=</span><span class="n">Channel_2_Input</span><span class="p">;</span>
 		<span class="n">bDi_3</span><span class="p">:</span><span class="o">=</span><span class="n">Channel_3_Input</span><span class="p">;</span>
 		<span class="n">bDi_4</span><span class="p">:</span><span class="o">=</span><span class="n">Channel_4_Input</span><span class="p">;</span>
 		<span class="n">bDi_5</span><span class="p">:</span><span class="o">=</span><span class="n">Channel_5_Input</span><span class="p">;</span>
 		<span class="n">bDi_6</span><span class="p">:</span><span class="o">=</span><span class="n">Channel_6_Input</span><span class="p">;</span>
 		<span class="n">bDi_7</span><span class="p">:</span><span class="o">=</span><span class="n">Channel_7_Input</span><span class="p">;</span>
 		<span class="n">bDi_8</span><span class="p">:</span><span class="o">=</span><span class="n">Channel_8_Input</span><span class="p">;</span>
 	<span class="n">ELSE</span>
 		<span class="n">bDi_1</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">bDi_2</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">bDi_3</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">bDi_4</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">bDi_5</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">bDi_6</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">bDi_7</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">bDi_8</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 	<span class="n">END_IF</span>
 <span class="n">END_IF</span>
</pre></div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-hardware-ethercat-terminals-digital-inputs-el1809-tcpou-tcplcobject">
<h2>tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Digital_Inputs/EL1809.TcPOU (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-digital-inputs-el1809-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">EL1809</span><span class="p">:</span> <span class="n">Declaration</span>

 <span class="o">///</span><span class="n">EL1809</span> <span class="o">|</span> <span class="n">HD</span> <span class="n">EtherCAT</span> <span class="n">Terminals</span><span class="p">,</span> <span class="mi">16</span><span class="o">-</span><span class="n">channel</span> <span class="n">digital</span> <span class="nb">input</span> <span class="mi">24</span> <span class="n">V</span> <span class="n">DC</span><span class="p">,</span> <span class="mi">3</span> <span class="n">ms</span>
 <span class="n">FUNCTION_BLOCK</span> <span class="n">EL1809</span>
 
 <span class="n">VAR_INPUT</span>
 	<span class="n">En</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">iTerminal_ID</span> <span class="p">:</span> <span class="n">INT</span><span class="p">;</span>
 	<span class="n">ErrorSystem</span> <span class="p">:</span> <span class="n">POINTER</span> <span class="n">TO</span> <span class="n">ST_ErrorSystem</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 
 <span class="n">VAR_OUTPUT</span>
 	<span class="n">EnO</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDi_1</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDi_2</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDi_3</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDi_4</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDi_5</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDi_6</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDi_7</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDi_8</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDi_9</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDi_10</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDi_11</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDi_12</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDi_13</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDi_14</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDi_15</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDi_16</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bError</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 
 <span class="n">VAR</span>
 	<span class="n">Channel_1_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">Channel_2_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">Channel_3_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">Channel_4_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">Channel_5_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">Channel_6_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">Channel_7_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">Channel_8_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">Channel_9_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">Channel_10_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">Channel_11_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">Channel_12_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">Channel_13_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">Channel_14_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">Channel_15_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">Channel_16_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">WcState_WcState</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">InfoData_State</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">UINT</span><span class="p">;</span>
 	
 	<span class="o">//</span><span class="n">FB</span><span class="o">-</span><span class="n">s</span>
 	<span class="n">EL1809_Error</span> <span class="p">:</span> <span class="n">FB_TerminalError</span><span class="p">;</span>
 <span class="n">END_VAR</span>

<span class="o">-</span> <span class="n">EL1809</span><span class="p">:</span> <span class="n">ST</span>

 <span class="n">EnO</span><span class="p">:</span><span class="o">=</span><span class="n">En</span><span class="p">;</span>
 
 <span class="o">//</span><span class="n">Error</span> <span class="n">FB</span> <span class="n">instance</span>
 <span class="n">EL1809_Error</span><span class="p">(</span>
 	<span class="n">En</span> <span class="p">:</span><span class="o">=</span> <span class="n">TRUE</span><span class="p">,</span>
 	<span class="n">iTerminal_ID</span> <span class="p">:</span><span class="o">=</span> <span class="n">iTerminal_ID</span><span class="p">,</span>
 	<span class="n">bWcState</span> <span class="p">:</span><span class="o">=</span> <span class="n">WcState_WcState</span><span class="p">,</span>
 	<span class="n">uiInfoData_State</span> <span class="p">:</span><span class="o">=</span> <span class="n">InfoData_State</span><span class="p">,</span>
 	<span class="n">pErrorSystem</span> <span class="p">:</span><span class="o">=</span> <span class="n">ErrorSystem</span><span class="p">,</span>
 	<span class="n">bError</span> <span class="o">=&gt;</span> <span class="n">bError</span><span class="p">,</span>
 <span class="p">);</span>
 
 <span class="n">IF</span> <span class="n">En</span> <span class="n">THEN</span>
 	<span class="n">IF</span> <span class="n">bError</span><span class="o">=</span><span class="n">FALSE</span> <span class="n">THEN</span>
 		<span class="n">bDi_1</span><span class="p">:</span><span class="o">=</span><span class="n">Channel_1_Input</span><span class="p">;</span>
 		<span class="n">bDi_2</span><span class="p">:</span><span class="o">=</span><span class="n">Channel_2_Input</span><span class="p">;</span>
 		<span class="n">bDi_3</span><span class="p">:</span><span class="o">=</span><span class="n">Channel_3_Input</span><span class="p">;</span>
 		<span class="n">bDi_4</span><span class="p">:</span><span class="o">=</span><span class="n">Channel_4_Input</span><span class="p">;</span>
 		<span class="n">bDi_5</span><span class="p">:</span><span class="o">=</span><span class="n">Channel_5_Input</span><span class="p">;</span>
 		<span class="n">bDi_6</span><span class="p">:</span><span class="o">=</span><span class="n">Channel_6_Input</span><span class="p">;</span>
 		<span class="n">bDi_7</span><span class="p">:</span><span class="o">=</span><span class="n">Channel_7_Input</span><span class="p">;</span>
 		<span class="n">bDi_8</span><span class="p">:</span><span class="o">=</span><span class="n">Channel_8_Input</span><span class="p">;</span>
 		<span class="n">bDi_9</span><span class="p">:</span><span class="o">=</span><span class="n">Channel_9_Input</span><span class="p">;</span>
 		<span class="n">bDi_10</span><span class="p">:</span><span class="o">=</span><span class="n">Channel_10_Input</span><span class="p">;</span>
 		<span class="n">bDi_11</span><span class="p">:</span><span class="o">=</span><span class="n">Channel_11_Input</span><span class="p">;</span>
 		<span class="n">bDi_12</span><span class="p">:</span><span class="o">=</span><span class="n">Channel_12_Input</span><span class="p">;</span>
 		<span class="n">bDi_13</span><span class="p">:</span><span class="o">=</span><span class="n">Channel_13_Input</span><span class="p">;</span>
 		<span class="n">bDi_14</span><span class="p">:</span><span class="o">=</span><span class="n">Channel_14_Input</span><span class="p">;</span>
 		<span class="n">bDi_15</span><span class="p">:</span><span class="o">=</span><span class="n">Channel_15_Input</span><span class="p">;</span>
 		<span class="n">bDi_16</span><span class="p">:</span><span class="o">=</span><span class="n">Channel_16_Input</span><span class="p">;</span>
 	<span class="n">ELSE</span>
 		<span class="n">bDi_1</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">bDi_2</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">bDi_3</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">bDi_4</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">bDi_5</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">bDi_6</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">bDi_7</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">bDi_8</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">bDi_9</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">bDi_10</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">bDi_11</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">bDi_12</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">bDi_13</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">bDi_14</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">bDi_15</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">bDi_16</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 	<span class="n">END_IF</span>
 <span class="n">END_IF</span>
</pre></div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-hardware-ethercat-terminals-digital-inputs-el1819-tcpou-tcplcobject">
<h2>tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Digital_Inputs/EL1819.TcPOU (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-digital-inputs-el1819-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">EL1819</span><span class="p">:</span> <span class="n">Declaration</span>

 <span class="o">///</span><span class="n">EL1819</span> <span class="o">|</span> <span class="n">HD</span> <span class="n">EtherCAT</span> <span class="n">Terminals</span><span class="p">,</span> <span class="mi">16</span><span class="o">-</span><span class="n">channel</span> <span class="n">digital</span> <span class="nb">input</span> <span class="mi">24</span> <span class="n">V</span> <span class="n">DC</span><span class="p">,</span> <span class="mi">10</span> <span class="n">Âµs</span>
 <span class="n">FUNCTION_BLOCK</span> <span class="n">EL1819</span>
 
 <span class="n">VAR_INPUT</span>
 	<span class="n">En</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">iTerminal_ID</span> <span class="p">:</span> <span class="n">INT</span><span class="p">;</span>
 	<span class="n">ErrorSystem</span> <span class="p">:</span> <span class="n">POINTER</span> <span class="n">TO</span> <span class="n">ST_ErrorSystem</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 
 <span class="n">VAR_OUTPUT</span>
 	<span class="n">EnO</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDi_1</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDi_2</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDi_3</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDi_4</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDi_5</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDi_6</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDi_7</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDi_8</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDi_9</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDi_10</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDi_11</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDi_12</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDi_13</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDi_14</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDi_15</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDi_16</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bError</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 
 <span class="n">VAR</span>
 	<span class="n">Channel_1_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">Channel_2_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">Channel_3_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">Channel_4_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">Channel_5_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">Channel_6_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">Channel_7_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">Channel_8_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">Channel_9_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">Channel_10_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">Channel_11_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">Channel_12_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">Channel_13_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">Channel_14_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">Channel_15_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">Channel_16_Input</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">WcState_WcState</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">InfoData_State</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">UINT</span><span class="p">;</span>
 	
 	<span class="o">//</span><span class="n">FB</span><span class="o">-</span><span class="n">s</span>
 	<span class="n">EL1819_Error</span> <span class="p">:</span> <span class="n">FB_TerminalError</span><span class="p">;</span>
 <span class="n">END_VAR</span>

<span class="o">-</span> <span class="n">EL1819</span><span class="p">:</span> <span class="n">ST</span>

 <span class="n">EnO</span><span class="p">:</span><span class="o">=</span><span class="n">En</span><span class="p">;</span>
 
 <span class="o">//</span><span class="n">Error</span> <span class="n">FB</span> <span class="n">instance</span>
 <span class="n">EL1819_Error</span><span class="p">(</span>
 	<span class="n">En</span> <span class="p">:</span><span class="o">=</span> <span class="n">TRUE</span><span class="p">,</span>
 	<span class="n">iTerminal_ID</span> <span class="p">:</span><span class="o">=</span> <span class="n">iTerminal_ID</span><span class="p">,</span>
 	<span class="n">bWcState</span> <span class="p">:</span><span class="o">=</span> <span class="n">WcState_WcState</span><span class="p">,</span>
 	<span class="n">uiInfoData_State</span> <span class="p">:</span><span class="o">=</span> <span class="n">InfoData_State</span><span class="p">,</span>
 	<span class="n">pErrorSystem</span> <span class="p">:</span><span class="o">=</span> <span class="n">ErrorSystem</span><span class="p">,</span>
 	<span class="n">bError</span> <span class="o">=&gt;</span> <span class="n">bError</span><span class="p">,</span>
 <span class="p">);</span>
 
 <span class="n">IF</span> <span class="n">En</span> <span class="n">THEN</span>
 	<span class="n">IF</span> <span class="n">bError</span><span class="o">=</span><span class="n">FALSE</span> <span class="n">THEN</span>
 		<span class="n">bDi_1</span><span class="p">:</span><span class="o">=</span><span class="n">Channel_1_Input</span><span class="p">;</span>
 		<span class="n">bDi_2</span><span class="p">:</span><span class="o">=</span><span class="n">Channel_2_Input</span><span class="p">;</span>
 		<span class="n">bDi_3</span><span class="p">:</span><span class="o">=</span><span class="n">Channel_3_Input</span><span class="p">;</span>
 		<span class="n">bDi_4</span><span class="p">:</span><span class="o">=</span><span class="n">Channel_4_Input</span><span class="p">;</span>
 		<span class="n">bDi_5</span><span class="p">:</span><span class="o">=</span><span class="n">Channel_5_Input</span><span class="p">;</span>
 		<span class="n">bDi_6</span><span class="p">:</span><span class="o">=</span><span class="n">Channel_6_Input</span><span class="p">;</span>
 		<span class="n">bDi_7</span><span class="p">:</span><span class="o">=</span><span class="n">Channel_7_Input</span><span class="p">;</span>
 		<span class="n">bDi_8</span><span class="p">:</span><span class="o">=</span><span class="n">Channel_8_Input</span><span class="p">;</span>
 		<span class="n">bDi_9</span><span class="p">:</span><span class="o">=</span><span class="n">Channel_9_Input</span><span class="p">;</span>
 		<span class="n">bDi_10</span><span class="p">:</span><span class="o">=</span><span class="n">Channel_10_Input</span><span class="p">;</span>
 		<span class="n">bDi_11</span><span class="p">:</span><span class="o">=</span><span class="n">Channel_11_Input</span><span class="p">;</span>
 		<span class="n">bDi_12</span><span class="p">:</span><span class="o">=</span><span class="n">Channel_12_Input</span><span class="p">;</span>
 		<span class="n">bDi_13</span><span class="p">:</span><span class="o">=</span><span class="n">Channel_13_Input</span><span class="p">;</span>
 		<span class="n">bDi_14</span><span class="p">:</span><span class="o">=</span><span class="n">Channel_14_Input</span><span class="p">;</span>
 		<span class="n">bDi_15</span><span class="p">:</span><span class="o">=</span><span class="n">Channel_15_Input</span><span class="p">;</span>
 		<span class="n">bDi_16</span><span class="p">:</span><span class="o">=</span><span class="n">Channel_16_Input</span><span class="p">;</span>
 	<span class="n">ELSE</span>
 		<span class="n">bDi_1</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">bDi_2</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">bDi_3</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">bDi_4</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">bDi_5</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">bDi_6</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">bDi_7</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">bDi_8</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">bDi_9</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">bDi_10</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">bDi_11</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">bDi_12</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">bDi_13</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">bDi_14</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">bDi_15</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">bDi_16</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 	<span class="n">END_IF</span>
 <span class="n">END_IF</span>
</pre></div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-hardware-ethercat-terminals-digital-inputs-fb-el1252asm-v1-00-tcpou-tcplcobject">
<h2>tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Digital_Inputs/FB_EL1252ASM_v1_00.TcPOU (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-digital-inputs-fb-el1252asm-v1-00-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>- FB_EL1252ASM_v1_00: Declaration

 FUNCTION_BLOCK FB_EL1252ASM_v1_00
 VAR_INPUT
 	En: BOOL;
 END_VAR
 VAR_OUTPUT
 	EnO: BOOL;
 	Di_1: BOOL;
 	Di_2: BOOL;
 	Di_1_LatchTimePos: ULINT;
 	Di_2_LatchTimePos: ULINT;
 	Di_1_LatchTimeNeg: ULINT;
 	Di_2_LatchTimeNeg: ULINT;
 	///Below bits can be used but then they must be enabled in the COE of the card. Nicklas suggested to not use these (since something wss written that you then only were allowed to read the latch time onece (some kkind of auto reset??))	
 	///Di_1_LatchNeg:BOOL;
 	///	Di_1_LatchPos:BOOL;
 	///	Di_2_LatchNeg:BOOL;
 	///	Di_2_LatchPos:BOOL;
 	Error: BOOL;
 END_VAR
 VAR
 	Channel_1_Input AT %I*: BOOL;
 	Channel_2_Input AT %I*: BOOL;
 	///Latch_Status1 AT %I*: USINT;
 	///	Latch_Status2 AT %I*: USINT;
 	Latch_LatchPos1 AT %I*: ULINT;
 	Latch_LatchNeg1 AT %I*: ULINT;
 	Latch_LatchPos2 AT %I*: ULINT;
 	Latch_LatchNeg2 AT %I*: ULINT;
 	WcState_WcState AT %I*: BOOL;
 	InfoData_State AT %I*: UINT;
 END_VAR

- FB_EL1252ASM_v1_00: ST

 EnO:=En;
 
 IF En AND (WcState_WcState OR InfoData_State&lt;&gt;16#8) THEN //InfoData_State==0 =&gt; in OP mode
 	Error:=TRUE;
 ELSE
 	Error:=FALSE;
 END_IF
 
 IF En THEN
 	IF Error=FALSE THEN
 		Di_1:=Channel_1_Input;
 		Di_2:=Channel_2_Input;
 	(*	Di_1_LatchPos:=Latch_Status1.0;
 		Di_1_LatchNeg:=Latch_Status1.1;
 		Di_2_LatchPos:=Latch_Status2.0;
 		Di_2_LatchNeg:=Latch_Status2.1;*)
 		Di_1_LatchTimePos:=Latch_LatchPos1;
 		Di_2_LatchTimePos:=Latch_LatchPos2;		
 		Di_1_LatchTimeNeg:=Latch_LatchNeg1;		
 		Di_2_LatchTimeNeg:=Latch_LatchNeg2;
 		
 	ELSE
 		Di_1:=FALSE;
 		Di_2:=FALSE;
 	END_IF
 END_IF
</pre></div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-hardware-ethercat-terminals-digital-outputs-el2014-tcpou-tcplcobject">
<h2>tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Digital_Outputs/EL2014.TcPOU (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-digital-outputs-el2014-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">EL2014</span><span class="p">:</span> <span class="n">Declaration</span>

 <span class="n">FUNCTION_BLOCK</span> <span class="n">EL2014</span>
 <span class="n">VAR_INPUT</span>
 	<span class="n">En</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">iTerminal_ID</span> <span class="p">:</span> <span class="n">INT</span><span class="p">;</span> 
 	<span class="n">bDo_1</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDo_2</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDo_3</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDo_4</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">ErrorSystem</span> <span class="p">:</span> <span class="n">POINTER</span> <span class="n">TO</span> <span class="n">ST_ErrorSystem</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 
 <span class="n">VAR_OUTPUT</span>
 	<span class="n">EnO</span> <span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bError</span> <span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 
 <span class="n">VAR</span>
 	<span class="n">Channel_1_Output</span> <span class="n">AT</span> <span class="o">%</span><span class="n">Q</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">Channel_2_Output</span> <span class="n">AT</span> <span class="o">%</span><span class="n">Q</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">Channel_3_Output</span> <span class="n">AT</span> <span class="o">%</span><span class="n">Q</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">Channel_4_Output</span> <span class="n">AT</span> <span class="o">%</span><span class="n">Q</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">WcState_WcState</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">InfoData_State</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">UINT</span><span class="p">;</span>
 	
 	<span class="o">//</span><span class="n">FB</span><span class="o">-</span><span class="n">s</span>
 	<span class="n">EL2014_Error</span> <span class="p">:</span> <span class="n">FB_TerminalError</span><span class="p">;</span>
 <span class="n">END_VAR</span>

<span class="o">-</span> <span class="n">EL2014</span><span class="p">:</span> <span class="n">ST</span>

 <span class="p">(</span><span class="o">*</span>
 <span class="o">*</span> <span class="n">TODO</span><span class="p">:</span>
 <span class="o">*</span> <span class="n">Channel</span> <span class="n">diagnostic</span> <span class="n">variables</span> <span class="ow">and</span> <span class="n">device</span> <span class="n">diag</span> <span class="n">variables</span>
 <span class="o">*</span><span class="p">)</span>
 
 <span class="n">EnO</span><span class="p">:</span><span class="o">=</span><span class="n">En</span><span class="p">;</span>
 
 <span class="n">EL2014_Error</span><span class="p">(</span>
 	<span class="n">En</span> <span class="p">:</span><span class="o">=</span> <span class="n">TRUE</span><span class="p">,</span>
 	<span class="n">iTerminal_ID</span> <span class="p">:</span><span class="o">=</span> <span class="n">iTerminal_ID</span><span class="p">,</span>
 	<span class="n">bWcState</span> <span class="p">:</span><span class="o">=</span> <span class="n">WcState_WcState</span><span class="p">,</span>
 	<span class="n">uiInfoData_State</span> <span class="p">:</span><span class="o">=</span> <span class="n">InfoData_State</span><span class="p">,</span>
 	<span class="n">pErrorSystem</span> <span class="p">:</span><span class="o">=</span> <span class="n">ErrorSystem</span><span class="p">,</span>
 	<span class="n">bError</span> <span class="o">=&gt;</span> <span class="n">bError</span><span class="p">,</span>
 <span class="p">);</span>
 
 <span class="n">IF</span> <span class="n">En</span> <span class="n">THEN</span>
 	<span class="n">IF</span> <span class="n">bError</span><span class="o">=</span><span class="n">FALSE</span> <span class="n">THEN</span>
 		<span class="n">Channel_1_Output</span><span class="p">:</span><span class="o">=</span><span class="n">bDo_1</span><span class="p">;</span>
 		<span class="n">Channel_2_Output</span><span class="p">:</span><span class="o">=</span><span class="n">bDo_2</span><span class="p">;</span>
 		<span class="n">Channel_3_Output</span><span class="p">:</span><span class="o">=</span><span class="n">bDo_3</span><span class="p">;</span>
 		<span class="n">Channel_4_Output</span><span class="p">:</span><span class="o">=</span><span class="n">bDo_4</span><span class="p">;</span>
 	<span class="n">ELSE</span>
 		<span class="n">Channel_1_Output</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">Channel_2_Output</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">Channel_3_Output</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">Channel_4_Output</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 	<span class="n">END_IF</span>
 <span class="n">END_IF</span>
</pre></div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-hardware-ethercat-terminals-digital-outputs-el2252-tcpou-tcplcobject">
<h2>tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Digital_Outputs/EL2252.TcPOU (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-digital-outputs-el2252-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">EL2252</span><span class="p">:</span> <span class="n">Declaration</span>

 <span class="o">///</span><span class="n">EL2252</span> <span class="o">|</span> <span class="n">XFC</span><span class="p">,</span> <span class="mi">2</span><span class="o">-</span><span class="n">channel</span> <span class="n">digital</span> <span class="n">output</span> <span class="n">terminal</span> <span class="k">with</span> <span class="n">time</span> <span class="n">stamp</span><span class="p">,</span> <span class="n">tri</span><span class="o">-</span><span class="n">state</span>
 <span class="n">FUNCTION_BLOCK</span> <span class="n">EL2252</span>
 <span class="n">VAR_INPUT</span>
 	<span class="n">En</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">iTerminal_ID</span> <span class="p">:</span> <span class="n">INT</span><span class="p">;</span> 
 	<span class="n">bDo_1</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDo_2</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 <span class="n">ErrorSystem</span> <span class="p">:</span> <span class="n">POINTER</span> <span class="n">TO</span> <span class="n">ST_ErrorSystem</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 
 <span class="n">VAR_OUTPUT</span>
 	<span class="n">EnO</span> <span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bError</span> <span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 
 <span class="n">VAR</span>
 	<span class="n">Channel_1_Output</span> <span class="n">AT</span> <span class="o">%</span><span class="n">Q</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">Channel_2_Output</span> <span class="n">AT</span> <span class="o">%</span><span class="n">Q</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">WcState_WcState</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">InfoData_State</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">UINT</span><span class="p">;</span>
 	
 	<span class="o">//</span><span class="n">FB</span><span class="o">-</span><span class="n">s</span>
 	<span class="n">EL2252_Error</span> <span class="p">:</span> <span class="n">FB_TerminalError</span><span class="p">;</span>
 <span class="n">END_VAR</span>

<span class="o">-</span> <span class="n">EL2252</span><span class="p">:</span> <span class="n">ST</span>

 <span class="p">(</span><span class="o">*</span>
 <span class="o">*</span> <span class="n">TODO</span><span class="p">:</span>
 <span class="o">*</span> <span class="n">Add</span> <span class="n">the</span> <span class="n">DC</span> <span class="n">sync</span> <span class="n">variables</span>
 <span class="o">*</span><span class="p">)</span>
 
 <span class="n">EL2252_Error</span><span class="p">(</span>
 	<span class="n">En</span> <span class="p">:</span><span class="o">=</span> <span class="n">TRUE</span><span class="p">,</span>
 	<span class="n">iTerminal_ID</span> <span class="p">:</span><span class="o">=</span> <span class="n">iTerminal_ID</span><span class="p">,</span>
 	<span class="n">bWcState</span> <span class="p">:</span><span class="o">=</span> <span class="n">WcState_WcState</span><span class="p">,</span>
 	<span class="n">uiInfoData_State</span> <span class="p">:</span><span class="o">=</span> <span class="n">InfoData_State</span><span class="p">,</span>
 	<span class="n">pErrorSystem</span> <span class="p">:</span><span class="o">=</span> <span class="n">ErrorSystem</span><span class="p">,</span>
 	<span class="n">bError</span> <span class="o">=&gt;</span> <span class="n">bError</span><span class="p">,</span>
 <span class="p">);</span>
 
 <span class="n">IF</span> <span class="n">En</span> <span class="n">THEN</span>
 	<span class="n">IF</span> <span class="n">bError</span><span class="o">=</span><span class="n">FALSE</span> <span class="n">THEN</span>
 		<span class="n">Channel_1_Output</span><span class="p">:</span><span class="o">=</span><span class="n">bDo_1</span><span class="p">;</span>
 		<span class="n">Channel_2_Output</span><span class="p">:</span><span class="o">=</span><span class="n">bDo_2</span><span class="p">;</span>
 	<span class="n">ELSE</span>
 		<span class="n">Channel_1_Output</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">Channel_2_Output</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 	<span class="n">END_IF</span>
 <span class="n">END_IF</span>
</pre></div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-hardware-ethercat-terminals-digital-outputs-el2808-tcpou-tcplcobject">
<h2>tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Digital_Outputs/EL2808.TcPOU (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-digital-outputs-el2808-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">EL2808</span><span class="p">:</span> <span class="n">Declaration</span>

 <span class="n">FUNCTION_BLOCK</span> <span class="n">EL2808</span>
 
 <span class="n">VAR_INPUT</span>
 	<span class="n">En</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">iTerminal_ID</span> <span class="p">:</span> <span class="n">INT</span><span class="p">;</span> 
 	<span class="n">bDo_1</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDo_2</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDo_3</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDo_4</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDo_5</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDo_6</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDo_7</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDo_8</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">ErrorSystem</span> <span class="p">:</span> <span class="n">POINTER</span> <span class="n">TO</span> <span class="n">ST_ErrorSystem</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 
 <span class="n">VAR_OUTPUT</span>
 	<span class="n">EnO</span> <span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bError</span> <span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 
 <span class="n">VAR</span>
 	<span class="n">Channel_1_Output</span> <span class="n">AT</span> <span class="o">%</span><span class="n">Q</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">Channel_2_Output</span> <span class="n">AT</span> <span class="o">%</span><span class="n">Q</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">Channel_3_Output</span> <span class="n">AT</span> <span class="o">%</span><span class="n">Q</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">Channel_4_Output</span> <span class="n">AT</span> <span class="o">%</span><span class="n">Q</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">Channel_5_Output</span> <span class="n">AT</span> <span class="o">%</span><span class="n">Q</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">Channel_6_Output</span> <span class="n">AT</span> <span class="o">%</span><span class="n">Q</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">Channel_7_Output</span> <span class="n">AT</span> <span class="o">%</span><span class="n">Q</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">Channel_8_Output</span> <span class="n">AT</span> <span class="o">%</span><span class="n">Q</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">WcState_WcState</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">InfoData_State</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">UINT</span><span class="p">;</span>
 	
 	<span class="o">//</span><span class="n">FB</span><span class="o">-</span><span class="n">s</span>
 	<span class="n">EL2808_Error</span> <span class="p">:</span> <span class="n">FB_TerminalError</span><span class="p">;</span>
 <span class="n">END_VAR</span>

<span class="o">-</span> <span class="n">EL2808</span><span class="p">:</span> <span class="n">ST</span>

 <span class="n">EnO</span><span class="p">:</span><span class="o">=</span><span class="n">En</span><span class="p">;</span>
 
 <span class="n">EL2808_Error</span><span class="p">(</span>
 	<span class="n">En</span> <span class="p">:</span><span class="o">=</span> <span class="n">TRUE</span><span class="p">,</span>
 	<span class="n">iTerminal_ID</span> <span class="p">:</span><span class="o">=</span> <span class="n">iTerminal_ID</span><span class="p">,</span>
 	<span class="n">bWcState</span> <span class="p">:</span><span class="o">=</span> <span class="n">WcState_WcState</span><span class="p">,</span>
 	<span class="n">uiInfoData_State</span> <span class="p">:</span><span class="o">=</span> <span class="n">InfoData_State</span><span class="p">,</span>
 	<span class="n">pErrorSystem</span> <span class="p">:</span><span class="o">=</span> <span class="n">ErrorSystem</span><span class="p">,</span>
 	<span class="n">bError</span> <span class="o">=&gt;</span> <span class="n">bError</span><span class="p">,</span>
 <span class="p">);</span>
 
 <span class="n">IF</span> <span class="n">En</span> <span class="n">THEN</span>
 	<span class="n">IF</span> <span class="n">bError</span><span class="o">=</span><span class="n">FALSE</span> <span class="n">THEN</span>
 		<span class="n">Channel_1_Output</span><span class="p">:</span><span class="o">=</span><span class="n">bDo_1</span><span class="p">;</span>
 		<span class="n">Channel_2_Output</span><span class="p">:</span><span class="o">=</span><span class="n">bDo_2</span><span class="p">;</span>
 		<span class="n">Channel_3_Output</span><span class="p">:</span><span class="o">=</span><span class="n">bDo_3</span><span class="p">;</span>
 		<span class="n">Channel_4_Output</span><span class="p">:</span><span class="o">=</span><span class="n">bDo_4</span><span class="p">;</span>
 		<span class="n">Channel_5_Output</span><span class="p">:</span><span class="o">=</span><span class="n">bDo_5</span><span class="p">;</span>
 		<span class="n">Channel_6_Output</span><span class="p">:</span><span class="o">=</span><span class="n">bDo_6</span><span class="p">;</span>
 		<span class="n">Channel_7_Output</span><span class="p">:</span><span class="o">=</span><span class="n">bDo_7</span><span class="p">;</span>
 		<span class="n">Channel_8_Output</span><span class="p">:</span><span class="o">=</span><span class="n">bDo_8</span><span class="p">;</span>
 	<span class="n">ELSE</span>
 		<span class="n">Channel_1_Output</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">Channel_2_Output</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">Channel_3_Output</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">Channel_4_Output</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">Channel_5_Output</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">Channel_6_Output</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">Channel_7_Output</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">Channel_8_Output</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 	<span class="n">END_IF</span>
 <span class="n">END_IF</span>
</pre></div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-hardware-ethercat-terminals-digital-outputs-el2819-tcpou-tcplcobject">
<h2>tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Digital_Outputs/EL2819.TcPOU (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-digital-outputs-el2819-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">EL2819</span><span class="p">:</span> <span class="n">Declaration</span>

 <span class="n">FUNCTION_BLOCK</span> <span class="n">EL2819</span>
 <span class="n">VAR_INPUT</span>
 	<span class="n">En</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">iTerminal_ID</span> <span class="p">:</span> <span class="n">INT</span><span class="p">;</span> 
 	<span class="n">bDo_1</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDo_2</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDo_3</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDo_4</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDo_5</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDo_6</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDo_7</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDo_8</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDo_9</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDo_10</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDo_11</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDo_12</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDo_13</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDo_14</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDo_15</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDo_16</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">ErrorSystem</span> <span class="p">:</span> <span class="n">POINTER</span> <span class="n">TO</span> <span class="n">ST_ErrorSystem</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 
 <span class="n">VAR_OUTPUT</span>
 	<span class="n">EnO</span> <span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bError</span> <span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 
 <span class="n">VAR</span>
 	<span class="n">Channel_1_Output</span> <span class="n">AT</span> <span class="o">%</span><span class="n">Q</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">Channel_2_Output</span> <span class="n">AT</span> <span class="o">%</span><span class="n">Q</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">Channel_3_Output</span> <span class="n">AT</span> <span class="o">%</span><span class="n">Q</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">Channel_4_Output</span> <span class="n">AT</span> <span class="o">%</span><span class="n">Q</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">Channel_5_Output</span> <span class="n">AT</span> <span class="o">%</span><span class="n">Q</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">Channel_6_Output</span> <span class="n">AT</span> <span class="o">%</span><span class="n">Q</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">Channel_7_Output</span> <span class="n">AT</span> <span class="o">%</span><span class="n">Q</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">Channel_8_Output</span> <span class="n">AT</span> <span class="o">%</span><span class="n">Q</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">Channel_9_Output</span> <span class="n">AT</span> <span class="o">%</span><span class="n">Q</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">Channel_10_Output</span> <span class="n">AT</span> <span class="o">%</span><span class="n">Q</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">Channel_11_Output</span> <span class="n">AT</span> <span class="o">%</span><span class="n">Q</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">Channel_12_Output</span> <span class="n">AT</span> <span class="o">%</span><span class="n">Q</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">Channel_13_Output</span> <span class="n">AT</span> <span class="o">%</span><span class="n">Q</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">Channel_14_Output</span> <span class="n">AT</span> <span class="o">%</span><span class="n">Q</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">Channel_15_Output</span> <span class="n">AT</span> <span class="o">%</span><span class="n">Q</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">Channel_16_Output</span> <span class="n">AT</span> <span class="o">%</span><span class="n">Q</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	
 	<span class="n">WcState_WcState</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">InfoData_State</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">UINT</span><span class="p">;</span>
 	
 	<span class="o">//</span><span class="n">FB</span><span class="o">-</span><span class="n">s</span>
 	<span class="n">EL2819_Error</span> <span class="p">:</span> <span class="n">FB_TerminalError</span><span class="p">;</span>
 <span class="n">END_VAR</span>

<span class="o">-</span> <span class="n">EL2819</span><span class="p">:</span> <span class="n">ST</span>

 <span class="p">(</span><span class="o">*</span>
 <span class="o">*</span> <span class="n">TODO</span><span class="p">:</span>
 <span class="o">*</span> <span class="n">Channel</span> <span class="n">diagnostic</span> <span class="n">variables</span> <span class="ow">and</span> <span class="n">device</span> <span class="n">diag</span> <span class="n">variables</span>
 <span class="o">*</span><span class="p">)</span>
 
 <span class="n">EnO</span><span class="p">:</span><span class="o">=</span><span class="n">En</span><span class="p">;</span>
 
 <span class="n">EL2819_Error</span><span class="p">(</span>
 	<span class="n">En</span> <span class="p">:</span><span class="o">=</span> <span class="n">TRUE</span><span class="p">,</span>
 	<span class="n">iTerminal_ID</span> <span class="p">:</span><span class="o">=</span> <span class="n">iTerminal_ID</span><span class="p">,</span>
 	<span class="n">bWcState</span> <span class="p">:</span><span class="o">=</span> <span class="n">WcState_WcState</span><span class="p">,</span>
 	<span class="n">uiInfoData_State</span> <span class="p">:</span><span class="o">=</span> <span class="n">InfoData_State</span><span class="p">,</span>
 	<span class="n">pErrorSystem</span> <span class="p">:</span><span class="o">=</span> <span class="n">ErrorSystem</span><span class="p">,</span>
 	<span class="n">bError</span> <span class="o">=&gt;</span> <span class="n">bError</span><span class="p">,</span>
 <span class="p">);</span>
 
 <span class="n">IF</span> <span class="n">En</span> <span class="n">THEN</span>
 	<span class="n">IF</span> <span class="n">bError</span><span class="o">=</span><span class="n">FALSE</span> <span class="n">THEN</span>
 		<span class="n">Channel_1_Output</span><span class="p">:</span><span class="o">=</span><span class="n">bDo_1</span><span class="p">;</span>
 		<span class="n">Channel_2_Output</span><span class="p">:</span><span class="o">=</span><span class="n">bDo_2</span><span class="p">;</span>
 		<span class="n">Channel_3_Output</span><span class="p">:</span><span class="o">=</span><span class="n">bDo_3</span><span class="p">;</span>
 		<span class="n">Channel_4_Output</span><span class="p">:</span><span class="o">=</span><span class="n">bDo_4</span><span class="p">;</span>
 		<span class="n">Channel_5_Output</span><span class="p">:</span><span class="o">=</span><span class="n">bDo_5</span><span class="p">;</span>
 		<span class="n">Channel_6_Output</span><span class="p">:</span><span class="o">=</span><span class="n">bDo_6</span><span class="p">;</span>
 		<span class="n">Channel_7_Output</span><span class="p">:</span><span class="o">=</span><span class="n">bDo_7</span><span class="p">;</span>
 		<span class="n">Channel_8_Output</span><span class="p">:</span><span class="o">=</span><span class="n">bDo_8</span><span class="p">;</span>
 		<span class="n">Channel_9_Output</span><span class="p">:</span><span class="o">=</span><span class="n">bDo_9</span><span class="p">;</span>
 		<span class="n">Channel_10_Output</span><span class="p">:</span><span class="o">=</span><span class="n">bDo_10</span><span class="p">;</span>
 		<span class="n">Channel_11_Output</span><span class="p">:</span><span class="o">=</span><span class="n">bDo_11</span><span class="p">;</span>
 		<span class="n">Channel_12_Output</span><span class="p">:</span><span class="o">=</span><span class="n">bDo_12</span><span class="p">;</span>
 		<span class="n">Channel_13_Output</span><span class="p">:</span><span class="o">=</span><span class="n">bDo_13</span><span class="p">;</span>
 		<span class="n">Channel_14_Output</span><span class="p">:</span><span class="o">=</span><span class="n">bDo_14</span><span class="p">;</span>
 		<span class="n">Channel_15_Output</span><span class="p">:</span><span class="o">=</span><span class="n">bDo_15</span><span class="p">;</span>
 		<span class="n">Channel_16_Output</span><span class="p">:</span><span class="o">=</span><span class="n">bDo_16</span><span class="p">;</span>
 	<span class="n">ELSE</span>
 		<span class="n">Channel_1_Output</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">Channel_2_Output</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">Channel_3_Output</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">Channel_4_Output</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">Channel_5_Output</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">Channel_6_Output</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">Channel_7_Output</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">Channel_8_Output</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">Channel_9_Output</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">Channel_10_Output</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">Channel_11_Output</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">Channel_12_Output</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">Channel_13_Output</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">Channel_14_Output</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">Channel_15_Output</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		<span class="n">Channel_16_Output</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 	<span class="n">END_IF</span>
 <span class="n">END_IF</span>
</pre></div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-hardware-ethercat-terminals-digital-outputs-external-types-dutel2521-ctrl-tcdut-tcplcobject">
<h2>tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Digital_Outputs/External_Types/dutEL2521_Ctrl.TcDUT (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-digital-outputs-external-types-dutel2521-ctrl-tcdut-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">dutEL2521_Ctrl</span><span class="p">:</span> <span class="n">Declaration</span>

 <span class="n">TYPE</span> <span class="n">dutEL2521_Ctrl</span> <span class="p">:</span>
 <span class="n">STRUCT</span>
 	<span class="o">///</span><span class="n">The</span> <span class="n">control</span> <span class="n">word</span> <span class="p">(</span><span class="n">CW</span><span class="p">)</span> <span class="ow">is</span> <span class="n">located</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">output</span> <span class="n">process</span> <span class="n">image</span><span class="p">,</span> <span class="ow">and</span> <span class="ow">is</span> <span class="n">transmitted</span> <span class="kn">from</span> <span class="nn">the</span> <span class="n">controller</span> <span class="n">to</span> <span class="n">the</span> <span class="n">terminal</span><span class="o">.</span>
 	<span class="o">///</span><span class="n">CW</span><span class="o">.</span><span class="mi">0</span> <span class="n">FREQ_SEL</span> <span class="mi">0</span><span class="nb">bin</span> <span class="o">/</span> <span class="mi">1</span><span class="nb">bin</span>  <span class="n">Rapid</span> <span class="n">change</span> <span class="n">of</span> <span class="n">the</span> <span class="n">base</span> <span class="n">frequency</span> <span class="p">(</span><span class="n">only</span> <span class="k">if</span> <span class="n">the</span> <span class="n">ramp</span> <span class="n">function</span> <span class="ow">is</span> <span class="n">inactive</span><span class="p">):</span>
 	<span class="o">///</span><span class="mi">0</span><span class="nb">bin</span> <span class="o">=</span> <span class="n">Base</span> <span class="n">frequency</span> <span class="mi">1</span> <span class="p">(</span><span class="nb">object</span> <span class="mi">8001</span><span class="p">:</span><span class="mi">02</span><span class="p">)</span>
 	<span class="o">///</span><span class="mi">1</span><span class="nb">bin</span> <span class="o">=</span> <span class="n">Base</span> <span class="n">frequency</span> <span class="mi">2</span> <span class="p">(</span><span class="nb">object</span> <span class="mi">8001</span><span class="p">:</span><span class="mi">03</span><span class="p">)</span> 
 	<span class="n">FREQ_SEL</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="o">///</span><span class="n">CW</span><span class="o">.</span><span class="mi">1</span> <span class="n">RAMP_DIS</span> <span class="mi">1</span><span class="nb">bin</span> <span class="n">Operation</span> <span class="n">of</span> <span class="n">the</span> <span class="n">ramp</span> <span class="n">function</span> <span class="ow">is</span> <span class="n">cancelled</span><span class="p">,</span> <span class="ow">in</span> <span class="n">spite</span> <span class="n">of</span> <span class="nb">object</span> <span class="mi">8000</span><span class="p">:</span><span class="mi">06</span> <span class="n">being</span> <span class="n">active</span><span class="p">;</span> <span class="k">if</span> <span class="n">travel</span> <span class="n">distance</span> <span class="n">control</span> <span class="ow">is</span> <span class="n">active</span><span class="p">,</span> <span class="n">it</span> <span class="ow">is</span> <span class="n">interrupted</span> <span class="n">by</span> <span class="n">this</span> <span class="n">bit</span> 
 	<span class="n">RAMP_DIS</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="o">///</span><span class="n">CW</span><span class="o">.</span><span class="mi">2</span> <span class="n">GO_COUNTER</span> <span class="mi">1</span><span class="nb">bin</span>  <span class="n">If</span> <span class="n">travel</span> <span class="n">distance</span> <span class="n">control</span> <span class="ow">is</span> <span class="n">active</span> <span class="p">(</span><span class="nb">object</span> <span class="mi">8000</span><span class="p">:</span><span class="mi">0</span><span class="n">A</span><span class="p">),</span> <span class="n">then</span> <span class="n">a</span> <span class="n">pre</span><span class="o">-</span><span class="nb">set</span> <span class="n">counter</span> <span class="n">value</span> <span class="ow">is</span> <span class="n">approached</span> <span class="n">when</span> <span class="n">the</span> <span class="n">bit</span> <span class="ow">is</span> <span class="nb">set</span> 
 	<span class="n">GO_COUNTER</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="o">///</span><span class="n">CW</span><span class="o">.</span><span class="mi">5</span> <span class="n">CNT_CLR</span> <span class="mi">1</span><span class="nb">bin</span> <span class="n">The</span> <span class="n">contents</span> <span class="n">of</span> <span class="n">the</span> <span class="n">counter</span> <span class="ow">is</span> <span class="n">cleared</span> <span class="ow">or</span> <span class="nb">set</span> <span class="p">(</span><span class="nb">object</span> <span class="mi">8000</span><span class="p">:</span><span class="mi">0</span><span class="n">B</span><span class="p">)</span> <span class="n">by</span> <span class="n">this</span> <span class="n">bit</span><span class="o">.</span> 
 	<span class="o">///</span><span class="n">Any</span> <span class="n">overflow</span> <span class="ow">or</span> <span class="n">underflow</span> <span class="n">bits</span> <span class="n">that</span> <span class="n">might</span> <span class="n">be</span> <span class="nb">set</span> <span class="n">are</span> <span class="n">also</span> <span class="n">cleared</span> <span class="n">by</span> <span class="n">this</span> <span class="n">bit</span><span class="o">.</span> 
 	<span class="o">///</span><span class="n">The</span> <span class="n">process</span> <span class="n">can</span> <span class="n">be</span> <span class="n">edge</span> <span class="n">triggered</span> <span class="ow">or</span> <span class="n">level</span> <span class="n">triggered</span> <span class="p">(</span><span class="nb">object</span> <span class="mi">8000</span><span class="p">:</span><span class="mi">05</span><span class="p">)</span><span class="o">.</span> 
 	<span class="n">CNT_CLR</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 <span class="n">END_STRUCT</span>
 <span class="n">END_TYPE</span>
</pre></div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-hardware-ethercat-terminals-digital-outputs-external-types-dutel2521-status-tcdut-tcplcobject">
<h2>tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Digital_Outputs/External_Types/dutEL2521_Status.TcDUT (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-digital-outputs-external-types-dutel2521-status-tcdut-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">dutEL2521_Status</span><span class="p">:</span> <span class="n">Declaration</span>

 <span class="n">TYPE</span> <span class="n">dutEL2521_Status</span> <span class="p">:</span>
 <span class="n">STRUCT</span>
 	<span class="o">///</span><span class="n">The</span> <span class="n">status</span> <span class="n">word</span> <span class="p">(</span><span class="n">SW</span><span class="p">)</span> <span class="ow">is</span> <span class="n">located</span> <span class="ow">in</span> <span class="n">the</span> <span class="nb">input</span> <span class="n">process</span> <span class="n">image</span><span class="p">,</span> <span class="ow">and</span> <span class="ow">is</span> <span class="n">transmitted</span> <span class="kn">from</span> <span class="nn">the</span> <span class="n">terminal</span> <span class="n">to</span> <span class="n">the</span> <span class="n">controller</span><span class="o">.</span>
 	<span class="o">///</span><span class="n">SW</span><span class="o">.</span><span class="mi">0</span> <span class="n">SEL_ACK</span><span class="o">/</span><span class="n">END_COUNTER</span> <span class="mi">1</span><span class="nb">bin</span>  <span class="n">Confirms</span> <span class="n">the</span> <span class="n">change</span> <span class="n">of</span> <span class="n">base</span> <span class="n">frequency</span><span class="o">.</span> <span class="n">At</span> <span class="n">activated</span> <span class="n">travel</span> <span class="n">distance</span> <span class="n">control</span><span class="p">:</span> <span class="n">target</span> <span class="n">counter</span> <span class="n">value</span> <span class="n">reached</span> 
 	<span class="n">SEL_ACK</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="o">///</span><span class="n">SW</span><span class="o">.</span><span class="mi">1</span> <span class="n">RAMP_ACTIVE</span> <span class="mi">1</span><span class="nb">bin</span> <span class="n">Ramp</span> <span class="ow">is</span> <span class="n">currently</span> <span class="n">being</span> <span class="n">followed</span> 
 	<span class="n">RAMP_ACTIVE</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="o">///</span><span class="n">SW</span><span class="o">.</span><span class="mi">2</span> <span class="n">UNDERFLOW</span> <span class="mi">1</span><span class="nb">bin</span> <span class="n">This</span> <span class="n">bit</span> <span class="ow">is</span> <span class="nb">set</span> <span class="k">if</span> <span class="n">the</span> <span class="mi">16</span><span class="o">-</span><span class="n">bit</span> <span class="n">counter</span> <span class="n">underflows</span> <span class="p">(</span><span class="mi">0</span> <span class="o">-&gt;</span> <span class="mi">65535</span><span class="p">)</span><span class="o">.</span> <span class="n">It</span> <span class="ow">is</span> <span class="n">reset</span> <span class="n">when</span> <span class="n">the</span> <span class="n">counter</span> <span class="n">drops</span> <span class="n">below</span> <span class="n">two</span> <span class="n">thirds</span> <span class="n">of</span> <span class="n">its</span> <span class="n">measuring</span> <span class="nb">range</span> <span class="p">(</span><span class="mi">43690</span> <span class="o">-&gt;</span> <span class="mi">43689</span><span class="p">)</span> <span class="ow">or</span> <span class="n">immediately</span> <span class="n">an</span> <span class="n">overflow</span> <span class="n">occurs</span><span class="o">.</span> 
 	<span class="n">UNDERFLOW</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="o">///</span><span class="n">SW</span><span class="o">.</span><span class="mi">3</span> <span class="n">OVERFLOW</span> <span class="mi">1</span><span class="nb">bin</span> <span class="n">This</span> <span class="n">bit</span> <span class="ow">is</span> <span class="nb">set</span> <span class="k">if</span> <span class="n">the</span> <span class="mi">16</span><span class="o">-</span><span class="n">bit</span> <span class="n">counter</span> <span class="n">overflows</span> <span class="p">(</span><span class="mi">65535</span> <span class="o">-&gt;</span> <span class="mi">0</span><span class="p">)</span><span class="o">.</span> <span class="n">It</span> <span class="ow">is</span> <span class="n">reset</span> <span class="n">when</span> <span class="n">the</span> <span class="n">counter</span> <span class="n">exceeds</span> <span class="n">one</span> <span class="n">third</span> <span class="n">of</span> <span class="n">its</span> <span class="n">measuring</span> <span class="nb">range</span> <span class="p">(</span><span class="mi">21845</span> <span class="o">-&gt;</span> <span class="mi">21846</span><span class="p">)</span> <span class="ow">or</span> <span class="n">immediately</span> <span class="n">an</span> <span class="n">underflow</span> <span class="n">occurs</span> 
 	<span class="n">OVERFLOW</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="o">///</span><span class="n">SW</span><span class="o">.</span><span class="mi">4</span> <span class="n">INPUT_T</span> <span class="mi">1</span><span class="nb">bin</span> <span class="n">Status</span> <span class="n">of</span> <span class="n">INPUT_T</span> 
 	<span class="n">INPUT_T</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="o">///</span><span class="n">SW</span><span class="o">.</span><span class="mi">5</span> <span class="n">INPUT_Z</span> <span class="mi">1</span><span class="nb">bin</span> <span class="n">Status</span> <span class="n">of</span> <span class="n">INPUT_Z</span> 
 	<span class="n">INPUT_Z</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="o">///</span><span class="n">SW</span><span class="o">.</span><span class="mi">6</span> <span class="n">ERROR</span> <span class="mi">1</span><span class="nb">bin</span> <span class="n">General</span> <span class="n">error</span> <span class="n">bit</span><span class="p">,</span> <span class="n">included</span> <span class="k">with</span> <span class="n">overflow</span><span class="o">/</span><span class="n">underflow</span> 
 	<span class="n">ERROR</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 <span class="n">END_STRUCT</span>
 <span class="n">END_TYPE</span>
</pre></div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-hardware-ethercat-terminals-measuring-terminals-el5002-tcpou-tcplcobject">
<h2>tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Measuring_Terminals/EL5002.TcPOU (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-measuring-terminals-el5002-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">EL5002</span><span class="p">:</span> <span class="n">Declaration</span>

 <span class="o">//</span><span class="n">EL5002</span> <span class="o">|</span> <span class="mi">2</span><span class="o">-</span><span class="n">chennel</span> <span class="n">SSI</span> <span class="n">absolute</span> <span class="n">encoder</span> <span class="n">terminal</span>
 <span class="n">FUNCTION_BLOCK</span> <span class="n">EL5002</span>
 
 <span class="n">VAR_INPUT</span>
 	<span class="n">En</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">iTerminal_ID</span> <span class="p">:</span> <span class="n">INT</span><span class="p">;</span>
 	<span class="n">ErrorSystem</span> <span class="p">:</span> <span class="n">POINTER</span> <span class="n">TO</span> <span class="n">ST_ErrorSystem</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 
 <span class="n">VAR_OUTPUT</span>
 	<span class="n">EnO</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">Ch1_Counter_Value</span> <span class="p">:</span> <span class="n">UDINT</span><span class="p">;</span>
 	<span class="n">Ch2_Counter_Value</span> <span class="p">:</span> <span class="n">UDINT</span><span class="p">;</span>
 	<span class="n">bError</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 
 <span class="n">VAR</span>
 	<span class="n">udi_Ch1_Cnt_Value</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="p">:</span> <span class="n">UDINT</span><span class="p">;</span>
 	<span class="n">udi_Ch2_Cnt_Value</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="p">:</span> <span class="n">UDINT</span><span class="p">;</span>
 	<span class="n">WcState_WcState</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">InfoData_State</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">UINT</span><span class="p">;</span>
 	
 	<span class="o">//</span><span class="n">FB</span><span class="o">-</span><span class="n">s</span>
 	<span class="n">EL5002_Error</span> <span class="p">:</span> <span class="n">FB_TerminalError</span><span class="p">;</span>
 <span class="n">END_VAR</span>

<span class="o">-</span> <span class="n">EL5002</span><span class="p">:</span> <span class="n">ST</span>

 <span class="p">(</span><span class="o">*</span>
 <span class="o">*</span> <span class="n">TODO</span><span class="p">:</span>
 <span class="o">*</span> <span class="n">Channel</span> <span class="n">Status</span> <span class="n">words</span>
 <span class="o">*</span><span class="p">)</span>
 
 <span class="n">EnO</span><span class="p">:</span><span class="o">=</span><span class="n">En</span><span class="p">;</span>
 
 <span class="o">//</span><span class="n">Error</span> <span class="n">FB</span> <span class="n">instance</span>
 <span class="n">EL5002_Error</span><span class="p">(</span>
 	<span class="n">En</span> <span class="p">:</span><span class="o">=</span> <span class="n">TRUE</span><span class="p">,</span>
 	<span class="n">iTerminal_ID</span> <span class="p">:</span><span class="o">=</span> <span class="n">iTerminal_ID</span><span class="p">,</span>
 	<span class="n">bWcState</span> <span class="p">:</span><span class="o">=</span> <span class="n">WcState_WcState</span><span class="p">,</span>
 	<span class="n">uiInfoData_State</span> <span class="p">:</span><span class="o">=</span> <span class="n">InfoData_State</span><span class="p">,</span>
 	<span class="n">pErrorSystem</span> <span class="p">:</span><span class="o">=</span> <span class="n">ErrorSystem</span><span class="p">,</span>
 	<span class="n">bError</span> <span class="o">=&gt;</span> <span class="n">bError</span><span class="p">,</span>
 <span class="p">);</span>
 
 <span class="n">IF</span> <span class="n">EN</span> <span class="n">THEN</span>
 	<span class="n">IF</span> <span class="n">NOT</span> <span class="n">bError</span> <span class="n">THEN</span>
 		<span class="n">Ch1_Counter_Value</span> <span class="p">:</span><span class="o">=</span> <span class="n">udi_Ch1_Cnt_Value</span><span class="p">;</span>
 		<span class="n">Ch2_Counter_Value</span> <span class="p">:</span><span class="o">=</span> <span class="n">udi_Ch2_Cnt_Value</span><span class="p">;</span>
 	<span class="n">ELSE</span>
 		<span class="n">Ch1_Counter_Value</span> <span class="p">:</span><span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
 		<span class="n">Ch2_Counter_Value</span> <span class="p">:</span><span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
 	<span class="n">END_IF</span>
 <span class="n">END_IF</span>
</pre></div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-hardware-ethercat-terminals-measuring-terminals-el5021-tcpou-tcplcobject">
<h2>tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Measuring_Terminals/EL5021.TcPOU (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-measuring-terminals-el5021-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">EL5021</span><span class="p">:</span> <span class="n">Declaration</span>

 <span class="o">//</span><span class="n">EL5021</span> <span class="o">|</span> <span class="mi">1</span><span class="o">-</span><span class="n">channel</span> <span class="n">Sin</span><span class="o">/</span><span class="n">Cos</span> <span class="n">encoder</span>
 <span class="n">FUNCTION_BLOCK</span> <span class="n">EL5021</span>
 
 <span class="n">VAR_INPUT</span>
 	<span class="n">En</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">iTerminal_ID</span> <span class="p">:</span> <span class="n">INT</span><span class="p">;</span>
 	<span class="n">ErrorSystem</span> <span class="p">:</span> <span class="n">POINTER</span> <span class="n">TO</span> <span class="n">ST_ErrorSystem</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 
 <span class="n">VAR_OUTPUT</span>
 	<span class="n">EnO</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">Counter_Value</span> <span class="p">:</span> <span class="n">UDINT</span><span class="p">;</span>
 	<span class="n">Latch_Value</span> <span class="p">:</span> <span class="n">UDINT</span><span class="p">;</span>
 	<span class="n">bError</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 
 <span class="n">VAR</span>
 	<span class="n">udiCounter_Value</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="p">:</span> <span class="n">UDINT</span><span class="p">;</span>
 	<span class="n">udiLatch_Value</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="p">:</span> <span class="n">UDINT</span><span class="p">;</span>
 	<span class="n">WcState_WcState</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">InfoData_State</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">UINT</span><span class="p">;</span>
 	
 	<span class="o">//</span><span class="n">FB</span><span class="o">-</span><span class="n">s</span>
 	<span class="n">EL5021_Error</span> <span class="p">:</span> <span class="n">FB_TerminalError</span><span class="p">;</span>
 <span class="n">END_VAR</span>

<span class="o">-</span> <span class="n">EL5021</span><span class="p">:</span> <span class="n">ST</span>

 <span class="p">(</span><span class="o">*</span>
 <span class="o">*</span> <span class="n">TODO</span><span class="p">:</span>
 <span class="o">*</span> <span class="n">Channel</span> <span class="n">Status</span> <span class="n">words</span><span class="p">,</span> <span class="n">control</span> <span class="n">words</span>
 <span class="o">*</span><span class="p">)</span>
 
 <span class="n">EnO</span><span class="p">:</span><span class="o">=</span><span class="n">En</span><span class="p">;</span>
 
 <span class="o">//</span><span class="n">Error</span> <span class="n">FB</span> <span class="n">instance</span>
 <span class="n">EL5021_Error</span><span class="p">(</span>
 	<span class="n">En</span> <span class="p">:</span><span class="o">=</span> <span class="n">TRUE</span><span class="p">,</span>
 	<span class="n">iTerminal_ID</span> <span class="p">:</span><span class="o">=</span> <span class="n">iTerminal_ID</span><span class="p">,</span>
 	<span class="n">bWcState</span> <span class="p">:</span><span class="o">=</span> <span class="n">WcState_WcState</span><span class="p">,</span>
 	<span class="n">uiInfoData_State</span> <span class="p">:</span><span class="o">=</span> <span class="n">InfoData_State</span><span class="p">,</span>
 	<span class="n">pErrorSystem</span> <span class="p">:</span><span class="o">=</span> <span class="n">ErrorSystem</span><span class="p">,</span>
 	<span class="n">bError</span> <span class="o">=&gt;</span> <span class="n">bError</span><span class="p">,</span>
 <span class="p">);</span>
 
 <span class="n">IF</span> <span class="n">EN</span> <span class="n">THEN</span>
 	<span class="n">IF</span> <span class="n">NOT</span> <span class="n">bError</span> <span class="n">THEN</span>
 		<span class="n">Counter_Value</span> <span class="p">:</span><span class="o">=</span> <span class="n">udiCounter_Value</span><span class="p">;</span>
 		<span class="n">Latch_Value</span> <span class="p">:</span><span class="o">=</span> <span class="n">udiLatch_Value</span><span class="p">;</span>
 	<span class="n">ELSE</span>
 		<span class="n">Counter_Value</span> <span class="p">:</span><span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
 		<span class="n">Latch_Value</span> <span class="p">:</span><span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
 	<span class="n">END_IF</span>
 <span class="n">END_IF</span>
</pre></div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-hardware-ethercat-terminals-measuring-terminals-el5042-tcpou-tcplcobject">
<h2>tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Measuring_Terminals/EL5042.TcPOU (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-measuring-terminals-el5042-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">EL5042</span><span class="p">:</span> <span class="n">Declaration</span>

 <span class="o">//</span><span class="n">EL5042</span> <span class="o">|</span> <span class="mi">2</span><span class="o">-</span><span class="n">channel</span> <span class="n">BiSS</span><span class="o">-</span><span class="n">C</span> <span class="n">absolute</span> <span class="n">encoder</span> <span class="n">terminal</span>
 <span class="n">FUNCTION_BLOCK</span> <span class="n">EL5042</span>
 
 <span class="n">VAR_INPUT</span>
 	<span class="n">En</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">iTerminal_ID</span> <span class="p">:</span> <span class="n">INT</span><span class="p">;</span>
 	<span class="n">ErrorSystem</span> <span class="p">:</span> <span class="n">POINTER</span> <span class="n">TO</span> <span class="n">ST_ErrorSystem</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 
 <span class="n">VAR_OUTPUT</span>
 	<span class="n">EnO</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">Ch1_Position</span> <span class="p">:</span> <span class="n">ULINT</span><span class="p">;</span>
 	<span class="n">Ch2_Position</span> <span class="p">:</span> <span class="n">ULINT</span><span class="p">;</span>
 	<span class="n">bError</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 
 <span class="n">VAR</span>
 	<span class="n">FB_Inputs_ch1_Position</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="p">:</span> <span class="n">ULINT</span><span class="p">;</span>
 	<span class="n">FB_Inputs_ch2_Position</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="p">:</span> <span class="n">ULINT</span><span class="p">;</span>
 	<span class="n">WcState_WcState</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">InfoData_State</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">UINT</span><span class="p">;</span>
 	
 	<span class="o">//</span><span class="n">FB</span><span class="o">-</span><span class="n">s</span>
 	<span class="n">EL5042_Error</span> <span class="p">:</span> <span class="n">FB_TerminalError</span><span class="p">;</span>
 <span class="n">END_VAR</span>

<span class="o">-</span> <span class="n">EL5042</span><span class="p">:</span> <span class="n">ST</span>

 <span class="p">(</span><span class="o">*</span>
 <span class="o">*</span> <span class="n">TODO</span><span class="p">:</span>
 <span class="o">*</span> <span class="n">Channel</span> <span class="n">Status</span> <span class="n">words</span>
 <span class="o">*</span><span class="p">)</span>
 
 <span class="n">EnO</span><span class="p">:</span><span class="o">=</span><span class="n">En</span><span class="p">;</span>
 
 <span class="o">//</span><span class="n">Error</span> <span class="n">FB</span> <span class="n">instance</span>
 <span class="n">EL5042_Error</span><span class="p">(</span>
 	<span class="n">En</span> <span class="p">:</span><span class="o">=</span> <span class="n">TRUE</span><span class="p">,</span>
 	<span class="n">iTerminal_ID</span> <span class="p">:</span><span class="o">=</span> <span class="n">iTerminal_ID</span><span class="p">,</span>
 	<span class="n">bWcState</span> <span class="p">:</span><span class="o">=</span> <span class="n">WcState_WcState</span><span class="p">,</span>
 	<span class="n">uiInfoData_State</span> <span class="p">:</span><span class="o">=</span> <span class="n">InfoData_State</span><span class="p">,</span>
 	<span class="n">pErrorSystem</span> <span class="p">:</span><span class="o">=</span> <span class="n">ErrorSystem</span><span class="p">,</span>
 	<span class="n">bError</span> <span class="o">=&gt;</span> <span class="n">bError</span><span class="p">,</span>
 <span class="p">);</span>
 
 <span class="n">IF</span> <span class="n">EN</span> <span class="n">THEN</span>
 	<span class="n">IF</span> <span class="n">NOT</span> <span class="n">bError</span> <span class="n">THEN</span>
 		<span class="n">Ch1_Position</span> <span class="p">:</span><span class="o">=</span> <span class="n">FB_Inputs_ch1_Position</span><span class="p">;</span>
 		<span class="n">Ch2_Position</span> <span class="p">:</span><span class="o">=</span> <span class="n">FB_Inputs_ch2_Position</span><span class="p">;</span>
 	<span class="n">ELSE</span>
 		<span class="n">Ch1_Position</span> <span class="p">:</span><span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
 		<span class="n">Ch2_Position</span> <span class="p">:</span><span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
 	<span class="n">END_IF</span>
 <span class="n">END_IF</span>
</pre></div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-hardware-ethercat-terminals-measuring-terminals-el5101-tcpou-tcplcobject">
<h2>tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Measuring_Terminals/EL5101.TcPOU (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-measuring-terminals-el5101-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">EL5101</span><span class="p">:</span> <span class="n">Declaration</span>

 <span class="o">//</span> <span class="n">EL5101</span> <span class="o">|</span> <span class="mi">1</span><span class="o">-</span><span class="n">channel</span> <span class="n">incremental</span> <span class="n">encoder</span> <span class="n">terminal</span><span class="p">,</span> <span class="mi">5</span><span class="n">V</span><span class="p">,</span> <span class="n">RS422</span>
 <span class="n">FUNCTION_BLOCK</span> <span class="n">EL5101</span>
 
 <span class="n">VAR_INPUT</span>
 	<span class="n">En</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">iTerminal_ID</span> <span class="p">:</span> <span class="n">INT</span><span class="p">;</span>
 	<span class="n">ErrorSystem</span> <span class="p">:</span> <span class="n">POINTER</span> <span class="n">TO</span> <span class="n">ST_ErrorSystem</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 
 <span class="n">VAR_OUTPUT</span>
 	<span class="n">EnO</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">Counter_Value</span> <span class="p">:</span> <span class="n">UINT</span><span class="p">;</span>
 	<span class="n">Latch_Value</span> <span class="p">:</span> <span class="n">UINT</span><span class="p">;</span>
 	<span class="n">bError</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 
 <span class="n">VAR</span>
 	<span class="n">uiCounter_Value</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="p">:</span> <span class="n">UINT</span><span class="p">;</span>
 	<span class="n">uiLatch_Value</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="p">:</span> <span class="n">UINT</span><span class="p">;</span>
 	<span class="n">WcState_WcState</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">InfoData_State</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">UINT</span><span class="p">;</span>
 	
 	<span class="o">//</span><span class="n">FB</span><span class="o">-</span><span class="n">s</span>
 	<span class="n">EL5101_Error</span> <span class="p">:</span> <span class="n">FB_TerminalError</span><span class="p">;</span>
 <span class="n">END_VAR</span>

<span class="o">-</span> <span class="n">EL5101</span><span class="p">:</span> <span class="n">ST</span>

 <span class="p">(</span><span class="o">*</span>
 <span class="o">*</span> <span class="n">TODO</span><span class="p">:</span>
 <span class="o">*</span> <span class="n">Channel</span> <span class="n">Status</span> <span class="n">word</span><span class="p">,</span> <span class="n">control</span> <span class="n">words</span>
 <span class="o">*</span><span class="p">)</span>
 
 <span class="n">EnO</span><span class="p">:</span><span class="o">=</span><span class="n">En</span><span class="p">;</span>
 
 <span class="o">//</span><span class="n">Error</span> <span class="n">FB</span> <span class="n">instance</span>
 <span class="n">EL5101_Error</span><span class="p">(</span>
 	<span class="n">En</span> <span class="p">:</span><span class="o">=</span> <span class="n">TRUE</span><span class="p">,</span>
 	<span class="n">iTerminal_ID</span> <span class="p">:</span><span class="o">=</span> <span class="n">iTerminal_ID</span><span class="p">,</span>
 	<span class="n">bWcState</span> <span class="p">:</span><span class="o">=</span> <span class="n">WcState_WcState</span><span class="p">,</span>
 	<span class="n">uiInfoData_State</span> <span class="p">:</span><span class="o">=</span> <span class="n">InfoData_State</span><span class="p">,</span>
 	<span class="n">pErrorSystem</span> <span class="p">:</span><span class="o">=</span> <span class="n">ErrorSystem</span><span class="p">,</span>
 	<span class="n">bError</span> <span class="o">=&gt;</span> <span class="n">bError</span><span class="p">,</span>
 <span class="p">);</span>
 
 <span class="n">IF</span> <span class="n">EN</span> <span class="n">THEN</span>
 	<span class="n">IF</span> <span class="n">NOT</span> <span class="n">bError</span> <span class="n">THEN</span>
 		<span class="n">Counter_Value</span> <span class="p">:</span><span class="o">=</span> <span class="n">uiCounter_Value</span><span class="p">;</span>
 		<span class="n">Latch_Value</span> <span class="p">:</span><span class="o">=</span> <span class="n">uiLatch_Value</span><span class="p">;</span>
 	<span class="n">ELSE</span>
 		<span class="n">Counter_Value</span> <span class="p">:</span><span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
 		<span class="n">Latch_Value</span> <span class="p">:</span><span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
 	<span class="n">END_IF</span>
 <span class="n">END_IF</span>
</pre></div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-hardware-ethercat-terminals-motion-el7211-v1-00-tcpou-tcplcobject">
<h2>tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Motion/EL7211_v1_00.TcPOU (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-motion-el7211-v1-00-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">EL7211_v1_00</span><span class="p">:</span> <span class="n">Declaration</span>

 <span class="o">///</span><span class="n">EL7211</span> <span class="o">|</span> <span class="n">Servo</span> <span class="n">motor</span> <span class="n">termional</span> <span class="mi">5</span> <span class="n">A</span>
 <span class="n">FUNCTION_BLOCK</span> <span class="n">EL7211_v1_00</span>
 <span class="n">VAR_INPUT</span>
 	<span class="n">En</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 <span class="n">VAR_OUTPUT</span>
 	<span class="n">EnO</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 
 	<span class="n">bError</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 <span class="n">VAR</span>
 	<span class="n">WcState_WcState</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">InfoData_State</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">UINT</span><span class="p">;</span>
 <span class="n">END_VAR</span>

<span class="o">-</span> <span class="n">EL7211_v1_00</span><span class="p">:</span> <span class="n">ST</span>

 <span class="n">EnO</span><span class="p">:</span><span class="o">=</span><span class="n">En</span><span class="p">;</span>
 
 <span class="n">IF</span> <span class="n">En</span> <span class="n">AND</span> <span class="p">(</span><span class="n">WcState_WcState</span> <span class="n">OR</span> <span class="n">InfoData_State</span><span class="o">&lt;&gt;</span><span class="mi">16</span><span class="c1">#8) THEN</span>
 	<span class="n">bError</span><span class="p">:</span><span class="o">=</span><span class="n">TRUE</span><span class="p">;</span>
 <span class="n">ELSE</span>
 	<span class="n">bError</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 <span class="n">END_IF</span>
</pre></div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-hardware-ethercat-terminals-motion-el9576-v1-00-tcpou-tcplcobject">
<h2>tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Motion/EL9576_v1_00.TcPOU (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-motion-el9576-v1-00-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">EL9576_v1_00</span><span class="p">:</span> <span class="n">Declaration</span>

 <span class="o">///</span><span class="n">EL9576</span> <span class="o">|</span> <span class="n">Brake</span> <span class="n">terminal</span> <span class="p">(</span><span class="n">vap</span> <span class="ow">and</span> <span class="n">resistor</span><span class="p">)</span>
 <span class="n">FUNCTION_BLOCK</span> <span class="n">EL9576_v1_00</span>
 <span class="n">VAR_INPUT</span>
 	<span class="n">En</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 <span class="n">VAR_OUTPUT</span>
 	<span class="n">EnO</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bError</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>	
 	<span class="n">OverTemperature</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">I2TError</span> <span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">I2TWarning</span> <span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">OverVoltage</span>  <span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">UnderVoltage</span> <span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">ChopperOn</span> <span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">DCLinkVoltage</span> <span class="p">:</span> <span class="n">LREAL</span><span class="p">;</span>
 	<span class="n">DutyCycle</span>  <span class="p">:</span> <span class="n">LREAL</span><span class="p">;</span>
 	<span class="n">ResistorCurrent</span> <span class="p">:</span> <span class="n">LREAL</span><span class="p">;</span>
 	
 <span class="n">END_VAR</span>
 <span class="n">VAR</span>
 	<span class="n">BCTOverTemperature</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">BCTI2TError</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">BCTI2TWarning</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">BCTOverVoltage</span>  <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">BCTUnderVoltage</span>  <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">BCTChopperOn</span>  <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">BCTDCLinkVoltage</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">UDINT</span><span class="p">;</span>
 	<span class="n">BCTDutyCycle</span>  <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">USINT</span><span class="p">;</span>
 	<span class="n">BCTResistorCurrent</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">UDINT</span><span class="p">;</span>
 	<span class="n">WcState_WcState</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">InfoData_State</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">UINT</span><span class="p">;</span>
 	
 <span class="n">END_VAR</span>

<span class="o">-</span> <span class="n">EL9576_v1_00</span><span class="p">:</span> <span class="n">ST</span>

 <span class="n">EnO</span><span class="p">:</span><span class="o">=</span><span class="n">En</span><span class="p">;</span>
 
 <span class="n">IF</span> <span class="n">En</span> <span class="n">AND</span> <span class="p">(</span><span class="n">WcState_WcState</span> <span class="n">OR</span> <span class="n">InfoData_State</span><span class="o">&lt;&gt;</span><span class="mi">16</span><span class="c1">#8 OR BCTI2TError OR BCTI2TWarning OR BCTOverTemperature OR BCTOverVoltage OR BCTUnderVoltage) THEN</span>
 	<span class="n">bError</span><span class="p">:</span><span class="o">=</span><span class="n">TRUE</span><span class="p">;</span>
 <span class="n">ELSE</span>
 	<span class="n">bError</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 <span class="n">END_IF</span>
 
 <span class="n">OverTemperature</span><span class="p">:</span><span class="o">=</span><span class="n">BCTOverTemperature</span><span class="p">;</span>
 <span class="n">I2TError</span><span class="p">:</span><span class="o">=</span><span class="n">BCTI2TError</span><span class="p">;</span>
 <span class="n">I2TWarning</span><span class="p">:</span><span class="o">=</span><span class="n">BCTI2TWarning</span><span class="p">;</span>
 <span class="n">OverVoltage</span><span class="p">:</span><span class="o">=</span><span class="n">BCTOverVoltage</span><span class="p">;</span>
 <span class="n">UnderVoltage</span><span class="p">:</span><span class="o">=</span><span class="n">bctUnderVoltage</span><span class="p">;</span>
 <span class="n">ChopperOn</span><span class="p">:</span><span class="o">=</span><span class="n">bctChopperOn</span><span class="p">;</span>
 <span class="n">DCLinkVoltage</span><span class="p">:</span><span class="o">=</span><span class="n">UDINT_TO_LREAL</span><span class="p">(</span><span class="n">bctDCLinkVoltage</span><span class="p">);</span>
 <span class="n">DutyCycle</span><span class="p">:</span><span class="o">=</span><span class="n">USINT_TO_LREAL</span><span class="p">(</span><span class="n">BCTDutyCycle</span><span class="p">);</span>
 <span class="n">ResistorCurrent</span><span class="p">:</span><span class="o">=</span><span class="n">UDINT_TO_LREAL</span><span class="p">(</span><span class="n">BCTResistorCurrent</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-hardware-ethercat-terminals-system-el9410-tcpou-tcplcobject">
<h2>tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/System/EL9410.TcPOU (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-system-el9410-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">EL9410</span><span class="p">:</span> <span class="n">Declaration</span>

 <span class="o">//</span><span class="n">EL9410</span> <span class="o">|</span> <span class="n">E</span><span class="o">-</span><span class="n">Bus</span> <span class="n">power</span> <span class="n">supplier</span> <span class="ow">and</span> <span class="n">refresher</span><span class="p">,</span> <span class="n">diagnostics</span>
 <span class="n">FUNCTION_BLOCK</span> <span class="n">EL9410</span>
 
 <span class="n">VAR_INPUT</span>
 	<span class="n">En</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">iTerminal_ID</span> <span class="p">:</span> <span class="n">INT</span><span class="p">;</span>
 	<span class="n">ErrorSystem</span> <span class="p">:</span> <span class="n">POINTER</span> <span class="n">TO</span> <span class="n">ST_ErrorSystem</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 
 <span class="n">VAR_OUTPUT</span>
 	<span class="n">EnO</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bError</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 
 <span class="n">VAR</span>
 	<span class="n">bStatus_Us_UV</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bStatus_Up_UV</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">WcState_WcState</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">InfoData_State</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">UINT</span><span class="p">;</span>
 	
 	<span class="o">//</span><span class="n">FB</span><span class="o">-</span><span class="n">s</span>
 	<span class="n">EL9410_Error</span> <span class="p">:</span> <span class="n">FB_TerminalError</span><span class="p">;</span>
 <span class="n">END_VAR</span>

<span class="o">-</span> <span class="n">EL9410</span><span class="p">:</span> <span class="n">ST</span>

 <span class="p">(</span><span class="o">*</span>
 <span class="o">*</span> <span class="n">TODO</span><span class="p">:</span>
 <span class="o">*</span> <span class="n">Status</span> <span class="n">bits</span>
 <span class="o">*</span><span class="p">)</span>
 
 <span class="n">EnO</span><span class="p">:</span><span class="o">=</span><span class="n">En</span><span class="p">;</span>
 
 <span class="o">//</span><span class="n">Error</span> <span class="n">FB</span> <span class="n">instance</span>
 <span class="n">EL9410_Error</span><span class="p">(</span>
 	<span class="n">En</span> <span class="p">:</span><span class="o">=</span> <span class="n">TRUE</span><span class="p">,</span>
 	<span class="n">iTerminal_ID</span> <span class="p">:</span><span class="o">=</span> <span class="n">iTerminal_ID</span><span class="p">,</span>
 	<span class="n">bWcState</span> <span class="p">:</span><span class="o">=</span> <span class="n">WcState_WcState</span><span class="p">,</span>
 	<span class="n">uiInfoData_State</span> <span class="p">:</span><span class="o">=</span> <span class="n">InfoData_State</span><span class="p">,</span>
 	<span class="n">pErrorSystem</span> <span class="p">:</span><span class="o">=</span> <span class="n">ErrorSystem</span><span class="p">,</span>
 	<span class="n">bError</span> <span class="o">=&gt;</span> <span class="n">bError</span><span class="p">,</span>
 <span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-hardware-ethercat-terminals-system-el9505-tcpou-tcplcobject">
<h2>tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/System/EL9505.TcPOU (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-system-el9505-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">EL9505</span><span class="p">:</span> <span class="n">Declaration</span>

 <span class="o">//</span><span class="n">EL9505</span> <span class="o">|</span> <span class="n">Power</span> <span class="n">supply</span> <span class="n">terminal</span> <span class="mi">5</span><span class="n">V</span>
 <span class="n">FUNCTION_BLOCK</span> <span class="n">EL9505</span>
 
 <span class="n">VAR_INPUT</span>
 	<span class="n">En</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">iTerminal_ID</span> <span class="p">:</span> <span class="n">INT</span><span class="p">;</span>
 	<span class="n">ErrorSystem</span> <span class="p">:</span> <span class="n">POINTER</span> <span class="n">TO</span> <span class="n">ST_ErrorSystem</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 
 <span class="n">VAR_OUTPUT</span>
 	<span class="n">EnO</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bError</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 
 <span class="n">VAR</span>
 	<span class="n">bStatus_Uo_Power_OK</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bStatus_Uo_Overload</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">WcState_WcState</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">InfoData_State</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">UINT</span><span class="p">;</span>
 	
 	<span class="o">//</span><span class="n">FB</span><span class="o">-</span><span class="n">s</span>
 	<span class="n">EL9505_Error</span> <span class="p">:</span> <span class="n">FB_TerminalError</span><span class="p">;</span>
 <span class="n">END_VAR</span>

<span class="o">-</span> <span class="n">EL9505</span><span class="p">:</span> <span class="n">ST</span>

 <span class="p">(</span><span class="o">*</span>
 <span class="o">*</span> <span class="n">TODO</span><span class="p">:</span>
 <span class="o">*</span> <span class="n">Status</span> <span class="n">bits</span>
 <span class="o">*</span><span class="p">)</span>
 <span class="n">EnO</span><span class="p">:</span><span class="o">=</span><span class="n">En</span><span class="p">;</span>
 
 <span class="o">//</span><span class="n">Error</span> <span class="n">FB</span> <span class="n">instance</span>
 <span class="n">EL9505_Error</span><span class="p">(</span>
 	<span class="n">En</span> <span class="p">:</span><span class="o">=</span> <span class="n">TRUE</span><span class="p">,</span>
 	<span class="n">iTerminal_ID</span> <span class="p">:</span><span class="o">=</span> <span class="n">iTerminal_ID</span><span class="p">,</span>
 	<span class="n">bWcState</span> <span class="p">:</span><span class="o">=</span> <span class="n">WcState_WcState</span><span class="p">,</span>
 	<span class="n">uiInfoData_State</span> <span class="p">:</span><span class="o">=</span> <span class="n">InfoData_State</span><span class="p">,</span>
 	<span class="n">pErrorSystem</span> <span class="p">:</span><span class="o">=</span> <span class="n">ErrorSystem</span><span class="p">,</span>
 	<span class="n">bError</span> <span class="o">=&gt;</span> <span class="n">bError</span><span class="p">,</span>
 <span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-hardware-other-ek1200-tcpou-tcplcobject">
<h2>tc_mca_std_lib/POUs/Hardware/Other/EK1200.TcPOU (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-hardware-other-ek1200-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">EK1200</span><span class="p">:</span> <span class="n">Declaration</span>

 <span class="n">FUNCTION_BLOCK</span> <span class="n">EK1200</span>
 <span class="n">VAR_INPUT</span>
 	<span class="n">En</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 <span class="n">VAR_OUTPUT</span>
 	<span class="n">EnO</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 <span class="n">END_VAR</span>

<span class="o">-</span> <span class="n">EK1200</span><span class="p">:</span> <span class="n">ST</span>

 <span class="n">EnO</span><span class="p">:</span><span class="o">=</span><span class="n">En</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-motion-fb-drivevirtual-tcpou-tcplcobject">
<h2>tc_mca_std_lib/POUs/Motion/FB_DriveVirtual.TcPOU (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-motion-fb-drivevirtual-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">FB_DriveVirtual</span><span class="p">:</span> <span class="n">Declaration</span>

 <span class="o">///</span><span class="c1">#########################################################</span>
 <span class="o">///</span><span class="n">Function</span> <span class="n">block</span> <span class="n">to</span> <span class="n">run</span> <span class="n">a</span> <span class="n">virtual</span> <span class="n">drive</span> <span class="k">with</span> <span class="n">Nc</span>
 <span class="o">///</span>	<span class="n">Library</span><span class="p">:</span>		
 <span class="o">///</span>	<span class="n">Tc2_MC2</span><span class="o">.</span><span class="n">lib</span>
 <span class="o">///</span>
 <span class="o">///</span>	<span class="n">Global</span> <span class="n">Variables</span><span class="p">:</span>
 <span class="o">///</span>	
 <span class="o">///</span>	<span class="n">Data</span> <span class="n">types</span><span class="p">:</span>
 <span class="o">///</span>	
 <span class="o">///</span>	<span class="n">External</span> <span class="n">functions</span><span class="p">:</span>
 <span class="o">///</span>
 <span class="o">///</span><span class="c1">###########################################################</span>
 <span class="n">FUNCTION_BLOCK</span> <span class="n">FB_DriveVirtual</span>
 <span class="n">VAR</span>
 	<span class="n">sVersion</span><span class="p">:</span> <span class="n">STRING</span><span class="p">:</span><span class="o">=</span><span class="s1">&#39;1.0.3&#39;</span><span class="p">;</span>	
 <span class="n">END_VAR</span>
 <span class="n">VAR_INPUT</span>
 	<span class="n">En</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bEnable</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bReset</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bExecute</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="o">/////</span>	<span class="n">nCommandLocal</span><span class="o">...</span>
 	<span class="o">/////</span>	<span class="mi">0</span> <span class="o">=</span> <span class="n">Jog</span>
 	<span class="o">/////</span>	<span class="mi">1</span> <span class="o">=</span> <span class="n">MoveVelocity</span>
 	<span class="o">/////</span>	<span class="mi">2</span> <span class="o">=</span> <span class="n">MoveRelative</span>
 	<span class="o">/////</span>	<span class="mi">3</span> <span class="o">=</span> <span class="n">MoveAbsolut</span>
 	<span class="o">/////</span>	<span class="mi">4</span> <span class="o">=</span> <span class="n">MoveModulo</span>
 	<span class="o">/////</span>	<span class="mi">10</span> <span class="o">=</span> <span class="n">Homing</span>
 	<span class="o">/////</span>	<span class="mi">20</span> <span class="o">=</span> <span class="n">SuperInp</span> <span class="o">&gt;&gt;&gt;</span><span class="n">ToBe</span>
 	<span class="o">/////</span>	<span class="mi">30</span> <span class="o">=</span> <span class="n">Gear</span>
 	<span class="n">nCommand</span><span class="p">:</span> <span class="n">UINT</span><span class="p">;</span>
 	<span class="n">nCmdData</span><span class="p">:</span> <span class="n">UINT</span><span class="p">;</span>
 	<span class="n">fVelocity</span><span class="p">:</span> <span class="n">LREAL</span><span class="p">;</span>
 	<span class="n">fPosition</span><span class="p">:</span> <span class="n">LREAL</span><span class="p">;</span>
 	<span class="n">fAcceleration</span><span class="p">:</span> <span class="n">LREAL</span><span class="p">;</span>
 	<span class="n">fDeceleration</span><span class="p">:</span> <span class="n">LREAL</span><span class="p">;</span>
 	<span class="n">bJogFwd</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bJogBwd</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bLimitFwd</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bLimitBwd</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>	
 	<span class="n">fOverride</span><span class="p">:</span> <span class="n">LREAL</span> <span class="p">:</span><span class="o">=</span> <span class="mi">100</span><span class="p">;</span>
 	<span class="n">bHomeSensor</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">fHomePosition</span><span class="p">:</span><span class="n">LREAL</span><span class="p">;</span>
 	<span class="n">nHomeRevOffset</span><span class="p">:</span> <span class="n">UINT</span><span class="p">;</span>
 	<span class="n">MasterAxis</span><span class="p">:</span> <span class="n">AXIS_REF</span><span class="p">;</span>
 	<span class="n">bPowerSelf</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 <span class="n">VAR_OUTPUT</span>
 	<span class="n">EnO</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bEnabled</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bBusy</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDone</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bError</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bHomed</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">nErrorId</span><span class="p">:</span> <span class="n">UDINT</span><span class="p">;</span>
 	<span class="n">nMotionAxisID</span><span class="p">:</span><span class="n">UDINT</span><span class="p">:</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>  <span class="o">//</span><span class="n">Axis</span> <span class="nb">id</span> <span class="ow">in</span> <span class="n">Motion</span> <span class="p">(</span><span class="n">NC</span><span class="p">)</span>
 	<span class="n">Status</span><span class="p">:</span> <span class="n">ST_AxisStatus</span><span class="p">;</span>
 	<span class="n">fActVelocity</span><span class="p">:</span> <span class="n">LREAL</span><span class="p">;</span>
 	<span class="n">fActPosition</span><span class="p">:</span> <span class="n">LREAL</span><span class="p">;</span>
 	<span class="n">fActDiff</span><span class="p">:</span> <span class="n">LREAL</span><span class="p">;</span>
     <span class="n">sErrorMessage</span><span class="p">:</span><span class="n">STRING</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 <span class="n">VAR_IN_OUT</span>
 	<span class="n">Axis</span><span class="p">:</span> <span class="n">AXIS_REF</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 <span class="n">VAR</span>	
 	<span class="n">nCommandLocal</span><span class="p">:</span> <span class="n">UINT</span><span class="p">;</span>
 	<span class="n">nCmdDataLocal</span><span class="p">:</span> <span class="n">UINT</span><span class="p">;</span>
 	<span class="n">bFirstScan</span><span class="p">:</span> <span class="n">BOOL</span> <span class="p">:</span><span class="o">=</span> <span class="n">TRUE</span><span class="p">;</span>
 	<span class="n">fbReset</span><span class="p">:</span> <span class="n">MC_Reset</span><span class="p">;</span>
 	<span class="n">fbPower</span><span class="p">:</span> <span class="n">MC_Power</span><span class="p">;</span>
 	<span class="n">fbHalt</span><span class="p">:</span> <span class="n">MC_Halt</span><span class="p">;</span>
 	<span class="n">fbJog</span><span class="p">:</span> <span class="n">MC_Jog</span><span class="p">;</span>
 	<span class="n">fbMoveVelocity</span><span class="p">:</span> <span class="n">MC_MoveVelocity</span><span class="p">;</span>
 	<span class="n">fbMoveRelative</span><span class="p">:</span> <span class="n">MC_MoveRelative</span><span class="p">;</span>
 	<span class="n">fbMoveAbsolute</span><span class="p">:</span> <span class="n">MC_MoveAbsolute</span><span class="p">;</span>
 	<span class="n">fbMoveModulo</span><span class="p">:</span> <span class="n">MC_MoveModulo</span><span class="p">;</span>	
 	<span class="n">fbHomeVirtual</span><span class="p">:</span><span class="n">FB_HomeVirtual</span><span class="p">;</span>
 	<span class="n">fbGearInDyn</span><span class="p">:</span> <span class="n">MC_GearInDyn</span><span class="p">;</span>
 	<span class="n">fbGearOut</span><span class="p">:</span> <span class="n">MC_GearOut</span><span class="p">;</span>
 	<span class="n">fbExecuteRiseEdge</span><span class="p">:</span> <span class="n">R_TRIG</span><span class="p">;</span>
 	<span class="n">stAxisStatus</span><span class="p">:</span> <span class="n">DUT_AxisStatus_v0_01</span><span class="p">;</span>	
 <span class="n">END_VAR</span>

<span class="o">-</span> <span class="n">FB_DriveVirtual</span><span class="p">:</span> <span class="n">ST</span>

 <span class="n">EnO</span><span class="p">:</span><span class="o">=</span><span class="n">En</span><span class="p">;</span>
 
 <span class="o">//</span> <span class="n">Transfer</span> <span class="n">nCommand</span> <span class="ow">and</span> <span class="n">nCmdData</span> <span class="n">to</span> <span class="n">local</span> <span class="n">copies</span> <span class="n">at</span> <span class="n">rising</span> <span class="n">edge</span> <span class="n">of</span> <span class="n">bExecute</span> <span class="p">(</span><span class="n">avoid</span> <span class="n">issues</span> <span class="k">if</span> <span class="n">nCommand</span> <span class="ow">or</span> <span class="n">nCmdData</span> <span class="n">are</span> <span class="n">changed</span> <span class="n">during</span> <span class="n">a</span> <span class="n">command</span><span class="p">)</span> 
 <span class="n">fbExecuteRiseEdge</span><span class="p">(</span><span class="n">CLK</span><span class="p">:</span><span class="o">=</span><span class="n">bExecute</span><span class="p">);</span>
 <span class="n">IF</span> <span class="n">fbExecuteRiseEdge</span><span class="o">.</span><span class="n">Q</span> <span class="n">THEN</span>
   <span class="n">nCmdDataLocal</span><span class="p">:</span><span class="o">=</span><span class="n">nCmdData</span><span class="p">;</span>
   <span class="n">nCommandLocal</span><span class="p">:</span><span class="o">=</span><span class="n">nCommand</span><span class="p">;</span>
 <span class="n">END_IF</span>
 
 <span class="n">bHomed</span><span class="p">:</span><span class="o">=</span><span class="n">fbHomeVirtual</span><span class="o">.</span><span class="n">bHomed</span><span class="p">;</span> <span class="o">//</span><span class="n">Add</span> <span class="ow">in</span> <span class="n">DUT_AxisStatus</span> <span class="n">later</span>
 <span class="n">bDone</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 
 <span class="p">(</span><span class="o">*</span><span class="n">Reset</span><span class="o">*</span><span class="p">)</span>
 <span class="n">fbReset</span><span class="p">(</span>
 	<span class="n">Execute</span><span class="p">:</span><span class="o">=</span><span class="n">bReset</span> <span class="n">AND</span> <span class="n">Axis</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">Error</span><span class="p">,</span>
 	<span class="n">Axis</span><span class="p">:</span><span class="o">=</span><span class="n">Axis</span><span class="p">,</span>
 	<span class="n">Done</span><span class="o">=&gt;</span> <span class="p">,</span>
 	<span class="n">Busy</span><span class="o">=&gt;</span> <span class="p">,</span>
 	<span class="n">Error</span><span class="o">=&gt;</span> <span class="p">,</span>
 	<span class="n">ErrorID</span><span class="o">=&gt;</span> <span class="p">);</span>
 
 <span class="p">(</span><span class="o">*</span><span class="n">Power</span><span class="o">*</span><span class="p">)</span>
 <span class="n">IF</span> <span class="n">bPowerSelf</span> <span class="n">THEN</span>
 <span class="n">fbPower</span><span class="p">(</span>
 	<span class="n">Axis</span><span class="p">:</span><span class="o">=</span><span class="n">Axis</span><span class="p">,</span>
 	<span class="n">Enable</span><span class="p">:</span><span class="o">=</span><span class="n">bEnable</span><span class="p">,</span>	
 	<span class="n">Enable_Positive</span><span class="p">:</span><span class="o">=</span><span class="n">bEnable</span> <span class="n">AND</span> <span class="n">bLimitFwd</span><span class="p">,</span>	
 	<span class="n">Enable_Negative</span><span class="p">:</span><span class="o">=</span><span class="n">bEnable</span> <span class="n">AND</span> <span class="n">bLimitBwd</span><span class="p">,</span>	
 	<span class="n">Override</span><span class="p">:</span><span class="o">=</span><span class="n">fOverride</span><span class="p">,</span>
 	<span class="n">BufferMode</span><span class="p">:</span><span class="o">=</span> <span class="p">,</span>
 	<span class="n">Status</span><span class="o">=&gt;</span> <span class="p">,</span>
 	<span class="n">Busy</span><span class="o">=&gt;</span> <span class="p">,</span>
 	<span class="n">Active</span><span class="o">=&gt;</span> <span class="p">,</span>
 	<span class="n">Error</span><span class="o">=&gt;</span> <span class="p">,</span>
 	<span class="n">ErrorID</span><span class="o">=&gt;</span> <span class="p">);</span>
 <span class="n">END_IF</span>
 
 <span class="p">(</span><span class="o">*</span><span class="n">Halt</span><span class="o">*</span><span class="p">)</span>
 <span class="n">fbHalt</span><span class="p">(</span>
 	<span class="n">Execute</span><span class="p">:</span><span class="o">=</span><span class="n">NOT</span> <span class="n">bExecute</span>  <span class="n">AND</span> <span class="p">(((</span><span class="n">fbMoveVelocity</span><span class="o">.</span><span class="n">Busy</span> <span class="n">OR</span> <span class="n">fbPower</span><span class="o">.</span><span class="n">Busy</span><span class="p">)</span> <span class="n">AND</span> <span class="p">(</span><span class="n">nCommandLocal</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span> <span class="n">OR</span> <span class="p">(</span><span class="n">fbMoveRelative</span><span class="o">.</span><span class="n">Busy</span> <span class="n">AND</span> <span class="p">(</span><span class="n">nCommandLocal</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span> <span class="n">OR</span> <span class="p">(</span><span class="n">fbMoveAbsolute</span><span class="o">.</span><span class="n">Busy</span> <span class="n">AND</span> <span class="p">(</span><span class="n">nCommandLocal</span><span class="o">=</span><span class="mi">3</span><span class="p">))</span> <span class="n">OR</span> <span class="p">(</span><span class="n">fbMoveModulo</span><span class="o">.</span><span class="n">Busy</span> <span class="n">AND</span> <span class="p">(</span><span class="n">nCommandLocal</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span> <span class="n">OR</span> <span class="p">(</span><span class="n">fbHomeVirtual</span><span class="o">.</span><span class="n">bBusy</span> <span class="n">AND</span> <span class="p">(</span><span class="n">nCommandLocal</span><span class="o">=</span><span class="mi">10</span><span class="p">))),</span>
 	<span class="n">Deceleration</span><span class="p">:</span><span class="o">=</span><span class="n">fDeceleration</span><span class="p">,</span>
 	<span class="n">Jerk</span><span class="p">:</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
 	<span class="n">BufferMode</span><span class="p">:</span><span class="o">=</span> <span class="p">,</span>
 	<span class="n">Options</span><span class="p">:</span><span class="o">=</span> <span class="p">,</span>
 	<span class="n">Axis</span><span class="p">:</span><span class="o">=</span><span class="n">Axis</span> <span class="p">,</span>
 	<span class="n">Done</span><span class="o">=&gt;</span> <span class="p">,</span>
 	<span class="n">Busy</span><span class="o">=&gt;</span> <span class="p">,</span>
 	<span class="n">Active</span><span class="o">=&gt;</span> <span class="p">,</span>
 	<span class="n">CommandAborted</span><span class="o">=&gt;</span> <span class="p">,</span>
 	<span class="n">Error</span><span class="o">=&gt;</span> <span class="p">,</span>
 	<span class="n">ErrorID</span><span class="o">=&gt;</span> <span class="p">);</span>
 
 <span class="p">(</span><span class="o">*</span><span class="n">Jog</span> <span class="p">(</span><span class="n">Command</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span><span class="o">*</span><span class="p">)</span>
 <span class="n">fbJog</span><span class="p">(</span>
 	<span class="n">JogForward</span><span class="p">:</span><span class="o">=</span><span class="n">bJogFwd</span> <span class="n">AND</span> <span class="p">(</span><span class="n">nCommandLocal</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span> <span class="p">,</span>
 	<span class="n">JogBackwards</span><span class="p">:</span><span class="o">=</span><span class="n">bJogBwd</span> <span class="n">AND</span> <span class="p">(</span><span class="n">nCommandLocal</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span> <span class="p">,</span>
 	<span class="n">Mode</span><span class="p">:</span><span class="o">=</span><span class="n">UINT_TO_INT</span><span class="p">(</span><span class="n">nCmdDataLocal</span><span class="p">),</span>
 	<span class="n">Position</span><span class="p">:</span><span class="o">=</span> <span class="p">,</span>
 	<span class="n">Velocity</span><span class="p">:</span><span class="o">=</span><span class="n">fVelocity</span><span class="p">,</span>
 	<span class="n">Acceleration</span><span class="p">:</span><span class="o">=</span><span class="n">fAcceleration</span><span class="p">,</span>
 	<span class="n">Deceleration</span><span class="p">:</span><span class="o">=</span><span class="n">fDeceleration</span><span class="p">,</span>
 	<span class="n">Jerk</span><span class="p">:</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
 	<span class="n">Axis</span><span class="p">:</span><span class="o">=</span><span class="n">Axis</span><span class="p">,</span>
 	<span class="n">Done</span><span class="o">=&gt;</span> <span class="p">,</span>
 	<span class="n">Busy</span><span class="o">=&gt;</span> <span class="p">,</span>
 	<span class="n">Active</span><span class="o">=&gt;</span> <span class="p">,</span>
 	<span class="n">CommandAborted</span><span class="o">=&gt;</span> <span class="p">,</span>
 	<span class="n">Error</span><span class="o">=&gt;</span> <span class="p">,</span>
 	<span class="n">ErrorID</span><span class="o">=&gt;</span> <span class="p">);</span>
 
 <span class="p">(</span><span class="o">*</span><span class="n">MoveVelocity</span> <span class="p">(</span><span class="n">Command</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="p">)</span>
 <span class="n">fbMoveVelocity</span><span class="p">(</span>
 	<span class="n">Execute</span><span class="p">:</span><span class="o">=</span><span class="n">bExecute</span> <span class="n">AND</span> <span class="p">(</span><span class="n">nCommandLocal</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span>
 	<span class="n">Velocity</span><span class="p">:</span><span class="o">=</span><span class="n">ABS</span><span class="p">(</span><span class="n">fVelocity</span><span class="p">),</span>
 	<span class="n">Acceleration</span><span class="p">:</span><span class="o">=</span><span class="n">fAcceleration</span><span class="p">,</span>
 	<span class="n">Deceleration</span><span class="p">:</span><span class="o">=</span><span class="n">fDeceleration</span><span class="p">,</span>
 	<span class="n">Jerk</span><span class="p">:</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
 	<span class="n">Direction</span><span class="p">:</span><span class="o">=</span><span class="n">SEL</span><span class="p">(</span><span class="n">fVelocity</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">,</span> <span class="n">MC_Positive_Direction</span><span class="p">,</span> <span class="n">MC_Negative_Direction</span><span class="p">),</span>
 	<span class="n">BufferMode</span><span class="p">:</span><span class="o">=</span> <span class="p">,</span>
 	<span class="n">Options</span><span class="p">:</span><span class="o">=</span> <span class="p">,</span>
 	<span class="n">Axis</span><span class="p">:</span><span class="o">=</span><span class="n">Axis</span><span class="p">,</span>
 	<span class="n">InVelocity</span><span class="o">=&gt;</span> <span class="p">,</span>
 	<span class="n">Busy</span><span class="o">=&gt;</span> <span class="p">,</span>
 	<span class="n">Active</span><span class="o">=&gt;</span> <span class="p">,</span>
 	<span class="n">CommandAborted</span><span class="o">=&gt;</span> <span class="p">,</span>
 	<span class="n">Error</span><span class="o">=&gt;</span> <span class="p">,</span>
 	<span class="n">ErrorID</span><span class="o">=&gt;</span> <span class="p">);</span>
 
 <span class="p">(</span><span class="o">*</span><span class="n">MoveRelative</span> <span class="p">(</span><span class="n">Command</span> <span class="o">=</span> <span class="mi">2</span><span class="p">)</span><span class="o">*</span><span class="p">)</span>
 <span class="n">fbMoveRelative</span><span class="p">(</span>
 	<span class="n">Execute</span><span class="p">:</span><span class="o">=</span><span class="n">bExecute</span> <span class="n">AND</span> <span class="p">(</span><span class="n">nCommandLocal</span><span class="o">=</span><span class="mi">2</span><span class="p">),</span> 
 	<span class="n">Distance</span><span class="p">:</span><span class="o">=</span><span class="n">fPosition</span><span class="p">,</span> 
 	<span class="n">Velocity</span><span class="p">:</span><span class="o">=</span><span class="n">ABS</span><span class="p">(</span><span class="n">fVelocity</span><span class="p">),</span> 
 	<span class="n">Acceleration</span><span class="p">:</span><span class="o">=</span><span class="n">fAcceleration</span><span class="p">,</span>
 	<span class="n">Deceleration</span><span class="p">:</span><span class="o">=</span><span class="n">fDeceleration</span><span class="p">,</span>
 	<span class="n">Jerk</span><span class="p">:</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
 	<span class="n">BufferMode</span><span class="p">:</span><span class="o">=</span> <span class="p">,</span> 
 	<span class="n">Options</span><span class="p">:</span><span class="o">=</span> <span class="p">,</span> 
 	<span class="n">Axis</span><span class="p">:</span><span class="o">=</span><span class="n">Axis</span><span class="p">,</span> 
 	<span class="n">Done</span><span class="o">=&gt;</span> <span class="p">,</span> 
 	<span class="n">Busy</span><span class="o">=&gt;</span> <span class="p">,</span> 
 	<span class="n">Active</span><span class="o">=&gt;</span> <span class="p">,</span> 
 	<span class="n">CommandAborted</span><span class="o">=&gt;</span> <span class="p">,</span> 
 	<span class="n">Error</span><span class="o">=&gt;</span> <span class="p">,</span> 
 	<span class="n">ErrorID</span><span class="o">=&gt;</span> <span class="p">);</span>
 	
 <span class="n">IF</span> <span class="n">nCommandLocal</span><span class="o">=</span><span class="mi">2</span> <span class="n">THEN</span>
 	<span class="n">bDone</span><span class="p">:</span><span class="o">=</span><span class="n">fbMoveRelative</span><span class="o">.</span><span class="n">Done</span><span class="p">;</span>
 <span class="n">END_IF</span>
 	
 <span class="p">(</span><span class="o">*</span><span class="n">MoveAbsolute</span> <span class="p">(</span><span class="n">Command</span> <span class="o">=</span> <span class="mi">3</span><span class="p">)</span><span class="o">*</span><span class="p">)</span>
 <span class="n">fbMoveAbsolute</span><span class="p">(</span>
 	<span class="n">Execute</span><span class="p">:</span><span class="o">=</span><span class="n">bExecute</span> <span class="n">AND</span> <span class="p">(</span><span class="n">nCommandLocal</span><span class="o">=</span><span class="mi">3</span><span class="p">),</span>
 	<span class="n">Position</span><span class="p">:</span><span class="o">=</span><span class="n">fPosition</span><span class="p">,</span>
 	<span class="n">Velocity</span><span class="p">:</span><span class="o">=</span><span class="n">ABS</span><span class="p">(</span><span class="n">fVelocity</span><span class="p">),</span>
 	<span class="n">Acceleration</span><span class="p">:</span><span class="o">=</span><span class="n">fAcceleration</span><span class="p">,</span>
 	<span class="n">Deceleration</span><span class="p">:</span><span class="o">=</span><span class="n">fDeceleration</span><span class="p">,</span>
 	<span class="n">Jerk</span><span class="p">:</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
 	<span class="n">BufferMode</span><span class="p">:</span><span class="o">=</span> <span class="p">,</span>
 	<span class="n">Options</span><span class="p">:</span><span class="o">=</span> <span class="p">,</span>
 	<span class="n">Axis</span><span class="p">:</span><span class="o">=</span><span class="n">Axis</span><span class="p">,</span>
 	<span class="n">Done</span><span class="o">=&gt;</span> <span class="p">,</span>
 	<span class="n">Busy</span><span class="o">=&gt;</span> <span class="p">,</span>
 	<span class="n">Active</span><span class="o">=&gt;</span> <span class="p">,</span>
 	<span class="n">CommandAborted</span><span class="o">=&gt;</span> <span class="p">,</span>
 	<span class="n">Error</span><span class="o">=&gt;</span> <span class="p">,</span>
 	<span class="n">ErrorID</span><span class="o">=&gt;</span> <span class="p">);</span>
 
 <span class="n">IF</span> <span class="n">nCommandLocal</span><span class="o">=</span><span class="mi">3</span> <span class="n">THEN</span>
 	<span class="n">bDone</span><span class="p">:</span><span class="o">=</span><span class="n">fbMoveAbsolute</span><span class="o">.</span><span class="n">Done</span><span class="p">;</span>
 <span class="n">END_IF</span>
 
 <span class="p">(</span><span class="o">*</span><span class="n">MoveModulo</span> <span class="p">(</span><span class="n">Command</span> <span class="o">=</span> <span class="mi">4</span><span class="p">)</span><span class="o">*</span><span class="p">)</span>
 <span class="n">fbMoveModulo</span><span class="p">(</span>
 	<span class="n">Execute</span><span class="p">:</span><span class="o">=</span><span class="n">bExecute</span> <span class="n">AND</span> <span class="p">(</span><span class="n">nCommandLocal</span><span class="o">=</span><span class="mi">4</span><span class="p">),</span> 
 	<span class="n">Position</span><span class="p">:</span><span class="o">=</span><span class="n">fPosition</span><span class="p">,</span> 
 	<span class="n">Velocity</span><span class="p">:</span><span class="o">=</span><span class="n">ABS</span><span class="p">(</span><span class="n">fVelocity</span><span class="p">),</span> 
 	<span class="n">Acceleration</span><span class="p">:</span><span class="o">=</span><span class="n">fAcceleration</span><span class="p">,</span> 
 	<span class="n">Deceleration</span><span class="p">:</span><span class="o">=</span><span class="n">fDeceleration</span><span class="p">,</span> 
 	<span class="n">Jerk</span><span class="p">:</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> 
 	<span class="n">Direction</span><span class="p">:</span><span class="o">=</span><span class="n">UINT_TO_INT</span><span class="p">(</span><span class="n">nCmdDataLocal</span><span class="p">),</span> 
 	<span class="n">BufferMode</span><span class="p">:</span><span class="o">=</span> <span class="p">,</span> 
 	<span class="n">Options</span><span class="p">:</span><span class="o">=</span> <span class="p">,</span> 
 	<span class="n">Axis</span><span class="p">:</span><span class="o">=</span><span class="n">Axis</span><span class="p">,</span> 
 	<span class="n">Done</span><span class="o">=&gt;</span> <span class="p">,</span> 
 	<span class="n">Busy</span><span class="o">=&gt;</span> <span class="p">,</span> 
 	<span class="n">Active</span><span class="o">=&gt;</span> <span class="p">,</span> 
 	<span class="n">CommandAborted</span><span class="o">=&gt;</span> <span class="p">,</span> 
 	<span class="n">Error</span><span class="o">=&gt;</span> <span class="p">,</span> 
 	<span class="n">ErrorID</span><span class="o">=&gt;</span> <span class="p">);</span>
 
 <span class="n">IF</span> <span class="n">nCommandLocal</span><span class="o">=</span><span class="mi">4</span> <span class="n">THEN</span>
 	<span class="n">bDone</span><span class="p">:</span><span class="o">=</span><span class="n">fbMoveModulo</span><span class="o">.</span><span class="n">Done</span><span class="p">;</span>
 <span class="n">END_IF</span>
 	
 <span class="p">(</span><span class="o">*</span><span class="n">Home</span> <span class="p">(</span><span class="n">Command</span> <span class="o">=</span> <span class="mi">10</span><span class="p">)</span><span class="o">*</span><span class="p">)</span>
 <span class="n">fbHomeVirtual</span><span class="p">(</span>	
 	<span class="n">bExecute</span><span class="p">:</span><span class="o">=</span> <span class="n">nCommandLocal</span><span class="o">=</span><span class="mi">10</span> <span class="n">AND</span> <span class="n">bExecute</span><span class="p">,</span>
 	<span class="n">fHomePosition</span><span class="p">:</span><span class="o">=</span><span class="n">fHomePosition</span><span class="p">,</span>
 	<span class="n">bHomeSensor</span><span class="p">:</span><span class="o">=</span><span class="n">bHomeSensor</span><span class="p">,</span>
 	<span class="n">bLimitBwd</span><span class="p">:</span><span class="o">=</span><span class="n">bLimitBwd</span><span class="p">,</span>
 	<span class="n">bLimitFwd</span><span class="p">:</span><span class="o">=</span><span class="n">bLimitFwd</span><span class="p">,</span>
 	<span class="n">nCmdData</span><span class="p">:</span><span class="o">=</span><span class="n">nCmdDataLocal</span><span class="p">,</span>
 	<span class="n">bReset</span><span class="p">:</span><span class="o">=</span><span class="n">bReset</span><span class="p">,</span>
 	<span class="n">nHomeRevOffset</span><span class="p">:</span><span class="o">=</span><span class="n">nHomeRevOffset</span><span class="p">,</span>
 	<span class="n">Axis</span><span class="p">:</span><span class="o">=</span><span class="n">Axis</span>
 	<span class="p">);</span>
 	
 <span class="n">IF</span> <span class="n">nCommandLocal</span><span class="o">=</span><span class="mi">10</span> <span class="n">THEN</span>
 	<span class="n">bDone</span><span class="p">:</span><span class="o">=</span><span class="n">fbHomeVirtual</span><span class="o">.</span><span class="n">bDone</span><span class="p">;</span>
 <span class="n">END_IF</span>
 	
 <span class="p">(</span><span class="o">*</span><span class="n">Gear</span> <span class="p">(</span><span class="n">Command</span> <span class="o">=</span> <span class="mi">30</span><span class="p">)</span><span class="o">*</span><span class="p">)</span>
 <span class="n">fbGearInDyn</span><span class="p">(</span>
 	<span class="n">Enable</span><span class="p">:</span><span class="o">=</span><span class="n">bExecute</span>  <span class="n">AND</span> <span class="p">(</span><span class="n">nCommandLocal</span><span class="o">=</span><span class="mi">30</span><span class="p">),</span>
 	<span class="n">GearRatio</span><span class="p">:</span><span class="o">=</span><span class="n">SEL</span><span class="p">(</span><span class="n">nCmdDataLocal</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span><span class="n">fVelocity</span><span class="p">),</span>
 	<span class="n">Acceleration</span><span class="p">:</span><span class="o">=</span><span class="n">fAcceleration</span><span class="p">,</span>
 	<span class="n">Deceleration</span><span class="p">:</span><span class="o">=</span><span class="n">fDeceleration</span><span class="p">,</span>
 	<span class="n">Jerk</span><span class="p">:</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
 	<span class="n">BufferMode</span><span class="p">:</span><span class="o">=</span> <span class="p">,</span> 
 	<span class="n">Options</span><span class="p">:</span><span class="o">=</span> <span class="p">,</span> 
 	<span class="n">Master</span><span class="p">:</span><span class="o">=</span><span class="n">MasterAxis</span><span class="p">,</span>
 	<span class="n">Slave</span><span class="p">:</span><span class="o">=</span><span class="n">Axis</span><span class="p">,</span>
 	<span class="n">InGear</span><span class="o">=&gt;</span> <span class="p">,</span> 
 	<span class="n">Busy</span><span class="o">=&gt;</span> <span class="p">,</span> 
 	<span class="n">Active</span><span class="o">=&gt;</span> <span class="p">,</span> 
 	<span class="n">CommandAborted</span><span class="o">=&gt;</span> <span class="p">,</span> 
 	<span class="n">Error</span><span class="o">=&gt;</span> <span class="p">,</span> 
 	<span class="n">ErrorID</span><span class="o">=&gt;</span> <span class="p">);</span>
 	
 <span class="n">fbGearOut</span><span class="p">(</span>
 	<span class="n">Execute</span><span class="p">:</span><span class="o">=</span><span class="n">NOT</span> <span class="n">bExecute</span> <span class="n">AND</span> <span class="n">Axis</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">NotMoving</span> <span class="n">AND</span> <span class="p">(</span><span class="n">nCommandLocal</span><span class="o">=</span><span class="mi">30</span><span class="p">),</span>
 	<span class="n">Slave</span><span class="p">:</span><span class="o">=</span><span class="n">Axis</span><span class="p">,</span>
 	<span class="n">Error</span><span class="o">=&gt;</span><span class="p">,</span>
 	<span class="n">Done</span><span class="o">=&gt;</span><span class="p">,</span>
 	<span class="n">ErrorID</span><span class="o">=&gt;</span><span class="p">);</span>
 
 
 <span class="n">IF</span> <span class="n">nCommandLocal</span><span class="o">=</span><span class="mi">30</span> <span class="n">THEN</span>
 	<span class="n">bDone</span><span class="p">:</span><span class="o">=</span><span class="n">Axis</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">Coupled</span><span class="p">;</span>
 <span class="n">END_IF</span>
 
 <span class="p">(</span><span class="o">*</span><span class="n">Busy</span><span class="o">*</span><span class="p">)</span>
 <span class="n">bBusy</span><span class="p">:</span><span class="o">=</span><span class="n">Axis</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">HasJob</span> <span class="n">OR</span> <span class="n">Axis</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">HomingBusy</span> <span class="n">OR</span> <span class="n">fbHomeVirtual</span><span class="o">.</span><span class="n">bBusy</span><span class="p">;</span>
 
 <span class="p">(</span><span class="o">*</span><span class="n">Enabled</span><span class="o">*</span><span class="p">)</span>
 <span class="n">bEnabled</span><span class="p">:</span><span class="o">=</span><span class="n">fbPower</span><span class="o">.</span><span class="n">Status</span><span class="p">;</span>
 
 <span class="p">(</span><span class="o">*</span><span class="n">Error</span> <span class="kn">from</span> <span class="nn">functions</span> <span class="ow">and</span> <span class="n">Nc</span><span class="o">*</span><span class="p">)</span>
 <span class="n">IF</span> <span class="n">fbPower</span><span class="o">.</span><span class="n">Error</span> <span class="n">AND</span> <span class="n">fbPower</span><span class="o">.</span><span class="n">Active</span> <span class="n">THEN</span>
 	<span class="n">bError</span><span class="p">:</span><span class="o">=</span><span class="n">fbPower</span><span class="o">.</span><span class="n">Enable</span><span class="p">;</span>
 	<span class="n">nErrorId</span><span class="p">:</span><span class="o">=</span><span class="n">fbPower</span><span class="o">.</span><span class="n">ErrorID</span><span class="p">;</span>
 <span class="n">ELSIF</span> <span class="n">fbHalt</span><span class="o">.</span><span class="n">Error</span> <span class="n">AND</span> <span class="n">fbHalt</span><span class="o">.</span><span class="n">Active</span> <span class="n">THEN</span>
 	<span class="n">bError</span><span class="p">:</span><span class="o">=</span><span class="n">fbHalt</span><span class="o">.</span><span class="n">Execute</span><span class="p">;</span>
 	<span class="n">nErrorId</span><span class="p">:</span><span class="o">=</span><span class="n">fbHalt</span><span class="o">.</span><span class="n">ErrorID</span><span class="p">;</span>
 <span class="n">ELSIF</span> <span class="n">fbJog</span><span class="o">.</span><span class="n">Error</span> <span class="n">AND</span> <span class="n">nCommandLocal</span><span class="o">=</span><span class="mi">0</span> <span class="p">(</span><span class="o">*</span><span class="n">fbJog</span><span class="o">.</span><span class="n">Active</span><span class="o">*</span><span class="p">)</span> <span class="n">THEN</span>
 	<span class="n">bError</span><span class="p">:</span><span class="o">=</span><span class="n">fbJog</span><span class="o">.</span><span class="n">JogForward</span> <span class="n">OR</span> <span class="n">fbJog</span><span class="o">.</span><span class="n">JogBackwards</span><span class="p">;</span>
 	<span class="n">nErrorId</span><span class="p">:</span><span class="o">=</span><span class="n">fbJog</span><span class="o">.</span><span class="n">ErrorID</span><span class="p">;</span>
 <span class="n">ELSIF</span> <span class="n">fbMoveVelocity</span><span class="o">.</span><span class="n">Error</span> <span class="n">AND</span> <span class="n">nCommandLocal</span><span class="o">=</span><span class="mi">1</span><span class="p">(</span><span class="o">*</span><span class="n">fbMoveVelocity</span><span class="o">.</span><span class="n">Active</span><span class="o">*</span><span class="p">)</span> <span class="n">THEN</span>
 	<span class="n">bError</span><span class="p">:</span><span class="o">=</span><span class="n">fbMoveVelocity</span><span class="o">.</span><span class="n">Execute</span><span class="p">;</span>
 	<span class="n">nErrorId</span><span class="p">:</span><span class="o">=</span><span class="n">fbMoveVelocity</span><span class="o">.</span><span class="n">ErrorID</span><span class="p">;</span>
 <span class="n">ELSIF</span> <span class="n">fbMoveRelative</span><span class="o">.</span><span class="n">Error</span> <span class="n">AND</span> <span class="n">nCommandLocal</span><span class="o">=</span><span class="mi">2</span> <span class="p">(</span><span class="o">*</span><span class="n">fbMoveRelative</span><span class="o">.</span><span class="n">Active</span><span class="o">*</span><span class="p">)</span> <span class="n">THEN</span>
 	<span class="n">bError</span><span class="p">:</span><span class="o">=</span><span class="n">fbMoveRelative</span><span class="o">.</span><span class="n">Execute</span><span class="p">;</span>
 	<span class="n">nErrorId</span><span class="p">:</span><span class="o">=</span><span class="n">fbMoveRelative</span><span class="o">.</span><span class="n">ErrorID</span><span class="p">;</span>
 <span class="n">ELSIF</span> <span class="n">fbMoveAbsolute</span><span class="o">.</span><span class="n">Error</span> <span class="n">AND</span> <span class="n">nCommandLocal</span><span class="o">=</span><span class="mi">3</span> <span class="p">(</span><span class="o">*</span><span class="n">fbMoveAbsolute</span><span class="o">.</span><span class="n">Active</span><span class="o">*</span><span class="p">)</span> <span class="n">THEN</span>
 	<span class="n">bError</span><span class="p">:</span><span class="o">=</span><span class="n">fbMoveAbsolute</span><span class="o">.</span><span class="n">Execute</span><span class="p">;</span>
 	<span class="n">nErrorId</span><span class="p">:</span><span class="o">=</span><span class="n">fbMoveAbsolute</span><span class="o">.</span><span class="n">ErrorID</span><span class="p">;</span>
 <span class="n">ELSIF</span> <span class="n">fbMoveModulo</span><span class="o">.</span><span class="n">Error</span> <span class="n">AND</span> <span class="n">nCommandLocal</span><span class="o">=</span><span class="mi">4</span> <span class="p">(</span><span class="o">*</span><span class="n">fbMoveModulo</span><span class="o">.</span><span class="n">Active</span><span class="o">*</span><span class="p">)</span> <span class="n">THEN</span>
 	<span class="n">bError</span><span class="p">:</span><span class="o">=</span><span class="n">fbMoveModulo</span><span class="o">.</span><span class="n">Execute</span><span class="p">;</span>
 	<span class="n">nErrorId</span><span class="p">:</span><span class="o">=</span><span class="n">fbMoveModulo</span><span class="o">.</span><span class="n">ErrorID</span><span class="p">;</span>
 <span class="n">ELSIF</span> <span class="n">fbHomeVirtual</span><span class="o">.</span><span class="n">bError</span> <span class="n">AND</span> <span class="n">nCommandLocal</span><span class="o">=</span><span class="mi">10</span> <span class="p">(</span><span class="o">*</span><span class="n">fbHome</span><span class="o">.</span><span class="n">Active</span><span class="o">*</span><span class="p">)</span> <span class="n">THEN</span>
 	<span class="n">bError</span><span class="p">:</span><span class="o">=</span><span class="n">fbHomeVirtual</span><span class="o">.</span><span class="n">bError</span><span class="p">;</span>
 	<span class="n">nErrorId</span><span class="p">:</span><span class="o">=</span><span class="n">fbHomeVirtual</span><span class="o">.</span><span class="n">nErrorID</span><span class="p">;</span>
 <span class="n">ELSIF</span> <span class="n">fbGearInDyn</span><span class="o">.</span><span class="n">Error</span> <span class="n">AND</span> <span class="n">nCommandLocal</span><span class="o">=</span><span class="mi">30</span> <span class="p">(</span><span class="o">*</span><span class="n">fbGearInDyn</span><span class="o">.</span><span class="n">Active</span><span class="o">*</span><span class="p">)</span> <span class="n">THEN</span>
 	<span class="n">bError</span><span class="p">:</span><span class="o">=</span><span class="n">fbGearInDyn</span><span class="o">.</span><span class="n">Enable</span><span class="p">;</span>
 	<span class="n">nErrorId</span><span class="p">:</span><span class="o">=</span><span class="n">fbGearInDyn</span><span class="o">.</span><span class="n">ErrorID</span><span class="p">;</span>
 <span class="n">ELSIF</span> <span class="n">fbGearOut</span><span class="o">.</span><span class="n">Error</span> <span class="n">AND</span> <span class="n">nCommandLocal</span><span class="o">=</span><span class="mi">30</span> <span class="n">AND</span> <span class="n">Axis</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">Coupled</span> <span class="n">THEN</span>
 	<span class="n">bError</span><span class="p">:</span><span class="o">=</span><span class="n">fbGearOut</span><span class="o">.</span><span class="n">Execute</span><span class="p">;</span>
 	<span class="n">nErrorId</span><span class="p">:</span><span class="o">=</span><span class="n">fbGearOut</span><span class="o">.</span><span class="n">ErrorID</span><span class="p">;</span>
 <span class="n">ELSIF</span> <span class="n">Axis</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">Error</span>  <span class="n">THEN</span>
 	<span class="n">bError</span><span class="p">:</span><span class="o">=</span><span class="n">TRUE</span><span class="p">;</span>
 	<span class="n">nErrorId</span><span class="p">:</span><span class="o">=</span><span class="n">Axis</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">ErrorID</span><span class="p">;</span>
 <span class="n">ELSIF</span> <span class="n">fbHomeVirtual</span><span class="o">.</span><span class="n">bError</span> <span class="n">THEN</span>
 	<span class="n">bError</span><span class="p">:</span><span class="o">=</span><span class="n">TRUE</span><span class="p">;</span>
 	<span class="n">nErrorId</span><span class="p">:</span><span class="o">=</span><span class="n">fbHomeVirtual</span><span class="o">.</span><span class="n">nErrorId</span><span class="p">;</span>
 <span class="n">ELSE</span>
 	<span class="n">bError</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 	<span class="n">nErrorId</span><span class="p">:</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
 <span class="n">END_IF</span><span class="p">;</span>
 
 <span class="p">(</span><span class="o">*</span><span class="n">Converese</span> <span class="n">nErrorID</span> <span class="n">to</span> <span class="n">string</span><span class="o">*</span><span class="p">)</span>
 <span class="n">sErrorMessage</span><span class="p">:</span><span class="o">=</span><span class="n">WORD_TO_HEXSTR</span><span class="p">(</span><span class="ow">in</span><span class="p">:</span><span class="o">=</span><span class="n">TO_WORD</span><span class="p">(</span><span class="n">nErrorID</span><span class="p">)</span> <span class="p">,</span> <span class="n">iPrecision</span><span class="p">:</span><span class="o">=</span> <span class="mi">4</span><span class="p">,</span> <span class="n">bLoCase</span><span class="p">:</span><span class="o">=</span><span class="mi">0</span> <span class="p">);</span>
 
 <span class="p">(</span><span class="o">*</span><span class="n">Status</span> <span class="kn">from</span> <span class="nn">Nc</span><span class="o">*</span><span class="p">)</span>
 <span class="n">Status</span><span class="p">:</span><span class="o">=</span><span class="n">Axis</span><span class="o">.</span><span class="n">Status</span><span class="p">;</span>
 
 <span class="p">(</span><span class="o">*</span><span class="n">Axis</span> <span class="nb">id</span> <span class="ow">in</span> <span class="n">motion</span> <span class="s2">&quot;motor&quot;</span><span class="o">*</span><span class="p">)</span>
 <span class="n">nMotionAxisID</span><span class="p">:</span><span class="o">=</span><span class="n">axis</span><span class="o">.</span><span class="n">NcToPlc</span><span class="o">.</span><span class="n">AxisId</span><span class="p">;</span>
 
 <span class="p">(</span><span class="o">*</span><span class="n">Actual</span> <span class="n">Velocity</span><span class="o">*</span><span class="p">)</span>
 <span class="n">fActVelocity</span><span class="p">:</span><span class="o">=</span><span class="n">Axis</span><span class="o">.</span><span class="n">NcToPlc</span><span class="o">.</span><span class="n">ActVelo</span><span class="p">;</span>
 
 <span class="p">(</span><span class="o">*</span><span class="n">Actual</span> <span class="n">Position</span><span class="o">*</span><span class="p">)</span>
 <span class="n">IF</span> <span class="n">Axis</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">OpMode</span><span class="o">.</span><span class="n">Modulo</span> <span class="n">THEN</span>
 	<span class="n">fActPosition</span><span class="p">:</span><span class="o">=</span><span class="n">Axis</span><span class="o">.</span><span class="n">NcToPlc</span><span class="o">.</span><span class="n">ModuloActPos</span><span class="p">;</span>
 <span class="n">ELSE</span>
 	<span class="n">fActPosition</span><span class="p">:</span><span class="o">=</span><span class="n">Axis</span><span class="o">.</span><span class="n">NcToPlc</span><span class="o">.</span><span class="n">ActPos</span><span class="p">;</span>
 <span class="n">END_IF</span>
 
 <span class="p">(</span><span class="o">*</span><span class="n">Actual</span> <span class="n">Position</span><span class="o">*</span><span class="p">)</span>
 <span class="n">fActDiff</span><span class="p">:</span><span class="o">=</span><span class="n">Axis</span><span class="o">.</span><span class="n">NcToPlc</span><span class="o">.</span><span class="n">PosDiff</span><span class="p">;</span>
 
 
 <span class="o">//</span><span class="n">Status</span> <span class="n">struct</span> <span class="k">for</span> <span class="n">EPICS</span> <span class="n">communication</span>
 <span class="n">stAxisStatus</span><span class="o">.</span><span class="n">bEnable</span><span class="p">:</span><span class="o">=</span><span class="n">bEnable</span><span class="p">;</span>
 <span class="n">stAxisStatus</span><span class="o">.</span><span class="n">bEnabled</span><span class="p">:</span><span class="o">=</span><span class="n">bEnabled</span><span class="p">;</span>
 <span class="n">stAxisStatus</span><span class="o">.</span><span class="n">bError</span><span class="p">:</span><span class="o">=</span><span class="n">bError</span><span class="p">;</span>
 <span class="n">stAxisStatus</span><span class="o">.</span><span class="n">bExecute</span><span class="p">:</span><span class="o">=</span><span class="n">bExecute</span><span class="p">;</span>
 <span class="n">stAxisStatus</span><span class="o">.</span><span class="n">bHomeSensor</span><span class="p">:</span><span class="o">=</span><span class="n">bHomeSensor</span><span class="p">;</span>
 <span class="n">stAxisStatus</span><span class="o">.</span><span class="n">bJogBwd</span><span class="p">:</span><span class="o">=</span><span class="n">bJogBwd</span><span class="p">;</span>
 <span class="n">stAxisStatus</span><span class="o">.</span><span class="n">bJogFwd</span><span class="p">:</span><span class="o">=</span><span class="n">bJogFwd</span><span class="p">;</span>
 <span class="n">stAxisStatus</span><span class="o">.</span><span class="n">bLimitBwd</span><span class="p">:</span><span class="o">=</span><span class="n">bLimitBwd</span><span class="p">;</span>
 <span class="n">stAxisStatus</span><span class="o">.</span><span class="n">bLimitFwd</span><span class="p">:</span><span class="o">=</span><span class="n">bLimitFwd</span><span class="p">;</span>
 <span class="n">stAxisStatus</span><span class="o">.</span><span class="n">bReset</span><span class="p">:</span><span class="o">=</span><span class="n">bReset</span><span class="p">;</span>
 <span class="n">stAxisStatus</span><span class="o">.</span><span class="n">fAcceleration</span><span class="p">:</span><span class="o">=</span><span class="n">fAcceleration</span><span class="p">;</span>
 <span class="n">stAxisStatus</span><span class="o">.</span><span class="n">fActDiff</span><span class="p">:</span><span class="o">=</span><span class="n">fActDiff</span><span class="p">;</span>
 <span class="n">stAxisStatus</span><span class="o">.</span><span class="n">fActPosition</span><span class="p">:</span><span class="o">=</span><span class="n">fActPosition</span><span class="p">;</span>
 <span class="n">stAxisStatus</span><span class="o">.</span><span class="n">fActVelocity</span><span class="p">:</span><span class="o">=</span><span class="n">fActVelocity</span><span class="p">;</span>
 <span class="n">stAxisStatus</span><span class="o">.</span><span class="n">fDeceleration</span><span class="p">:</span><span class="o">=</span><span class="n">fDeceleration</span><span class="p">;</span>
 <span class="n">stAxisStatus</span><span class="o">.</span><span class="n">fOverride</span><span class="p">:</span><span class="o">=</span><span class="n">fOverride</span><span class="p">;</span>
 <span class="n">stAxisStatus</span><span class="o">.</span><span class="n">fPosition</span><span class="p">:</span><span class="o">=</span><span class="n">fPosition</span><span class="p">;</span>
 <span class="n">stAxisStatus</span><span class="o">.</span><span class="n">fVelocity</span><span class="p">:</span><span class="o">=</span><span class="n">fVelocity</span><span class="p">;</span>
 <span class="n">stAxisStatus</span><span class="o">.</span><span class="n">nCmdData</span><span class="p">:</span><span class="o">=</span><span class="n">nCmdData</span><span class="p">;</span>  <span class="o">//</span><span class="n">Or</span> <span class="n">nCmdDataLocal</span>
 <span class="n">stAxisStatus</span><span class="o">.</span><span class="n">nCommand</span><span class="p">:</span><span class="o">=</span><span class="n">nCommand</span><span class="p">;</span>  <span class="o">//</span><span class="n">Or</span> <span class="n">nCommandLocal</span>
 <span class="n">stAxisStatus</span><span class="o">.</span><span class="n">nErrorId</span><span class="p">:</span><span class="o">=</span><span class="n">nErrorId</span><span class="p">;</span>
 <span class="n">stAxisStatus</span><span class="o">.</span><span class="n">bBusy</span><span class="p">:</span><span class="o">=</span><span class="n">bBusy</span><span class="p">;</span>
 <span class="n">stAxisStatus</span><span class="o">.</span><span class="n">bHomed</span><span class="p">:</span><span class="o">=</span><span class="n">bHomed</span><span class="p">;</span>
 
 <span class="n">IF</span> <span class="n">bFirstScan</span> <span class="n">THEN</span>
 	<span class="n">bFirstScan</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 <span class="n">END_IF</span>
</pre></div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-motion-fb-ncaxis-tcpou-tcplcobject">
<h2>tc_mca_std_lib/POUs/Motion/FB_NcAxis.TcPOU (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-motion-fb-ncaxis-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">FB_NcAxis</span><span class="p">:</span> <span class="n">Declaration</span>

 <span class="o">///</span><span class="c1">#########################################################</span>
 <span class="o">///</span><span class="n">Function</span> <span class="n">block</span> <span class="n">to</span> <span class="n">communicate</span> <span class="n">between</span> <span class="n">Nc</span> <span class="ow">and</span> <span class="n">Plc</span><span class="o">.</span>
 <span class="o">///</span>
 <span class="o">///</span>	<span class="n">Library</span><span class="p">:</span>		
 <span class="o">///</span>	<span class="n">Tc2_MC2</span><span class="o">.</span><span class="n">lib</span>
 <span class="o">///</span>
 <span class="o">///</span>	<span class="n">Global</span> <span class="n">Variables</span><span class="p">:</span>
 <span class="o">///</span>	
 <span class="o">///</span>	<span class="n">Data</span> <span class="n">types</span><span class="p">:</span>
 <span class="o">///</span>	
 <span class="o">///</span>	<span class="n">External</span> <span class="n">functions</span><span class="p">:</span>
 <span class="o">///</span>
 <span class="o">///</span><span class="c1">###########################################################</span>
 <span class="n">FUNCTION_BLOCK</span> <span class="n">FB_NcAxis</span>
 <span class="n">VAR</span>
 	<span class="n">sVersion</span><span class="p">:</span> <span class="n">STRING</span><span class="p">:</span><span class="o">=</span><span class="s1">&#39;1.0.0&#39;</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 <span class="n">VAR_INPUT</span>
 	<span class="n">En</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 <span class="n">VAR_OUTPUT</span>
 	<span class="n">EnO</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bError</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">Status</span><span class="p">:</span> <span class="n">ST_AxisStatus</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 <span class="n">VAR</span>
 	<span class="n">Axis</span><span class="p">:</span> <span class="n">AXIS_REF</span><span class="p">;</span>
 	<span class="n">InfoData_State</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">UINT</span><span class="p">;</span>
 <span class="n">END_VAR</span>

<span class="o">-</span> <span class="n">FB_NcAxis</span><span class="p">:</span> <span class="n">ST</span>

 <span class="n">EnO</span><span class="p">:</span><span class="o">=</span><span class="n">En</span><span class="p">;</span>
 
 <span class="n">IF</span> <span class="n">En</span> <span class="n">AND</span> <span class="n">InfoData_State</span><span class="o">&lt;&gt;</span><span class="mi">16</span><span class="c1">#8 THEN</span>
 	<span class="n">bError</span><span class="p">:</span><span class="o">=</span><span class="n">TRUE</span><span class="p">;</span>
 <span class="n">ELSE</span>
 	<span class="n">bError</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 <span class="n">END_IF</span>
 
 <span class="n">IF</span> <span class="n">En</span> <span class="n">THEN</span>
 	<span class="n">Axis</span><span class="o">.</span><span class="n">ReadStatus</span><span class="p">();</span>
 	<span class="n">Status</span><span class="p">:</span><span class="o">=</span><span class="n">Axis</span><span class="o">.</span><span class="n">Status</span><span class="p">;</span>
 <span class="n">END_IF</span>
</pre></div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-motion-homing-fb-homedirect-tcpou-tcplcobject">
<h2>tc_mca_std_lib/POUs/Motion/Homing/FB_HomeDirect.TcPOU (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-motion-homing-fb-homedirect-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">FB_HomeDirect</span><span class="p">:</span> <span class="n">Declaration</span>

 <span class="n">FUNCTION_BLOCK</span> <span class="n">FB_HomeDirect</span>
 <span class="n">VAR_INPUT</span>
 	<span class="n">En</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bReset</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
     <span class="n">bExecute</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>	
 	<span class="n">fHomePosition</span><span class="p">:</span><span class="n">LREAL</span><span class="p">;</span>	
 <span class="n">END_VAR</span>
 <span class="n">VAR_IN_OUT</span>
 	<span class="n">Axis</span><span class="p">:</span> <span class="n">AXIS_REF</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 <span class="n">VAR_OUTPUT</span>
 	<span class="n">EnO</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>	
 	<span class="n">bBusy</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDone</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bHomed</span><span class="p">:</span><span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bError</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">nErrorId</span><span class="p">:</span> <span class="n">UDINT</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 <span class="n">VAR</span>
 	<span class="n">fbHome</span><span class="p">:</span> <span class="n">MC_Home</span><span class="p">;</span>	
 <span class="n">END_VAR</span>

<span class="o">-</span> <span class="n">FB_HomeDirect</span><span class="p">:</span> <span class="n">ST</span>

 <span class="n">En</span><span class="p">:</span><span class="o">=</span><span class="n">EnO</span><span class="p">;</span>
 <span class="n">IF</span> <span class="n">bReset</span> <span class="n">THEN</span>
 	<span class="n">bError</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 	<span class="n">nErrorId</span><span class="p">:</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
 <span class="n">END_IF</span> 
 
 <span class="n">fbHome</span><span class="p">(</span>
 	<span class="n">Execute</span><span class="p">:</span><span class="o">=</span><span class="n">bExecute</span><span class="p">,</span>
 	<span class="n">Position</span><span class="p">:</span><span class="o">=</span><span class="n">fHomePosition</span><span class="p">,</span>
 	<span class="n">HomingMode</span><span class="p">:</span><span class="o">=</span><span class="n">MC_Direct</span><span class="p">,</span>
 	<span class="n">bCalibrationCam</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">,</span>
 	<span class="n">Axis</span><span class="p">:</span><span class="o">=</span><span class="n">Axis</span>
 	<span class="p">);</span>
 	
 <span class="n">bBusy</span><span class="p">:</span><span class="o">=</span><span class="n">fbHome</span><span class="o">.</span><span class="n">Busy</span><span class="p">;</span>
 <span class="n">bDone</span><span class="p">:</span><span class="o">=</span><span class="n">fbHome</span><span class="o">.</span><span class="n">Done</span><span class="p">;</span>
 <span class="n">bHomed</span><span class="p">:</span><span class="o">=</span><span class="n">Axis</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">Homed</span><span class="p">;</span>
 
 <span class="n">bError</span><span class="p">:</span><span class="o">=</span><span class="n">fbHome</span><span class="o">.</span><span class="n">Error</span><span class="p">;</span> 
 
 <span class="n">IF</span> <span class="n">fbHome</span><span class="o">.</span><span class="n">Error</span> <span class="n">THEN</span>
   <span class="n">nErrorId</span><span class="p">:</span><span class="o">=</span><span class="n">fbHome</span><span class="o">.</span><span class="n">ErrorID</span><span class="p">;</span>
 <span class="n">END_IF</span>
</pre></div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-motion-homing-fb-homefinish-tcpou-tcplcobject">
<h2>tc_mca_std_lib/POUs/Motion/Homing/FB_HomeFinish.TcPOU (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-motion-homing-fb-homefinish-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">FB_HomeFinish</span><span class="p">:</span> <span class="n">Declaration</span>

 <span class="n">FUNCTION_BLOCK</span> <span class="n">FB_HomeFinish</span>
 <span class="n">VAR_INPUT</span>
 	<span class="n">En</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bReset</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
     <span class="n">bExecute</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>	
     <span class="n">nCmdData</span><span class="p">:</span> <span class="n">UINT</span><span class="p">;</span>
 	<span class="n">bSofLimEnableLow</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">:</span><span class="o">=</span><span class="n">TRUE</span><span class="p">;</span>
 	<span class="n">bSofLimEnableHigh</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">:</span><span class="o">=</span><span class="n">TRUE</span><span class="p">;</span>			
 <span class="n">END_VAR</span>
 <span class="n">VAR_IN_OUT</span>
 	<span class="n">Axis</span><span class="p">:</span> <span class="n">AXIS_REF</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 <span class="n">VAR_OUTPUT</span>
 	<span class="n">EnO</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>	
 	<span class="n">bBusy</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDone</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bError</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">nErrorId</span><span class="p">:</span> <span class="n">UDINT</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 <span class="n">VAR</span>		
 	<span class="n">fbHomewriteSoftLimEnable</span><span class="p">:</span><span class="n">FB_HomeWriteSoftLimEnable</span><span class="p">;</span>	
 	<span class="n">fbExecuteRiseEdge</span><span class="p">:</span> <span class="n">R_TRIG</span><span class="p">;</span>	
 	<span class="n">bExecuteWriteNC</span><span class="p">:</span><span class="n">BOOL</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 	<span class="n">nState</span><span class="p">:</span><span class="n">INT</span><span class="p">:</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
 <span class="n">END_VAR</span>

<span class="o">-</span> <span class="n">FB_HomeFinish</span><span class="p">:</span> <span class="n">ST</span>

 <span class="n">En</span><span class="p">:</span><span class="o">=</span><span class="n">EnO</span><span class="p">;</span>
 <span class="n">IF</span> <span class="n">bReset</span> <span class="n">THEN</span>
 	<span class="n">bError</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 	<span class="n">nErrorId</span><span class="p">:</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
 <span class="n">END_IF</span> 
 
 <span class="n">IF</span> <span class="n">NOT</span> <span class="n">bExecute</span> <span class="n">THEN</span>
   <span class="n">bExecuteWriteNC</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
   <span class="n">fbHomewriteSoftLimEnable</span><span class="o">.</span><span class="n">bSofLimEnableLow</span><span class="p">:</span><span class="o">=</span><span class="n">bSofLimEnableLow</span><span class="p">;</span>
   <span class="n">fbHomewriteSoftLimEnable</span><span class="o">.</span><span class="n">bSofLimEnableHigh</span><span class="p">:</span><span class="o">=</span><span class="n">bSofLimEnableHigh</span><span class="p">;</span>   
   <span class="n">nState</span><span class="p">:</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
 <span class="n">END_IF</span>
 
 <span class="n">fbExecuteRiseEdge</span><span class="p">(</span><span class="n">CLK</span><span class="p">:</span><span class="o">=</span><span class="n">bExecute</span><span class="p">);</span>
 <span class="n">IF</span> <span class="n">fbExecuteRiseEdge</span><span class="o">.</span><span class="n">Q</span> <span class="n">THEN</span>
   <span class="n">bExecuteWriteNC</span><span class="p">:</span><span class="o">=</span><span class="n">TRUE</span><span class="p">;</span>  
   <span class="n">fbHomewriteSoftLimEnable</span><span class="o">.</span><span class="n">bSofLimEnableLow</span><span class="p">:</span><span class="o">=</span><span class="n">bSofLimEnableLow</span><span class="p">;</span>
   <span class="n">fbHomewriteSoftLimEnable</span><span class="o">.</span><span class="n">bSofLimEnableHigh</span><span class="p">:</span><span class="o">=</span><span class="n">bSofLimEnableHigh</span><span class="p">;</span>
 <span class="n">END_IF</span>
 
 <span class="o">//</span> <span class="n">Write</span> <span class="n">to</span> <span class="n">NC</span> <span class="p">(</span><span class="n">disable</span> <span class="n">soft</span> <span class="n">limits</span><span class="p">)</span>
 <span class="n">fbHomewriteSoftLimEnable</span><span class="p">(</span>
 	<span class="n">En</span><span class="p">:</span><span class="o">=</span><span class="n">En</span><span class="p">,</span>
 	<span class="n">bExecute</span><span class="p">:</span><span class="o">=</span><span class="n">bExecuteWriteNC</span> <span class="n">AND</span> <span class="n">bExecute</span><span class="p">,</span>
 	<span class="n">Axis</span><span class="p">:</span><span class="o">=</span><span class="n">Axis</span><span class="p">,</span>
 	<span class="n">bReset</span><span class="p">:</span><span class="o">=</span><span class="n">bReset</span><span class="p">,</span>	
 <span class="p">);</span>
 
 <span class="n">bBusy</span><span class="p">:</span><span class="o">=</span><span class="n">fbHomewriteSoftLimEnable</span><span class="o">.</span><span class="n">bBusy</span><span class="p">;</span>
 <span class="n">bDone</span><span class="p">:</span><span class="o">=</span><span class="n">fbHomewriteSoftLimEnable</span><span class="o">.</span><span class="n">bDone</span><span class="p">;</span>
 
 <span class="n">bError</span><span class="p">:</span><span class="o">=</span><span class="n">fbHomewriteSoftLimEnable</span><span class="o">.</span><span class="n">bError</span><span class="p">;</span>
 <span class="n">IF</span> <span class="n">fbHomewriteSoftLimEnable</span><span class="o">.</span><span class="n">bError</span> <span class="n">THEN</span>
   <span class="n">nErrorId</span><span class="p">:</span><span class="o">=</span><span class="n">fbHomewriteSoftLimEnable</span><span class="o">.</span><span class="n">nErrorId</span><span class="p">;</span>
 <span class="n">END_IF</span>
</pre></div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-motion-homing-fb-homeprepare-tcpou-tcplcobject">
<h2>tc_mca_std_lib/POUs/Motion/Homing/FB_HomePrepare.TcPOU (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-motion-homing-fb-homeprepare-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">FB_HomePrepare</span><span class="p">:</span> <span class="n">Declaration</span>

 <span class="n">FUNCTION_BLOCK</span> <span class="n">FB_HomePrepare</span>
 <span class="n">VAR_INPUT</span>
 	<span class="n">En</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bReset</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
     <span class="n">bExecute</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>	
     <span class="n">nCmdData</span><span class="p">:</span> <span class="n">UINT</span><span class="p">;</span>		
 <span class="n">END_VAR</span>
 <span class="n">VAR_IN_OUT</span>
 	<span class="n">Axis</span><span class="p">:</span> <span class="n">AXIS_REF</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 <span class="n">VAR_OUTPUT</span>
 	<span class="n">EnO</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>	
 	<span class="n">bBusy</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDone</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bError</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">nErrorId</span><span class="p">:</span> <span class="n">UDINT</span><span class="p">;</span>
 	<span class="n">bSofLimEnableLowOriginal</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">:</span><span class="o">=</span><span class="n">TRUE</span><span class="p">;</span>
 	<span class="n">bSofLimEnableHighOriginal</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">:</span><span class="o">=</span><span class="n">TRUE</span><span class="p">;</span>	
 	<span class="n">fVelocityToCam</span><span class="p">:</span> <span class="n">LREAL</span><span class="p">:</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
 	<span class="n">fVelocityFromCam</span><span class="p">:</span> <span class="n">LREAL</span><span class="p">:</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>		
 <span class="n">END_VAR</span>
 <span class="n">VAR</span>
 	<span class="n">fbHomeReadSoftLimEnable</span><span class="p">:</span><span class="n">FB_HomeReadSoftLimEnable</span><span class="p">;</span>	
 	<span class="n">fbHomeDisableSoftLimEnable</span><span class="p">:</span><span class="n">FB_HomeWriteSoftLimEnable</span><span class="p">;</span>
 	<span class="n">fbHomeReadNCVelocities</span><span class="p">:</span> <span class="n">FB_HomeReadNcVelocities</span><span class="p">;</span>
 	<span class="n">fbHomeResetCalibrationFlag</span><span class="p">:</span><span class="n">MC_Home</span><span class="p">;</span>   <span class="o">//</span><span class="n">Only</span> <span class="n">used</span> <span class="k">for</span> <span class="n">reset</span> <span class="n">of</span> <span class="n">calibration</span> <span class="n">flag</span>
 	<span class="n">fbExecuteRiseEdge</span><span class="p">:</span> <span class="n">R_TRIG</span><span class="p">;</span>
 	<span class="n">bExecuteReadNC</span><span class="p">:</span><span class="n">BOOL</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 	<span class="n">bExecuteWriteNC</span><span class="p">:</span><span class="n">BOOL</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 	<span class="n">nState</span><span class="p">:</span><span class="n">INT</span><span class="p">:</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
 <span class="n">END_VAR</span>

<span class="o">-</span> <span class="n">FB_HomePrepare</span><span class="p">:</span> <span class="n">ST</span>

 <span class="n">En</span><span class="p">:</span><span class="o">=</span><span class="n">EnO</span><span class="p">;</span>
 <span class="n">IF</span> <span class="n">bReset</span> <span class="n">THEN</span>
 	<span class="n">bError</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 	<span class="n">nErrorId</span><span class="p">:</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
 <span class="n">END_IF</span> 
 
 <span class="n">IF</span> <span class="n">NOT</span> <span class="n">bExecute</span> <span class="n">THEN</span>
   <span class="n">bExecuteReadNC</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
   <span class="n">bExecuteWriteNC</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>   
   <span class="n">nState</span><span class="p">:</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
 <span class="n">END_IF</span>
 
 <span class="n">fbExecuteRiseEdge</span><span class="p">(</span><span class="n">CLK</span><span class="p">:</span><span class="o">=</span><span class="n">bExecute</span><span class="p">);</span>
 <span class="n">IF</span> <span class="n">fbExecuteRiseEdge</span><span class="o">.</span><span class="n">Q</span> <span class="n">THEN</span>
   <span class="n">bExecuteReadNC</span><span class="p">:</span><span class="o">=</span><span class="n">TRUE</span><span class="p">;</span>  
 <span class="n">END_IF</span>
 
 <span class="o">//</span> <span class="n">Read</span> <span class="kn">from</span> <span class="nn">NC</span>
 <span class="n">fbHomeReadNCVelocities</span><span class="p">(</span>
   <span class="n">En</span><span class="p">:</span><span class="o">=</span><span class="n">En</span><span class="p">,</span>
   <span class="n">bExecute</span><span class="p">:</span><span class="o">=</span><span class="n">bExecuteReadNC</span><span class="p">,</span> <span class="o">//</span> <span class="n">Actualy</span> <span class="ow">not</span> <span class="n">needed</span> <span class="k">for</span> <span class="n">sequence</span> <span class="mi">15</span> <span class="p">(</span><span class="nb">set</span> <span class="n">position</span> <span class="n">only</span><span class="p">,</span> <span class="n">no</span> <span class="n">movement</span><span class="p">))</span>
   <span class="n">bReset</span><span class="p">:</span><span class="o">=</span><span class="n">bReset</span><span class="p">,</span>
   <span class="n">Axis</span><span class="p">:</span><span class="o">=</span><span class="n">Axis</span><span class="p">,</span>
 <span class="p">);</span>
 
 <span class="n">fbHomeReadSoftLimEnable</span><span class="p">(</span>
 	<span class="n">En</span><span class="p">:</span><span class="o">=</span><span class="n">En</span><span class="p">,</span>
 	<span class="n">bExecute</span><span class="p">:</span><span class="o">=</span><span class="n">bExecuteReadNC</span> <span class="n">AND</span> <span class="n">bExecute</span><span class="p">,</span>
 	<span class="n">Axis</span><span class="p">:</span><span class="o">=</span><span class="n">Axis</span><span class="p">,</span>
 	<span class="n">bReset</span><span class="p">:</span><span class="o">=</span><span class="n">bReset</span><span class="p">,</span>	
 <span class="p">);</span>
 
 <span class="o">//</span> <span class="n">Reset</span> <span class="n">calibration</span> <span class="n">flag</span>
 <span class="n">fbHomeResetCalibrationFlag</span><span class="p">(</span>
   <span class="n">Execute</span><span class="p">:</span><span class="o">=</span><span class="n">bExecuteReadNC</span><span class="p">,</span>
   <span class="n">HomingMode</span><span class="p">:</span><span class="o">=</span><span class="n">MC_ResetCalibration</span><span class="p">,</span>
   <span class="n">Axis</span><span class="p">:</span><span class="o">=</span><span class="n">Axis</span>
 <span class="p">);</span>
 
 <span class="n">bSofLimEnableLowOriginal</span><span class="p">:</span><span class="o">=</span><span class="n">fbHomeReadSoftLimEnable</span><span class="o">.</span><span class="n">bSofLimEnableLow</span><span class="p">;</span>
 <span class="n">bSofLimEnableHighOriginal</span><span class="p">:</span><span class="o">=</span><span class="n">fbHomeReadSoftLimEnable</span><span class="o">.</span><span class="n">bSofLimEnableHigh</span><span class="p">;</span>	
 
 <span class="n">fVelocityToCam</span><span class="p">:</span><span class="o">=</span><span class="n">fbHomeReadNCVelocities</span><span class="o">.</span><span class="n">fVelocityToCam</span><span class="p">;</span>
 <span class="n">fVelocityFromCam</span><span class="p">:</span><span class="o">=</span><span class="n">fbHomeReadNCVelocities</span><span class="o">.</span><span class="n">fVelocityFromCam</span><span class="p">;</span>
 
 <span class="n">IF</span> <span class="n">bExecuteReadNC</span> <span class="n">AND</span> <span class="n">bExecute</span> <span class="n">AND</span> <span class="n">fbHomeReadSoftLimEnable</span><span class="o">.</span><span class="n">bDone</span> <span class="n">THEN</span>
 	<span class="n">fbHomeDisableSoftLimEnable</span><span class="o">.</span><span class="n">bSofLimEnableHigh</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 	<span class="n">fbHomeDisableSoftLimEnable</span><span class="o">.</span><span class="n">bSofLimEnableLow</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 	<span class="n">bExecuteWriteNC</span><span class="p">:</span><span class="o">=</span><span class="n">TRUE</span><span class="p">;</span> <span class="o">//</span><span class="n">Always</span> <span class="n">write</span> <span class="p">(</span><span class="n">only</span> <span class="n">needed</span> <span class="k">if</span> <span class="n">enabled</span> <span class="n">actually</span><span class="p">)</span>
 <span class="n">END_IF</span>
 
 <span class="o">//</span> <span class="n">Write</span> <span class="n">to</span> <span class="n">NC</span> <span class="p">(</span><span class="n">disable</span> <span class="n">soft</span> <span class="n">limits</span><span class="p">)</span>
 <span class="n">fbHomeDisableSoftLimEnable</span><span class="p">(</span>
 	<span class="n">En</span><span class="p">:</span><span class="o">=</span><span class="n">En</span><span class="p">,</span>
 	<span class="n">bExecute</span><span class="p">:</span><span class="o">=</span><span class="n">bExecuteWriteNC</span> <span class="n">AND</span> <span class="n">bExecute</span><span class="p">,</span>
 	<span class="n">Axis</span><span class="p">:</span><span class="o">=</span><span class="n">Axis</span><span class="p">,</span>
 	<span class="n">bReset</span><span class="p">:</span><span class="o">=</span><span class="n">bReset</span><span class="p">,</span>	
 <span class="p">);</span>
 
 <span class="n">bBusy</span><span class="p">:</span><span class="o">=</span><span class="n">fbHomeReadSoftLimEnable</span><span class="o">.</span><span class="n">bBusy</span> <span class="n">OR</span> <span class="n">fbHomeDisableSoftLimEnable</span><span class="o">.</span><span class="n">bBusy</span> <span class="n">OR</span> <span class="n">fbHomeReadNCVelocities</span><span class="o">.</span><span class="n">bBusy</span> <span class="n">OR</span> <span class="n">fbHomeResetCalibrationFlag</span><span class="o">.</span><span class="n">Busy</span><span class="p">;</span>
 <span class="n">bDone</span><span class="p">:</span><span class="o">=</span><span class="n">fbHomeReadSoftLimEnable</span><span class="o">.</span><span class="n">bDone</span> <span class="n">AND</span> <span class="n">fbHomeDisableSoftLimEnable</span><span class="o">.</span><span class="n">bDone</span> <span class="n">AND</span> <span class="n">fbHomeReadNCVelocities</span><span class="o">.</span><span class="n">bDone</span> <span class="n">AND</span> <span class="n">fbHomeResetCalibrationFlag</span><span class="o">.</span><span class="n">Done</span> <span class="n">AND</span> <span class="n">bExecute</span><span class="p">;</span>
 
 <span class="n">bError</span><span class="p">:</span><span class="o">=</span><span class="n">fbHomeReadSoftLimEnable</span><span class="o">.</span><span class="n">bError</span> <span class="n">OR</span> <span class="n">fbHomeDisableSoftLimEnable</span><span class="o">.</span><span class="n">bError</span> <span class="n">OR</span> <span class="n">fbHomeReadNCVelocities</span><span class="o">.</span><span class="n">bError</span> <span class="n">OR</span> <span class="n">fbHomeResetCalibrationFlag</span><span class="o">.</span><span class="n">Error</span><span class="p">;</span>
 <span class="n">IF</span> <span class="n">fbHomeReadSoftLimEnable</span><span class="o">.</span><span class="n">bError</span> <span class="n">THEN</span>
   <span class="n">nErrorId</span><span class="p">:</span><span class="o">=</span><span class="n">fbHomeReadSoftLimEnable</span><span class="o">.</span><span class="n">nErrorId</span><span class="p">;</span>
 <span class="n">ELSIF</span> <span class="n">fbHomeDisableSoftLimEnable</span><span class="o">.</span><span class="n">bError</span> <span class="n">THEN</span>
   <span class="n">nErrorId</span><span class="p">:</span><span class="o">=</span><span class="n">fbHomeDisableSoftLimEnable</span><span class="o">.</span><span class="n">nErrorId</span><span class="p">;</span>
 <span class="n">ELSIF</span> <span class="n">fbHomeResetCalibrationFlag</span><span class="o">.</span><span class="n">Error</span> <span class="n">THEN</span>
   <span class="n">nErrorId</span><span class="p">:</span><span class="o">=</span><span class="n">fbHomeResetCalibrationFlag</span><span class="o">.</span><span class="n">ErrorId</span><span class="p">;</span>
 <span class="n">END_IF</span>
</pre></div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-motion-homing-fb-homereadncvelocities-tcpou-tcplcobject">
<h2>tc_mca_std_lib/POUs/Motion/Homing/FB_HomeReadNcVelocities.TcPOU (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-motion-homing-fb-homereadncvelocities-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">FB_HomeReadNcVelocities</span><span class="p">:</span> <span class="n">Declaration</span>

 <span class="n">FUNCTION_BLOCK</span> <span class="n">FB_HomeReadNcVelocities</span>
 <span class="n">VAR_INPUT</span>
 	<span class="n">En</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bReset</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
     <span class="n">bExecute</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>			
 <span class="n">END_VAR</span>
 <span class="n">VAR_IN_OUT</span>
 	<span class="n">Axis</span><span class="p">:</span> <span class="n">AXIS_REF</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 <span class="n">VAR_OUTPUT</span>
 	<span class="n">EnO</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>	
 	<span class="n">bBusy</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDone</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bError</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">nErrorId</span><span class="p">:</span> <span class="n">UDINT</span><span class="p">;</span>	
 	<span class="n">fVelocityToCam</span><span class="p">:</span> <span class="n">LREAL</span><span class="p">;</span>
 	<span class="n">fVelocityFromCam</span><span class="p">:</span> <span class="n">LREAL</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 <span class="n">VAR</span>
 	<span class="n">fbReadVelocityToCam</span><span class="p">:</span><span class="n">FB_ReadFloatParameter</span><span class="p">;</span>
 	<span class="n">fbReadVelocityFromCam</span><span class="p">:</span><span class="n">FB_ReadFloatParameter</span><span class="p">;</span>
 <span class="n">END_VAR</span>

<span class="o">-</span> <span class="n">FB_HomeReadNcVelocities</span><span class="p">:</span> <span class="n">ST</span>

 <span class="n">En</span><span class="p">:</span><span class="o">=</span><span class="n">EnO</span><span class="p">;</span>
 <span class="n">IF</span> <span class="n">bReset</span> <span class="n">THEN</span>
 	<span class="n">bError</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 	<span class="n">nErrorId</span><span class="p">:</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
 <span class="n">END_IF</span> 
 	
 <span class="n">fbReadVelocityToCam</span><span class="p">(</span>
 	<span class="n">bExecute</span><span class="p">:</span><span class="o">=</span><span class="n">bExecute</span><span class="p">,</span>
 	<span class="n">nDeviceGroup</span><span class="p">:</span><span class="o">=</span> <span class="mi">16</span><span class="c1">#4000,</span>
 	<span class="n">nIndexOffset</span><span class="p">:</span><span class="o">=</span> <span class="mi">16</span><span class="c1">#6,</span>
 	<span class="n">Axis</span><span class="p">:</span><span class="o">=</span> <span class="n">Axis</span><span class="p">);</span>
 	
 <span class="n">fbReadVelocityFromCam</span><span class="p">(</span>
 	<span class="n">bExecute</span><span class="p">:</span><span class="o">=</span><span class="n">bExecute</span><span class="p">,</span>
 	<span class="n">nDeviceGroup</span><span class="p">:</span><span class="o">=</span> <span class="mi">16</span><span class="c1">#4000,</span>
 	<span class="n">nIndexOffset</span><span class="p">:</span><span class="o">=</span> <span class="mi">16</span><span class="c1">#7,</span>
 	<span class="n">Axis</span><span class="p">:</span><span class="o">=</span> <span class="n">Axis</span><span class="p">);</span>
 	
 <span class="n">fVelocityToCam</span><span class="p">:</span><span class="o">=</span><span class="n">fbReadVelocityToCam</span><span class="o">.</span><span class="n">nData</span><span class="p">;</span>
 <span class="n">fVelocityFromCam</span><span class="p">:</span><span class="o">=</span><span class="n">fbReadVelocityFromCam</span><span class="o">.</span><span class="n">nData</span><span class="p">;</span>	
 
 <span class="n">bBusy</span><span class="p">:</span><span class="o">=</span><span class="n">fbReadVelocityFromCam</span><span class="o">.</span><span class="n">bBusy</span> <span class="n">OR</span> <span class="n">fbReadVelocityToCam</span><span class="o">.</span><span class="n">bBusy</span><span class="p">;</span>
 <span class="n">bDone</span><span class="p">:</span><span class="o">=</span><span class="n">fbReadVelocityFromCam</span><span class="o">.</span><span class="n">bDone</span> <span class="n">AND</span> <span class="n">fbReadVelocityToCam</span><span class="o">.</span><span class="n">bDone</span> <span class="n">AND</span> <span class="n">bExecute</span><span class="p">;</span>
 
 <span class="n">bError</span><span class="p">:</span><span class="o">=</span><span class="n">fbReadVelocityToCam</span><span class="o">.</span><span class="n">bError</span> <span class="n">OR</span> <span class="n">fbReadVelocityFromCam</span><span class="o">.</span><span class="n">bError</span><span class="p">;</span>
 <span class="n">IF</span> <span class="n">fbReadVelocityToCam</span><span class="o">.</span><span class="n">bError</span> <span class="n">THEN</span>
   <span class="n">nErrorId</span><span class="p">:</span><span class="o">=</span><span class="n">fbReadVelocityToCam</span><span class="o">.</span><span class="n">nErrorId</span><span class="p">;</span>
 <span class="n">ELSIF</span> <span class="n">fbReadVelocityFromCam</span><span class="o">.</span><span class="n">bError</span> <span class="n">THEN</span>
   <span class="n">nErrorId</span><span class="p">:</span><span class="o">=</span><span class="n">fbReadVelocityFromCam</span><span class="o">.</span><span class="n">nErrorId</span><span class="p">;</span>
 <span class="n">END_IF</span>
</pre></div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-motion-homing-fb-homereadsoftlimenable-tcpou-tcplcobject">
<h2>tc_mca_std_lib/POUs/Motion/Homing/FB_HomeReadSoftLimEnable.TcPOU (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-motion-homing-fb-homereadsoftlimenable-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">FB_HomeReadSoftLimEnable</span><span class="p">:</span> <span class="n">Declaration</span>

 <span class="n">FUNCTION_BLOCK</span> <span class="n">FB_HomeReadSoftLimEnable</span>
 <span class="n">VAR_INPUT</span>
 	<span class="n">En</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bReset</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
     <span class="n">bExecute</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>			
 <span class="n">END_VAR</span>
 <span class="n">VAR_IN_OUT</span>
 	<span class="n">Axis</span><span class="p">:</span> <span class="n">AXIS_REF</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 <span class="n">VAR_OUTPUT</span>
 	<span class="n">EnO</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>	
 	<span class="n">bBusy</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDone</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bError</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">nErrorId</span><span class="p">:</span> <span class="n">UDINT</span><span class="p">;</span>	
 	<span class="n">bSofLimEnableLow</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">:</span><span class="o">=</span><span class="n">TRUE</span><span class="p">;</span>
 	<span class="n">bSofLimEnableHigh</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">:</span><span class="o">=</span><span class="n">TRUE</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 <span class="n">VAR</span>
 	<span class="n">fbReadSoftLimEnableLow</span><span class="p">:</span><span class="n">FB_ReadParameterInNc_v1_00</span><span class="p">;</span>
 	<span class="n">fbReadSoftLimEnableHigh</span><span class="p">:</span><span class="n">FB_ReadParameterInNc_v1_00</span><span class="p">;</span>
 <span class="n">END_VAR</span>

<span class="o">-</span> <span class="n">FB_HomeReadSoftLimEnable</span><span class="p">:</span> <span class="n">ST</span>

 <span class="n">En</span><span class="p">:</span><span class="o">=</span><span class="n">EnO</span><span class="p">;</span>
 <span class="n">IF</span> <span class="n">bReset</span> <span class="n">THEN</span>
 	<span class="n">bError</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 	<span class="n">nErrorId</span><span class="p">:</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
 <span class="n">END_IF</span> 
 	
 <span class="n">fbReadSoftLimEnableLow</span><span class="p">(</span>
 	<span class="n">bExecute</span><span class="p">:</span><span class="o">=</span><span class="n">bExecute</span><span class="p">,</span>
 	<span class="n">nDeviceGroup</span><span class="p">:</span><span class="o">=</span> <span class="mi">16</span><span class="c1">#5000,</span>
 	<span class="n">nIndexOffset</span><span class="p">:</span><span class="o">=</span> <span class="mi">16</span><span class="c1">#B,</span>
 	<span class="n">Axis</span><span class="p">:</span><span class="o">=</span> <span class="n">Axis</span><span class="p">);</span>
 
 <span class="n">fbReadSoftLimEnableHigh</span><span class="p">(</span>
 	<span class="n">bExecute</span><span class="p">:</span><span class="o">=</span><span class="n">bExecute</span><span class="p">,</span>
 	<span class="n">nDeviceGroup</span><span class="p">:</span><span class="o">=</span> <span class="mi">16</span><span class="c1">#5000,</span>
 	<span class="n">nIndexOffset</span><span class="p">:</span><span class="o">=</span> <span class="mi">16</span><span class="c1">#C,</span>
 	<span class="n">Axis</span><span class="p">:</span><span class="o">=</span> <span class="n">Axis</span><span class="p">);</span>
 	
 <span class="n">bSofLimEnableLow</span><span class="p">:</span><span class="o">=</span><span class="n">DWORD_TO_BOOL</span><span class="p">(</span><span class="n">fbReadSoftLimEnableLow</span><span class="o">.</span><span class="n">nData</span><span class="p">);</span>
 <span class="n">bSofLimEnableHigh</span><span class="p">:</span><span class="o">=</span><span class="n">DWORD_TO_BOOL</span><span class="p">(</span><span class="n">fbReadSoftLimEnableHigh</span><span class="o">.</span><span class="n">nData</span><span class="p">);</span>	
 
 <span class="n">bBusy</span><span class="p">:</span><span class="o">=</span><span class="n">fbReadSoftLimEnableLow</span><span class="o">.</span><span class="n">bBusy</span> <span class="n">OR</span> <span class="n">fbReadSoftLimEnableHigh</span><span class="o">.</span><span class="n">bBusy</span><span class="p">;</span>
 <span class="n">bDone</span><span class="p">:</span><span class="o">=</span><span class="n">fbReadSoftLimEnableLow</span><span class="o">.</span><span class="n">bDone</span> <span class="n">AND</span> <span class="n">fbReadSoftLimEnableHigh</span><span class="o">.</span><span class="n">bDone</span> <span class="n">AND</span> <span class="n">bExecute</span><span class="p">;</span>
 
 <span class="n">bError</span><span class="p">:</span><span class="o">=</span><span class="n">fbReadSoftLimEnableLow</span><span class="o">.</span><span class="n">bError</span> <span class="n">OR</span> <span class="n">fbReadSoftLimEnableHigh</span><span class="o">.</span><span class="n">bError</span><span class="p">;</span>
 <span class="n">IF</span> <span class="n">fbReadSoftLimEnableLow</span><span class="o">.</span><span class="n">bError</span> <span class="n">THEN</span>
   <span class="n">nErrorId</span><span class="p">:</span><span class="o">=</span><span class="n">fbReadSoftLimEnableLow</span><span class="o">.</span><span class="n">nErrorId</span><span class="p">;</span>
 <span class="n">ELSIF</span> <span class="n">fbReadSoftLimEnableHigh</span><span class="o">.</span><span class="n">bError</span> <span class="n">THEN</span>
   <span class="n">nErrorId</span><span class="p">:</span><span class="o">=</span><span class="n">fbReadSoftLimEnableHigh</span><span class="o">.</span><span class="n">nErrorId</span><span class="p">;</span>
 <span class="n">END_IF</span>
</pre></div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-motion-homing-fb-hometoswitch-tcpou-tcplcobject">
<h2>tc_mca_std_lib/POUs/Motion/Homing/FB_HomeToSwitch.TcPOU (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-motion-homing-fb-hometoswitch-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">FB_HomeToSwitch</span><span class="p">:</span> <span class="n">Declaration</span>

 <span class="n">FUNCTION_BLOCK</span> <span class="n">FB_HomeToSwitch</span>
 <span class="n">VAR_INPUT</span>
 	<span class="n">En</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bReset</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
     <span class="n">bExecute</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>	
     <span class="n">bCamSensor</span><span class="p">:</span><span class="n">BOOL</span><span class="p">;</span>	
 	<span class="n">nSearchDirTwoardsCam</span><span class="p">:</span> <span class="n">MC_Direction</span><span class="p">;</span>
 	<span class="n">nSearchDirOffCam</span><span class="p">:</span> <span class="n">MC_Direction</span><span class="p">;</span>
 	<span class="n">fHomePosition</span><span class="p">:</span><span class="n">LREAL</span><span class="p">;</span>	
 	<span class="n">fVelocityToCamNC</span><span class="p">:</span> <span class="n">LREAL</span><span class="p">;</span> <span class="o">//</span><span class="n">Velcoity</span> <span class="n">when</span> <span class="n">searching</span> <span class="k">for</span> <span class="n">cam</span>
 	<span class="n">fVelocityFromCamNC</span><span class="p">:</span> <span class="n">LREAL</span><span class="p">;</span> <span class="o">//</span> <span class="n">Velocity</span> <span class="n">after</span> <span class="n">found</span> <span class="n">cam</span> <span class="p">(</span><span class="n">searching</span> <span class="k">for</span> <span class="nb">next</span> <span class="n">signal</span> <span class="n">transition</span><span class="p">)</span>
 <span class="n">END_VAR</span>
 <span class="n">VAR_IN_OUT</span>
 	<span class="n">Axis</span><span class="p">:</span> <span class="n">AXIS_REF</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 <span class="n">VAR_OUTPUT</span>
 	<span class="n">EnO</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>	
 	<span class="n">bBusy</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDone</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bHomed</span><span class="p">:</span><span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bError</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">nErrorId</span><span class="p">:</span> <span class="n">UDINT</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 <span class="n">VAR</span>
 	<span class="n">fbHome</span><span class="p">:</span> <span class="n">MC_Home</span><span class="p">;</span>	
 	<span class="n">fbWriteHomeDirCamToNC</span><span class="p">:</span><span class="n">FB_WriteParameterInNc_v1_00</span><span class="p">;</span>
 	<span class="n">fbWriteHomeDirSyncToNC</span><span class="p">:</span><span class="n">FB_WriteParameterInNc_v1_00</span><span class="p">;</span>
 	<span class="n">fbWriteHomeModeToNC</span><span class="p">:</span><span class="n">FB_WriteParameterInNc_v1_00</span><span class="p">;</span>
 	<span class="n">fbWriteHomeVelocitiesToNC</span><span class="p">:</span> <span class="n">FB_HomeWriteNcVelocities</span><span class="p">;</span>
 	<span class="n">bConfigNCDone</span><span class="p">:</span><span class="n">BOOL</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 	<span class="n">fbRTrigg</span><span class="p">:</span> <span class="n">R_TRIG</span><span class="p">;</span>
 <span class="n">END_VAR</span>

<span class="o">-</span> <span class="n">FB_HomeToSwitch</span><span class="p">:</span> <span class="n">ST</span>

 <span class="n">En</span><span class="p">:</span><span class="o">=</span><span class="n">EnO</span><span class="p">;</span>
 <span class="n">IF</span> <span class="n">bReset</span> <span class="n">THEN</span>
 	<span class="n">bConfigNCDone</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 	<span class="n">bError</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 	<span class="n">nErrorId</span><span class="p">:</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
 <span class="n">END_IF</span> 
 	
 <span class="o">//</span><span class="n">Start</span> <span class="n">preparation</span> <span class="n">of</span> <span class="n">NC</span> <span class="k">if</span> <span class="n">rising</span> <span class="n">edge</span> <span class="n">on</span> <span class="n">bExecute</span>
 <span class="n">fbRTrigg</span><span class="p">(</span><span class="n">CLK</span><span class="p">:</span><span class="o">=</span><span class="n">bExecute</span><span class="p">);</span>
 <span class="n">IF</span> <span class="n">fbRTrigg</span><span class="o">.</span><span class="n">Q</span> <span class="n">THEN</span>
 	<span class="n">bConfigNCDone</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 <span class="n">END_IF</span>
 
  
 <span class="n">fbWriteHomeDirCamToNC</span><span class="p">(</span>
 	<span class="n">bExecute</span><span class="p">:</span><span class="o">=</span><span class="n">bExecute</span> <span class="n">AND</span> <span class="n">NOT</span> <span class="n">bConfigNCDone</span><span class="p">,</span>
 	<span class="n">nDeviceGroup</span><span class="p">:</span><span class="o">=</span><span class="mi">16</span><span class="c1">#5000,</span>
 	<span class="n">nIndexOffset</span><span class="p">:</span><span class="o">=</span><span class="mi">16</span><span class="c1">#101,	//Direction for Calibration Cam Search	</span>
 	<span class="n">nData</span><span class="p">:</span><span class="o">=</span><span class="n">BOOL_TO_DWORD</span><span class="p">(</span><span class="n">nSearchDirTwoardsCam</span><span class="o">=</span><span class="n">MC_Negative_Direction</span><span class="p">),</span><span class="o">//</span><span class="n">BOOL_TO_DWORD</span><span class="p">(</span><span class="n">NOT</span> <span class="n">bSearchDirTwoardsCam</span><span class="p">),</span>
 	<span class="n">Axis</span><span class="p">:</span><span class="o">=</span><span class="n">Axis</span>
 <span class="p">);</span>
 
 <span class="n">fbWriteHomeDirSyncToNC</span><span class="p">(</span>
 	<span class="n">bExecute</span><span class="p">:</span><span class="o">=</span> <span class="n">bExecute</span> <span class="n">AND</span> <span class="n">NOT</span> <span class="n">bConfigNCDone</span><span class="p">,</span>
 	<span class="n">nDeviceGroup</span><span class="p">:</span><span class="o">=</span><span class="mi">16</span><span class="c1">#5000 ,</span>
 	<span class="n">nIndexOffset</span><span class="p">:</span><span class="o">=</span><span class="mi">16</span><span class="c1">#102 , //Direction for Sync Impuls Search</span>
 	<span class="n">nData</span><span class="p">:</span><span class="o">=</span><span class="n">BOOL_TO_DWORD</span><span class="p">(</span><span class="n">nSearchDirOffCam</span><span class="o">=</span><span class="n">MC_Negative_Direction</span><span class="p">),</span><span class="o">//</span><span class="n">BOOL_TO_DWORD</span><span class="p">(</span><span class="n">NOT</span> <span class="n">bSearchDirOffCam</span><span class="p">),</span>
 	<span class="n">Axis</span><span class="p">:</span><span class="o">=</span> <span class="n">Axis</span> 
 <span class="p">);</span>
 
 <span class="n">fbWriteHomeModeToNC</span><span class="p">(</span>
 	<span class="n">bExecute</span><span class="p">:</span><span class="o">=</span><span class="n">bExecute</span> <span class="n">AND</span> <span class="n">NOT</span> <span class="n">bConfigNCDone</span><span class="p">,</span>
 	<span class="n">nDeviceGroup</span><span class="p">:</span><span class="o">=</span><span class="mi">16</span><span class="c1">#5000,</span>
 	<span class="n">nIndexOffset</span><span class="p">:</span><span class="o">=</span><span class="mi">16</span><span class="c1">#107,  //Reference Mode</span>
 	<span class="n">nData</span><span class="p">:</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
 	<span class="n">Axis</span><span class="p">:</span><span class="o">=</span><span class="n">axis</span><span class="p">);</span>
 	
 <span class="n">fbWriteHomeVelocitiesToNC</span><span class="p">(</span>
   <span class="n">En</span><span class="p">:</span><span class="o">=</span><span class="n">En</span><span class="p">,</span>
   <span class="n">bExecute</span><span class="p">:</span><span class="o">=</span><span class="n">bExecute</span> <span class="n">AND</span> <span class="n">NOT</span> <span class="n">bConfigNCDone</span><span class="p">,</span>
   <span class="n">bReset</span><span class="p">:</span><span class="o">=</span><span class="n">bReset</span><span class="p">,</span>
   <span class="n">fVelocityFromCam</span><span class="p">:</span><span class="o">=</span><span class="n">fVelocityFromCamNC</span><span class="p">,</span>
   <span class="n">fVelocityToCam</span><span class="p">:</span><span class="o">=</span><span class="n">fVelocityToCamNC</span><span class="p">,</span>
   <span class="n">Axis</span><span class="p">:</span><span class="o">=</span><span class="n">Axis</span><span class="p">);</span>
 
 <span class="n">fbHome</span><span class="o">.</span><span class="n">bCalibrationCam</span><span class="p">:</span><span class="o">=</span><span class="n">bCamSensor</span><span class="p">;</span>
 
 <span class="n">fbHome</span><span class="p">(</span>
 	<span class="n">Execute</span><span class="p">:</span><span class="o">=</span><span class="n">bExecute</span> <span class="n">AND</span> <span class="n">bConfigNCDone</span><span class="p">(</span><span class="o">*</span> <span class="n">AND</span> <span class="n">NOT</span> <span class="n">bError</span><span class="o">*</span><span class="p">),</span>
 	<span class="n">Position</span><span class="p">:</span><span class="o">=</span><span class="n">fHomePosition</span><span class="p">,</span>
 	<span class="n">HomingMode</span><span class="p">:</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
 	<span class="n">Axis</span><span class="p">:</span><span class="o">=</span><span class="n">Axis</span>
 	<span class="p">);</span>
 <span class="n">bBusy</span><span class="p">:</span><span class="o">=</span><span class="p">(</span><span class="n">fbHome</span><span class="o">.</span><span class="n">Busy</span> <span class="n">OR</span> <span class="p">(</span><span class="n">NOT</span> <span class="n">bConfigNCDone</span> <span class="n">AND</span> <span class="n">bExecute</span><span class="p">));</span>
 <span class="n">bDone</span><span class="p">:</span><span class="o">=</span><span class="n">fbHome</span><span class="o">.</span><span class="n">Done</span> <span class="n">AND</span> <span class="n">bConfigNCDone</span><span class="p">;</span>
 <span class="n">bHomed</span><span class="p">:</span><span class="o">=</span><span class="n">Axis</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">Homed</span><span class="p">;</span>
 
 <span class="n">IF</span> <span class="p">(</span><span class="n">NOT</span> <span class="n">bConfigNCDone</span><span class="p">)</span> <span class="n">AND</span> <span class="n">fbWriteHomeDirCamToNC</span><span class="o">.</span><span class="n">bDone</span> <span class="n">AND</span> <span class="n">fbWriteHomeDirSyncToNC</span><span class="o">.</span><span class="n">bDone</span> <span class="n">AND</span> <span class="n">fbWriteHomeModeToNC</span><span class="o">.</span><span class="n">bDone</span> <span class="n">AND</span> <span class="n">fbWriteHomeVelocitiesToNC</span><span class="o">.</span><span class="n">bDone</span> <span class="n">THEN</span>
   <span class="n">bConfigNCDone</span><span class="p">:</span><span class="o">=</span><span class="n">TRUE</span><span class="p">;</span>
 <span class="n">END_IF</span>
 
 <span class="o">//</span><span class="n">For</span> <span class="n">some</span> <span class="n">reason</span> <span class="n">MC_HOME</span> <span class="n">gives</span> <span class="n">an</span> <span class="n">Error</span> <span class="k">for</span> <span class="n">one</span> <span class="n">cycle</span> <span class="n">of</span> <span class="n">NC</span><span class="o">-</span><span class="n">Task</span> <span class="mi">1</span> <span class="n">SVB</span> <span class="p">(</span><span class="mi">10</span><span class="n">ms</span> <span class="n">default</span><span class="o">..</span><span class="p">)</span> <span class="n">so</span> <span class="nb">filter</span> <span class="k">with</span> <span class="n">bExecute</span>
 <span class="n">bError</span><span class="p">:</span><span class="o">=</span><span class="p">(</span><span class="n">fbHome</span><span class="o">.</span><span class="n">Error</span> <span class="n">AND</span> <span class="n">bExecute</span><span class="p">)</span> <span class="n">OR</span> <span class="n">fbWriteHomeDirCamToNC</span><span class="o">.</span><span class="n">bError</span> <span class="n">OR</span> <span class="n">fbWriteHomeDirSyncToNC</span><span class="o">.</span><span class="n">bError</span> <span class="n">OR</span> <span class="n">fbWriteHomeModeToNC</span><span class="o">.</span><span class="n">bError</span> <span class="n">OR</span> <span class="n">fbWriteHomeVelocitiesToNC</span><span class="o">.</span><span class="n">bError</span><span class="p">;</span>
 
 <span class="n">IF</span> <span class="p">(</span><span class="n">fbHome</span><span class="o">.</span><span class="n">Error</span> <span class="n">AND</span> <span class="n">bExecute</span><span class="p">)</span> <span class="n">THEN</span>
   <span class="n">nErrorId</span><span class="p">:</span><span class="o">=</span><span class="n">fbHome</span><span class="o">.</span><span class="n">ErrorID</span><span class="p">;</span>
 <span class="n">ELSIF</span> <span class="n">fbWriteHomeDirCamToNC</span><span class="o">.</span><span class="n">bError</span> <span class="n">THEN</span>
   <span class="n">nErrorId</span><span class="p">:</span><span class="o">=</span><span class="n">fbWriteHomeDirCamToNC</span><span class="o">.</span><span class="n">nErrorId</span><span class="p">;</span>
 <span class="n">ELSIF</span> <span class="n">fbWriteHomeDirSyncToNC</span><span class="o">.</span><span class="n">bError</span> <span class="n">THEN</span>
   <span class="n">nErrorId</span><span class="p">:</span><span class="o">=</span><span class="n">fbWriteHomeDirSyncToNC</span><span class="o">.</span><span class="n">nErrorId</span><span class="p">;</span>
 <span class="n">ELSIF</span> <span class="n">fbWriteHomeModeToNC</span><span class="o">.</span><span class="n">bError</span> <span class="n">THEN</span>
   <span class="n">nErrorId</span><span class="p">:</span><span class="o">=</span><span class="n">fbWriteHomeModeToNC</span><span class="o">.</span><span class="n">nErrorId</span><span class="p">;</span>
 <span class="n">ELSIF</span> <span class="n">fbWriteHomeVelocitiesToNC</span><span class="o">.</span><span class="n">bError</span> <span class="n">THEN</span>
   <span class="n">nErrorId</span><span class="p">:</span><span class="o">=</span><span class="n">fbWriteHomeVelocitiesToNC</span><span class="o">.</span><span class="n">nErrorId</span><span class="p">;</span>  
 <span class="n">END_IF</span>
</pre></div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-motion-homing-fb-homevirtual-tcpou-tcplcobject">
<h2>tc_mca_std_lib/POUs/Motion/Homing/FB_HomeVirtual.TcPOU (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-motion-homing-fb-homevirtual-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">FB_HomeVirtual</span><span class="p">:</span> <span class="n">Declaration</span>

 <span class="n">FUNCTION_BLOCK</span> <span class="n">FB_HomeVirtual</span>
 <span class="n">VAR_INPUT</span>
 	<span class="n">En</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bReset</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bExecute</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">nCmdData</span><span class="p">:</span> <span class="n">UINT</span><span class="p">;</span>
 	<span class="n">bLimitFwd</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bLimitBwd</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>	
 	<span class="n">bHomeSensor</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>	
 	<span class="n">fHomePosition</span><span class="p">:</span><span class="n">LREAL</span><span class="p">;</span>
 	<span class="n">nHomeRevOffset</span><span class="p">:</span> <span class="n">UINT</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 <span class="n">VAR_IN_OUT</span>
 	<span class="n">Axis</span><span class="p">:</span> <span class="n">AXIS_REF</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 <span class="n">VAR_OUTPUT</span>
 	<span class="n">EnO</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>	
 	<span class="n">bBusy</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDone</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bHomed</span><span class="p">:</span><span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bError</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">nErrorId</span><span class="p">:</span> <span class="n">UDINT</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 <span class="n">VAR</span>
 	<span class="n">fbHomeToSwitch</span><span class="p">:</span> <span class="n">FB_HomeToSwitch</span><span class="p">;</span>
     <span class="n">fbHomeDirect</span><span class="p">:</span> <span class="n">FB_HomeDirect</span><span class="p">;</span> <span class="o">//</span><span class="n">Only</span> <span class="n">used</span> <span class="k">for</span> <span class="n">direct</span> <span class="n">homing</span> <span class="p">(</span><span class="nb">set</span> <span class="n">of</span> <span class="n">position</span><span class="p">)</span>
     <span class="n">fbMoveVelocity</span><span class="p">:</span><span class="n">MC_MoveVelocity</span><span class="p">;</span>
     <span class="n">fbHomePrepare</span><span class="p">:</span><span class="n">FB_HomePrepare</span><span class="p">;</span>
 	<span class="n">fbHomeFinish</span><span class="p">:</span><span class="n">FB_HomeFinish</span><span class="p">;</span>    	    		
 	<span class="n">fbExecuteRiseEdge</span><span class="p">:</span> <span class="n">R_TRIG</span><span class="p">;</span>
     <span class="n">nHomingState</span><span class="p">:</span><span class="n">INT</span><span class="p">:</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
 	<span class="n">bExecuteHomeToSwitch</span><span class="p">:</span><span class="n">BOOL</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 	<span class="n">bExecuteMoveVelocity</span><span class="p">:</span><span class="n">BOOL</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 	<span class="n">bExecutePrepare</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 	<span class="n">bExecuteFinish</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 	<span class="n">bExecuteHomeDirect</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">nCmdDataLocal</span><span class="p">:</span> <span class="n">UINT</span><span class="p">;</span>  <span class="o">//</span><span class="n">Ensure</span> <span class="n">that</span> <span class="n">nCmdData</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">changed</span> <span class="n">during</span> <span class="n">sequence</span>
 	<span class="n">bSequenceReady</span><span class="p">:</span><span class="n">BOOL</span><span class="p">:</span><span class="o">=</span><span class="n">TRUE</span><span class="p">;</span>
 	<span class="n">bRestoreNCDataNeeded</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 <span class="n">END_VAR</span>

<span class="o">-</span> <span class="n">FB_HomeVirtual</span><span class="p">:</span> <span class="n">ST</span>

 <span class="n">EnO</span><span class="p">:</span><span class="o">=</span><span class="n">En</span><span class="p">;</span>
 
 <span class="n">IF</span> <span class="n">bReset</span> <span class="n">THEN</span>	
 	<span class="n">bError</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 	<span class="n">nErrorId</span><span class="p">:</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
 <span class="n">END_IF</span>
 
 <span class="o">//</span> <span class="n">Reset</span> <span class="n">when</span> <span class="n">bExecute</span> <span class="ow">is</span> <span class="n">low</span>
 <span class="n">IF</span> <span class="n">NOT</span> <span class="n">bExecute</span> <span class="n">THEN</span>
   <span class="n">nHomingState</span><span class="p">:</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
   <span class="n">bSequenceReady</span><span class="p">:</span><span class="o">=</span><span class="n">TRUE</span><span class="p">;</span>
   <span class="n">bExecuteHomeToSwitch</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
   <span class="n">bExecuteHomeDirect</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
   <span class="n">bExecuteMoveVelocity</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
   <span class="n">bExecutePrepare</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
   <span class="n">bExecuteFinish</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 <span class="n">END_IF</span>
 
 <span class="o">//</span><span class="n">Reset</span> <span class="n">at</span> <span class="n">rinsing</span> <span class="n">edge</span> <span class="n">of</span> <span class="n">bExecute</span>
 <span class="n">fbExecuteRiseEdge</span><span class="p">(</span><span class="n">CLK</span><span class="p">:</span><span class="o">=</span><span class="n">bExecute</span><span class="p">);</span>
 <span class="n">IF</span> <span class="n">fbExecuteRiseEdge</span><span class="o">.</span><span class="n">Q</span> <span class="n">THEN</span>
   <span class="n">nCmdDataLocal</span><span class="p">:</span><span class="o">=</span><span class="n">nCmdData</span><span class="p">;</span> <span class="o">//</span><span class="n">Ensure</span> <span class="n">that</span> <span class="n">nCmdData</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">changed</span> <span class="n">during</span> <span class="n">sequence</span> <span class="p">(</span><span class="n">nCmdData</span> <span class="n">will</span> <span class="n">only</span> <span class="n">be</span> <span class="n">read</span> <span class="n">at</span> <span class="n">a</span> <span class="n">rising</span> <span class="n">edge</span> <span class="n">of</span> <span class="n">bExecute</span><span class="p">)</span>
   <span class="n">bSequenceReady</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
   <span class="n">bExecutePrepare</span><span class="p">:</span><span class="o">=</span><span class="n">TRUE</span><span class="p">;</span>  
   <span class="n">bRestoreNCDataNeeded</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
   <span class="o">//</span><span class="n">Check</span> <span class="k">if</span> <span class="n">valid</span> <span class="n">nCmdDataLocal</span>
   <span class="n">CASE</span> <span class="n">nCmdDataLocal</span> <span class="n">OF</span>  	
     <span class="mi">1</span><span class="p">:</span>
     <span class="mi">2</span><span class="p">:</span>
     <span class="mi">3</span><span class="p">:</span>
     <span class="mi">4</span><span class="p">:</span>
     <span class="mi">15</span><span class="p">:</span>
     <span class="n">ELSE</span> <span class="o">//</span><span class="n">nCmdData</span> <span class="ow">not</span> <span class="n">valid</span>	
       <span class="n">bError</span><span class="p">:</span><span class="o">=</span><span class="n">TRUE</span><span class="p">;</span>
       <span class="n">nErrorId</span><span class="p">:</span><span class="o">=</span><span class="mi">16</span><span class="c1">#4FFF;   </span>
   <span class="n">END_CASE</span>
 <span class="n">END_IF</span>
 
 <span class="o">//</span><span class="c1">############# Prepare for homing (Read from NC and reset homed flag)</span>
 <span class="n">fbHomePrepare</span><span class="p">(</span>
   <span class="n">En</span><span class="p">:</span><span class="o">=</span><span class="n">En</span><span class="p">,</span>
   <span class="n">bExecute</span><span class="p">:</span><span class="o">=</span><span class="n">bExecutePrepare</span> <span class="n">AND</span> <span class="n">NOT</span> <span class="n">bError</span><span class="p">,</span> <span class="o">//</span> <span class="n">Not</span> <span class="n">needed</span> <span class="k">for</span> <span class="n">sequence</span> <span class="mi">15</span> <span class="p">(</span><span class="nb">set</span> <span class="n">position</span> <span class="n">only</span><span class="p">,</span> <span class="n">no</span> <span class="n">movement</span><span class="p">))</span>
   <span class="n">bReset</span><span class="p">:</span><span class="o">=</span><span class="n">bReset</span><span class="p">,</span>
   <span class="n">Axis</span><span class="p">:</span><span class="o">=</span><span class="n">Axis</span><span class="p">,</span>
 <span class="p">);</span>
 
 <span class="o">//</span><span class="c1">############# Homing Sequences:</span>
 <span class="n">CASE</span> <span class="n">nCmdDataLocal</span> <span class="n">OF</span>  
 	
    <span class="mi">1</span><span class="p">:</span> <span class="o">//</span> <span class="n">Home</span> <span class="n">to</span> <span class="n">low</span> <span class="n">limit</span> <span class="n">switch</span>
 	   <span class="n">CASE</span> <span class="n">nHomingState</span> <span class="n">OF</span>
 		  <span class="mi">0</span><span class="p">:</span>
 		    <span class="n">bHomed</span><span class="p">:</span><span class="o">=</span><span class="n">Axis</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">Homed</span><span class="p">;</span>
             <span class="o">//</span> <span class="n">Wait</span> <span class="k">for</span> <span class="n">read</span> <span class="n">of</span> <span class="n">velocities</span> <span class="kn">from</span> <span class="nn">NC</span> <span class="ow">and</span> <span class="n">reset</span> <span class="n">of</span> <span class="n">calibration</span> <span class="n">flag</span>
 	        <span class="n">IF</span> <span class="n">fbHomePrepare</span><span class="o">.</span><span class="n">bDone</span> <span class="n">AND</span> <span class="n">bExecute</span> <span class="n">AND</span> <span class="n">NOT</span> <span class="n">bSequenceReady</span> <span class="n">THEN</span>
 			  <span class="n">bRestoreNCDataNeeded</span><span class="p">:</span><span class="o">=</span><span class="n">TRUE</span><span class="p">;</span>
 			  <span class="n">IF</span> <span class="n">bLimitBwd</span> <span class="n">THEN</span>
                 <span class="n">nHomingState</span><span class="p">:</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span>
               <span class="n">ELSE</span>
 				<span class="n">nHomingState</span><span class="p">:</span><span class="o">=</span><span class="mi">2</span><span class="p">;</span>  <span class="o">//</span><span class="n">Standing</span> <span class="n">on</span> <span class="n">limit</span> <span class="n">switch</span> <span class="n">go</span> <span class="n">direct</span> <span class="n">to</span> <span class="n">state</span> <span class="mi">2</span> 
               <span class="n">END_IF</span>                                          		  
 	        <span class="n">END_IF</span>
 		  <span class="mi">1</span><span class="p">:</span> <span class="o">//</span> <span class="n">wait</span> <span class="k">for</span> <span class="n">reach</span> <span class="n">low</span> <span class="n">limit</span> <span class="n">then</span> <span class="n">trigger</span> <span class="n">fbHomeToSwitch</span>
 		    <span class="n">bHomed</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 			<span class="n">bSequenceReady</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 			<span class="n">fbMoveVelocity</span><span class="o">.</span><span class="n">Velocity</span><span class="p">:</span><span class="o">=</span><span class="n">ABS</span><span class="p">(</span><span class="n">fbHomePrepare</span><span class="o">.</span><span class="n">fVelocityToCam</span><span class="p">);</span>
             <span class="n">fbMoveVelocity</span><span class="o">.</span><span class="n">Direction</span><span class="p">:</span><span class="o">=</span><span class="n">MC_Negative_Direction</span><span class="p">;</span>
 	        <span class="n">bExecuteMoveVelocity</span><span class="p">:</span><span class="o">=</span><span class="n">bExecute</span><span class="p">;</span>  <span class="o">//</span> <span class="n">Execute</span> <span class="n">MC_MoveVelocity</span>
 		    <span class="n">IF</span> <span class="n">NOT</span> <span class="n">bLimitBwd</span> <span class="n">AND</span> <span class="n">NOT</span> <span class="n">fbMoveVelocity</span><span class="o">.</span><span class="n">Busy</span> <span class="n">AND</span> <span class="n">Axis</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">NotMoving</span> <span class="n">THEN</span> <span class="o">//</span><span class="n">MC_MoveVelocity</span><span class="o">.</span><span class="n">Busy</span> <span class="n">goes</span> <span class="n">down</span> <span class="n">when</span> <span class="n">ramp</span> <span class="n">down</span> <span class="n">initiates</span> <span class="p">(</span><span class="ow">not</span> <span class="n">ends</span><span class="p">)</span><span class="o">.</span>
 			  <span class="n">nHomingState</span><span class="p">:</span><span class="o">=</span><span class="mi">2</span><span class="p">;</span>
 		    <span class="n">END_IF</span>
 		  <span class="mi">2</span><span class="p">:</span> <span class="o">//</span> <span class="n">Wait</span> <span class="k">for</span> <span class="n">fbHomeToSwitch</span>
 		    <span class="n">bHomed</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		    <span class="n">bSequenceReady</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
             <span class="n">bExecuteMoveVelocity</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>			
             <span class="n">bExecuteHomeToSwitch</span><span class="p">:</span><span class="o">=</span><span class="n">TRUE</span><span class="p">;</span>	
             <span class="n">fbHomeToSwitch</span><span class="o">.</span><span class="n">nSearchDirTwoardsCam</span><span class="p">:</span><span class="o">=</span><span class="n">MC_Positive_Direction</span><span class="p">;</span>
             <span class="n">fbHomeToSwitch</span><span class="o">.</span><span class="n">nSearchDirOffCam</span><span class="p">:</span><span class="o">=</span><span class="n">MC_Positive_Direction</span><span class="p">;</span>	             
 	        <span class="n">fbHomeToSwitch</span><span class="o">.</span><span class="n">fVelocityToCamNC</span><span class="p">:</span><span class="o">=</span><span class="n">fbHomePrepare</span><span class="o">.</span><span class="n">fVelocityToCam</span><span class="p">;</span> <span class="o">//</span> <span class="n">High</span> <span class="n">speed</span>
   	        <span class="n">fbHomeToSwitch</span><span class="o">.</span><span class="n">fVelocityFromCamNC</span><span class="p">:</span><span class="o">=</span><span class="n">fbHomePrepare</span><span class="o">.</span><span class="n">fVelocityFromCam</span><span class="p">;</span>  <span class="o">//</span> <span class="n">Low</span> <span class="n">speed</span>              		
 		    <span class="n">fbHomeToSwitch</span><span class="o">.</span><span class="n">bCamSensor</span><span class="p">:</span><span class="o">=</span><span class="n">NOT</span> <span class="n">bLimitBwd</span><span class="p">;</span>            	 		    
 	        <span class="n">IF</span> <span class="n">fbHomeToSwitch</span><span class="o">.</span><span class="n">bDone</span> <span class="n">THEN</span>	          
 			  <span class="n">nHomingState</span><span class="p">:</span><span class="o">=</span><span class="mi">3</span><span class="p">;</span>
 			  <span class="n">bExecuteFinish</span><span class="p">:</span><span class="o">=</span><span class="n">TRUE</span><span class="p">;</span>
 			  <span class="n">fbHomeFinish</span><span class="o">.</span><span class="n">bSofLimEnableHigh</span><span class="p">:</span><span class="o">=</span><span class="n">fbHomePrepare</span><span class="o">.</span><span class="n">bSofLimEnableHighOriginal</span><span class="p">;</span>
 			  <span class="n">fbHomeFinish</span><span class="o">.</span><span class="n">bSofLimEnableLow</span><span class="p">:</span><span class="o">=</span><span class="n">fbHomePrepare</span><span class="o">.</span><span class="n">bSofLimEnableLowOriginal</span><span class="p">;</span>
 	        <span class="n">END_IF</span><span class="p">;</span>	
           <span class="mi">3</span><span class="p">:</span> <span class="o">//</span> <span class="n">restore</span> <span class="n">softlimit</span> <span class="n">enable</span>
             <span class="n">bHomed</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		    <span class="n">bSequenceReady</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>            		            	
 	        <span class="n">IF</span> <span class="n">fbHomeFinish</span><span class="o">.</span><span class="n">bDone</span> <span class="n">THEN</span>
 			  <span class="n">bRestoreNCDataNeeded</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 	          <span class="n">bSequenceReady</span><span class="p">:</span><span class="o">=</span><span class="n">TRUE</span><span class="p">;</span>
 			  <span class="n">nHomingState</span><span class="p">:</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
 			  <span class="n">bHomed</span><span class="p">:</span><span class="o">=</span><span class="n">Axis</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">Homed</span><span class="p">;</span>
 	        <span class="n">END_IF</span><span class="p">;</span>	 
 	   <span class="n">END_CASE</span><span class="p">;</span>
 	   
    <span class="mi">2</span><span class="p">:</span> <span class="o">//</span> <span class="n">Home</span> <span class="n">to</span> <span class="n">high</span> <span class="n">limit</span> <span class="n">switch</span>
 	   <span class="n">CASE</span> <span class="n">nHomingState</span> <span class="n">OF</span>
 		  <span class="mi">0</span><span class="p">:</span>
 		    <span class="n">bHomed</span><span class="p">:</span><span class="o">=</span><span class="n">Axis</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">Homed</span><span class="p">;</span>
             <span class="o">//</span> <span class="n">Wait</span> <span class="k">for</span> <span class="n">read</span> <span class="n">of</span> <span class="n">velocities</span> <span class="kn">from</span> <span class="nn">NC</span> <span class="ow">and</span> <span class="n">reset</span> <span class="n">of</span> <span class="n">calibration</span> <span class="n">flag</span>
 	        <span class="n">IF</span> <span class="n">fbHomePrepare</span><span class="o">.</span><span class="n">bDone</span> <span class="n">AND</span> <span class="n">bExecute</span> <span class="n">AND</span> <span class="n">NOT</span> <span class="n">bSequenceReady</span> <span class="n">THEN</span>
 			  <span class="n">bRestoreNCDataNeeded</span><span class="p">:</span><span class="o">=</span><span class="n">TRUE</span><span class="p">;</span>
 			  <span class="n">IF</span> <span class="n">bLimitFwd</span> <span class="n">THEN</span>
                 <span class="n">nHomingState</span><span class="p">:</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span>
               <span class="n">ELSE</span>
 				<span class="n">nHomingState</span><span class="p">:</span><span class="o">=</span><span class="mi">2</span><span class="p">;</span>  <span class="o">//</span><span class="n">Standing</span> <span class="n">on</span> <span class="n">limit</span> <span class="n">switch</span> <span class="n">go</span> <span class="n">direct</span> <span class="n">to</span> <span class="n">state</span> <span class="mi">2</span> 
               <span class="n">END_IF</span>                                          		  
 	        <span class="n">END_IF</span>
 		  <span class="mi">1</span><span class="p">:</span> <span class="o">//</span> <span class="n">wait</span> <span class="k">for</span> <span class="n">reach</span> <span class="n">low</span> <span class="n">limit</span> <span class="n">then</span> <span class="n">trigger</span> <span class="n">fbHomeToSwitch</span>
 		    <span class="n">bHomed</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 			<span class="n">bSequenceReady</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 			<span class="n">fbMoveVelocity</span><span class="o">.</span><span class="n">Velocity</span><span class="p">:</span><span class="o">=</span><span class="n">ABS</span><span class="p">(</span><span class="n">fbHomePrepare</span><span class="o">.</span><span class="n">fVelocityToCam</span><span class="p">);</span>
             <span class="n">fbMoveVelocity</span><span class="o">.</span><span class="n">Direction</span><span class="p">:</span><span class="o">=</span><span class="n">MC_Positive_Direction</span><span class="p">;</span>
 	        <span class="n">bExecuteMoveVelocity</span><span class="p">:</span><span class="o">=</span><span class="n">bExecute</span><span class="p">;</span>  <span class="o">//</span> <span class="n">Execute</span> <span class="n">MC_MoveVelocity</span>
 		    <span class="n">IF</span> <span class="n">NOT</span> <span class="n">bLimitFwd</span> <span class="n">AND</span> <span class="n">NOT</span> <span class="n">fbMoveVelocity</span><span class="o">.</span><span class="n">Busy</span> <span class="n">AND</span> <span class="n">Axis</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">NotMoving</span> <span class="n">THEN</span> <span class="o">//</span><span class="n">MC_MoveVelocity</span><span class="o">.</span><span class="n">Busy</span> <span class="n">goes</span> <span class="n">down</span> <span class="n">when</span> <span class="n">ramp</span> <span class="n">down</span> <span class="n">initiates</span> <span class="p">(</span><span class="ow">not</span> <span class="n">ends</span><span class="p">)</span><span class="o">.</span>
 			  <span class="n">nHomingState</span><span class="p">:</span><span class="o">=</span><span class="mi">2</span><span class="p">;</span>
 		    <span class="n">END_IF</span>
 		  <span class="mi">2</span><span class="p">:</span> <span class="o">//</span> <span class="n">Wait</span> <span class="k">for</span> <span class="n">fbHomeToSwitch</span>
 		    <span class="n">bHomed</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		    <span class="n">bSequenceReady</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
             <span class="n">bExecuteMoveVelocity</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>			
             <span class="n">bExecuteHomeToSwitch</span><span class="p">:</span><span class="o">=</span><span class="n">TRUE</span><span class="p">;</span>	
             <span class="n">fbHomeToSwitch</span><span class="o">.</span><span class="n">nSearchDirTwoardsCam</span><span class="p">:</span><span class="o">=</span><span class="n">MC_Negative_Direction</span><span class="p">;</span>
             <span class="n">fbHomeToSwitch</span><span class="o">.</span><span class="n">nSearchDirOffCam</span><span class="p">:</span><span class="o">=</span><span class="n">MC_Negative_Direction</span><span class="p">;</span>	             
 	        <span class="n">fbHomeToSwitch</span><span class="o">.</span><span class="n">fVelocityToCamNC</span><span class="p">:</span><span class="o">=</span><span class="n">fbHomePrepare</span><span class="o">.</span><span class="n">fVelocityToCam</span><span class="p">;</span> <span class="o">//</span> <span class="n">High</span> <span class="n">speed</span>
   	        <span class="n">fbHomeToSwitch</span><span class="o">.</span><span class="n">fVelocityFromCamNC</span><span class="p">:</span><span class="o">=</span><span class="n">fbHomePrepare</span><span class="o">.</span><span class="n">fVelocityFromCam</span><span class="p">;</span>  <span class="o">//</span> <span class="n">Low</span> <span class="n">speed</span>              		
 		    <span class="n">fbHomeToSwitch</span><span class="o">.</span><span class="n">bCamSensor</span><span class="p">:</span><span class="o">=</span><span class="n">NOT</span> <span class="n">bLimitFwd</span><span class="p">;</span>            	 		    
 	        <span class="n">IF</span> <span class="n">fbHomeToSwitch</span><span class="o">.</span><span class="n">bDone</span> <span class="n">THEN</span>	          
 			  <span class="n">nHomingState</span><span class="p">:</span><span class="o">=</span><span class="mi">3</span><span class="p">;</span>
 			  <span class="n">bExecuteFinish</span><span class="p">:</span><span class="o">=</span><span class="n">TRUE</span><span class="p">;</span>
 			  <span class="n">fbHomeFinish</span><span class="o">.</span><span class="n">bSofLimEnableHigh</span><span class="p">:</span><span class="o">=</span><span class="n">fbHomePrepare</span><span class="o">.</span><span class="n">bSofLimEnableHighOriginal</span><span class="p">;</span>
 			  <span class="n">fbHomeFinish</span><span class="o">.</span><span class="n">bSofLimEnableLow</span><span class="p">:</span><span class="o">=</span><span class="n">fbHomePrepare</span><span class="o">.</span><span class="n">bSofLimEnableLowOriginal</span><span class="p">;</span>
 	        <span class="n">END_IF</span><span class="p">;</span>	
           <span class="mi">3</span><span class="p">:</span> <span class="o">//</span> <span class="n">restore</span> <span class="n">softlimit</span> <span class="n">enable</span>
             <span class="n">bHomed</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		    <span class="n">bSequenceReady</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>            		            	
 	        <span class="n">IF</span> <span class="n">fbHomeFinish</span><span class="o">.</span><span class="n">bDone</span> <span class="n">THEN</span>
 			  <span class="n">bRestoreNCDataNeeded</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 	          <span class="n">bSequenceReady</span><span class="p">:</span><span class="o">=</span><span class="n">TRUE</span><span class="p">;</span>
 			  <span class="n">nHomingState</span><span class="p">:</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
 			  <span class="n">bHomed</span><span class="p">:</span><span class="o">=</span><span class="n">Axis</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">Homed</span><span class="p">;</span>
 	        <span class="n">END_IF</span><span class="p">;</span>	 
 	   <span class="n">END_CASE</span><span class="p">;</span>
 	   
    <span class="mi">3</span><span class="p">:</span> <span class="o">//</span> <span class="n">Home</span> <span class="n">on</span> <span class="n">bHomeSensor</span> <span class="n">via</span> <span class="n">bLimitBwd</span>
    	   <span class="n">CASE</span> <span class="n">nHomingState</span> <span class="n">OF</span>
 		  <span class="mi">0</span><span class="p">:</span>
 		    <span class="n">bHomed</span><span class="p">:</span><span class="o">=</span><span class="n">Axis</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">Homed</span><span class="p">;</span>
             <span class="o">//</span> <span class="n">Wait</span> <span class="k">for</span> <span class="n">read</span> <span class="n">of</span> <span class="n">velocities</span> <span class="kn">from</span> <span class="nn">NC</span> <span class="ow">and</span> <span class="n">reset</span> <span class="n">of</span> <span class="n">calibration</span> <span class="n">flag</span>
 	        <span class="n">IF</span> <span class="n">fbHomePrepare</span><span class="o">.</span><span class="n">bDone</span> <span class="n">AND</span> <span class="n">bExecute</span> <span class="n">AND</span> <span class="n">NOT</span> <span class="n">bSequenceReady</span> <span class="n">THEN</span>
 			  <span class="n">bRestoreNCDataNeeded</span><span class="p">:</span><span class="o">=</span><span class="n">TRUE</span><span class="p">;</span>
 			  <span class="n">IF</span> <span class="n">bLimitBwd</span> <span class="n">THEN</span>
                 <span class="n">nHomingState</span><span class="p">:</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span>
               <span class="n">ELSE</span>
 				<span class="n">nHomingState</span><span class="p">:</span><span class="o">=</span><span class="mi">2</span><span class="p">;</span>  <span class="o">//</span><span class="n">Standing</span> <span class="n">on</span> <span class="n">limit</span> <span class="n">switch</span> <span class="n">go</span> <span class="n">direct</span> <span class="n">to</span> <span class="n">state</span> <span class="mi">2</span> 
               <span class="n">END_IF</span>                                          		  
 	        <span class="n">END_IF</span>
 		  <span class="mi">1</span><span class="p">:</span> <span class="o">//</span> <span class="n">wait</span> <span class="k">for</span> <span class="n">reach</span> <span class="n">low</span> <span class="n">limit</span> <span class="n">then</span> <span class="n">trigger</span> <span class="n">fbHomeToSwitch</span>
 		    <span class="n">bHomed</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 			<span class="n">bSequenceReady</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 			<span class="n">fbMoveVelocity</span><span class="o">.</span><span class="n">Velocity</span><span class="p">:</span><span class="o">=</span><span class="n">ABS</span><span class="p">(</span><span class="n">fbHomePrepare</span><span class="o">.</span><span class="n">fVelocityToCam</span><span class="p">);</span>
             <span class="n">fbMoveVelocity</span><span class="o">.</span><span class="n">Direction</span><span class="p">:</span><span class="o">=</span><span class="n">MC_Negative_Direction</span><span class="p">;</span>
 	        <span class="n">bExecuteMoveVelocity</span><span class="p">:</span><span class="o">=</span><span class="n">bExecute</span><span class="p">;</span>  <span class="o">//</span> <span class="n">Execute</span> <span class="n">MC_MoveVelocity</span>
 		    <span class="n">IF</span> <span class="n">NOT</span> <span class="n">bLimitBwd</span> <span class="n">AND</span> <span class="n">NOT</span> <span class="n">fbMoveVelocity</span><span class="o">.</span><span class="n">Busy</span> <span class="n">AND</span> <span class="n">Axis</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">NotMoving</span> <span class="n">THEN</span> <span class="o">//</span><span class="n">MC_MoveVelocity</span><span class="o">.</span><span class="n">Busy</span> <span class="n">goes</span> <span class="n">down</span> <span class="n">when</span> <span class="n">ramp</span> <span class="n">down</span> <span class="n">initiates</span> <span class="p">(</span><span class="ow">not</span> <span class="n">ends</span><span class="p">)</span><span class="o">.</span>
 			  <span class="n">nHomingState</span><span class="p">:</span><span class="o">=</span><span class="mi">2</span><span class="p">;</span>
 		    <span class="n">END_IF</span>
 		  <span class="mi">2</span><span class="p">:</span> <span class="o">//</span> <span class="n">Wait</span> <span class="k">for</span> <span class="n">fbHomeToSwitch</span>
 		    <span class="n">bHomed</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		    <span class="n">bSequenceReady</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
             <span class="n">bExecuteMoveVelocity</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>			
             <span class="n">bExecuteHomeToSwitch</span><span class="p">:</span><span class="o">=</span><span class="n">TRUE</span><span class="p">;</span>	
             <span class="n">fbHomeToSwitch</span><span class="o">.</span><span class="n">nSearchDirTwoardsCam</span><span class="p">:</span><span class="o">=</span><span class="n">MC_Positive_Direction</span><span class="p">;</span>
             <span class="n">fbHomeToSwitch</span><span class="o">.</span><span class="n">nSearchDirOffCam</span><span class="p">:</span><span class="o">=</span><span class="n">MC_Positive_Direction</span><span class="p">;</span>	             
 	        <span class="n">fbHomeToSwitch</span><span class="o">.</span><span class="n">fVelocityToCamNC</span><span class="p">:</span><span class="o">=</span><span class="n">fbHomePrepare</span><span class="o">.</span><span class="n">fVelocityToCam</span><span class="p">;</span> <span class="o">//</span> <span class="n">High</span> <span class="n">speed</span>
   	        <span class="n">fbHomeToSwitch</span><span class="o">.</span><span class="n">fVelocityFromCamNC</span><span class="p">:</span><span class="o">=</span><span class="n">fbHomePrepare</span><span class="o">.</span><span class="n">fVelocityFromCam</span><span class="p">;</span>  <span class="o">//</span> <span class="n">Low</span> <span class="n">speed</span>              		
 		    <span class="n">fbHomeToSwitch</span><span class="o">.</span><span class="n">bCamSensor</span><span class="p">:</span><span class="o">=</span><span class="n">bHomeSensor</span><span class="p">;</span>            	 		    
 	        <span class="n">IF</span> <span class="n">fbHomeToSwitch</span><span class="o">.</span><span class="n">bDone</span> <span class="n">THEN</span>	          
 			  <span class="n">nHomingState</span><span class="p">:</span><span class="o">=</span><span class="mi">3</span><span class="p">;</span>
 			  <span class="n">bExecuteFinish</span><span class="p">:</span><span class="o">=</span><span class="n">TRUE</span><span class="p">;</span>
 			  <span class="n">fbHomeFinish</span><span class="o">.</span><span class="n">bSofLimEnableHigh</span><span class="p">:</span><span class="o">=</span><span class="n">fbHomePrepare</span><span class="o">.</span><span class="n">bSofLimEnableHighOriginal</span><span class="p">;</span>
 			  <span class="n">fbHomeFinish</span><span class="o">.</span><span class="n">bSofLimEnableLow</span><span class="p">:</span><span class="o">=</span><span class="n">fbHomePrepare</span><span class="o">.</span><span class="n">bSofLimEnableLowOriginal</span><span class="p">;</span>
 	        <span class="n">END_IF</span><span class="p">;</span>	
           <span class="mi">3</span><span class="p">:</span> <span class="o">//</span> <span class="n">restore</span> <span class="n">softlimit</span> <span class="n">enable</span>
             <span class="n">bHomed</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		    <span class="n">bSequenceReady</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>            		            	
 	        <span class="n">IF</span> <span class="n">fbHomeFinish</span><span class="o">.</span><span class="n">bDone</span> <span class="n">THEN</span>
 		      <span class="n">bRestoreNCDataNeeded</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 	          <span class="n">bSequenceReady</span><span class="p">:</span><span class="o">=</span><span class="n">TRUE</span><span class="p">;</span>
 			  <span class="n">nHomingState</span><span class="p">:</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
 			  <span class="n">bHomed</span><span class="p">:</span><span class="o">=</span><span class="n">Axis</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">Homed</span><span class="p">;</span>
 	        <span class="n">END_IF</span><span class="p">;</span>	 
 	   <span class="n">END_CASE</span><span class="p">;</span>
 	<span class="mi">4</span><span class="p">:</span>  <span class="o">//</span> <span class="n">Home</span> <span class="n">on</span> <span class="n">bHomeSensor</span> <span class="n">via</span> <span class="n">bLimitFwd</span>	   
 	   <span class="n">CASE</span> <span class="n">nHomingState</span> <span class="n">OF</span>
 		  <span class="mi">0</span><span class="p">:</span>
 		    <span class="n">bHomed</span><span class="p">:</span><span class="o">=</span><span class="n">Axis</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">Homed</span><span class="p">;</span>
             <span class="o">//</span> <span class="n">Wait</span> <span class="k">for</span> <span class="n">read</span> <span class="n">of</span> <span class="n">velocities</span> <span class="kn">from</span> <span class="nn">NC</span> <span class="ow">and</span> <span class="n">reset</span> <span class="n">of</span> <span class="n">calibration</span> <span class="n">flag</span>
 	        <span class="n">IF</span> <span class="n">fbHomePrepare</span><span class="o">.</span><span class="n">bDone</span> <span class="n">AND</span> <span class="n">bExecute</span> <span class="n">AND</span> <span class="n">NOT</span> <span class="n">bSequenceReady</span> <span class="n">THEN</span>
 			  <span class="n">bRestoreNCDataNeeded</span><span class="p">:</span><span class="o">=</span><span class="n">TRUE</span><span class="p">;</span>
 			  <span class="n">IF</span> <span class="n">bLimitFwd</span> <span class="n">THEN</span>
                 <span class="n">nHomingState</span><span class="p">:</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span>
               <span class="n">ELSE</span>
 				<span class="n">nHomingState</span><span class="p">:</span><span class="o">=</span><span class="mi">2</span><span class="p">;</span>  <span class="o">//</span><span class="n">Standing</span> <span class="n">on</span> <span class="n">limit</span> <span class="n">switch</span> <span class="n">go</span> <span class="n">direct</span> <span class="n">to</span> <span class="n">state</span> <span class="mi">2</span> 
               <span class="n">END_IF</span>                                          		  
 	        <span class="n">END_IF</span>
 		  <span class="mi">1</span><span class="p">:</span> <span class="o">//</span> <span class="n">wait</span> <span class="k">for</span> <span class="n">reach</span> <span class="n">low</span> <span class="n">limit</span> <span class="n">then</span> <span class="n">trigger</span> <span class="n">fbHomeToSwitch</span>
 		    <span class="n">bHomed</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 			<span class="n">bSequenceReady</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 			<span class="n">fbMoveVelocity</span><span class="o">.</span><span class="n">Velocity</span><span class="p">:</span><span class="o">=</span><span class="n">ABS</span><span class="p">(</span><span class="n">fbHomePrepare</span><span class="o">.</span><span class="n">fVelocityToCam</span><span class="p">);</span>
             <span class="n">fbMoveVelocity</span><span class="o">.</span><span class="n">Direction</span><span class="p">:</span><span class="o">=</span><span class="n">MC_Positive_Direction</span><span class="p">;</span>
 	        <span class="n">bExecuteMoveVelocity</span><span class="p">:</span><span class="o">=</span><span class="n">bExecute</span><span class="p">;</span>  <span class="o">//</span> <span class="n">Execute</span> <span class="n">MC_MoveVelocity</span>
 		    <span class="n">IF</span> <span class="n">NOT</span> <span class="n">bLimitFwd</span> <span class="n">AND</span> <span class="n">NOT</span> <span class="n">fbMoveVelocity</span><span class="o">.</span><span class="n">Busy</span> <span class="n">AND</span> <span class="n">Axis</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">NotMoving</span> <span class="n">THEN</span> <span class="o">//</span><span class="n">MC_MoveVelocity</span><span class="o">.</span><span class="n">Busy</span> <span class="n">goes</span> <span class="n">down</span> <span class="n">when</span> <span class="n">ramp</span> <span class="n">down</span> <span class="n">initiates</span> <span class="p">(</span><span class="ow">not</span> <span class="n">ends</span><span class="p">)</span><span class="o">.</span>
 			  <span class="n">nHomingState</span><span class="p">:</span><span class="o">=</span><span class="mi">2</span><span class="p">;</span>
 		    <span class="n">END_IF</span>
 		  <span class="mi">2</span><span class="p">:</span> <span class="o">//</span> <span class="n">Wait</span> <span class="k">for</span> <span class="n">fbHomeToSwitch</span>
 		    <span class="n">bHomed</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		    <span class="n">bSequenceReady</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
             <span class="n">bExecuteMoveVelocity</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>			
             <span class="n">bExecuteHomeToSwitch</span><span class="p">:</span><span class="o">=</span><span class="n">TRUE</span><span class="p">;</span>	
             <span class="n">fbHomeToSwitch</span><span class="o">.</span><span class="n">nSearchDirTwoardsCam</span><span class="p">:</span><span class="o">=</span><span class="n">MC_Negative_Direction</span><span class="p">;</span>
             <span class="n">fbHomeToSwitch</span><span class="o">.</span><span class="n">nSearchDirOffCam</span><span class="p">:</span><span class="o">=</span><span class="n">MC_Negative_Direction</span><span class="p">;</span>	             
 	        <span class="n">fbHomeToSwitch</span><span class="o">.</span><span class="n">fVelocityToCamNC</span><span class="p">:</span><span class="o">=</span><span class="n">fbHomePrepare</span><span class="o">.</span><span class="n">fVelocityToCam</span><span class="p">;</span> <span class="o">//</span> <span class="n">High</span> <span class="n">speed</span>
   	        <span class="n">fbHomeToSwitch</span><span class="o">.</span><span class="n">fVelocityFromCamNC</span><span class="p">:</span><span class="o">=</span><span class="n">fbHomePrepare</span><span class="o">.</span><span class="n">fVelocityFromCam</span><span class="p">;</span>  <span class="o">//</span> <span class="n">Low</span> <span class="n">speed</span>              		
 		    <span class="n">fbHomeToSwitch</span><span class="o">.</span><span class="n">bCamSensor</span><span class="p">:</span><span class="o">=</span><span class="n">bHomeSensor</span><span class="p">;</span>            	 		    
 	        <span class="n">IF</span> <span class="n">fbHomeToSwitch</span><span class="o">.</span><span class="n">bDone</span> <span class="n">THEN</span>	          
 			  <span class="n">nHomingState</span><span class="p">:</span><span class="o">=</span><span class="mi">3</span><span class="p">;</span>
 			  <span class="n">bExecuteFinish</span><span class="p">:</span><span class="o">=</span><span class="n">TRUE</span><span class="p">;</span>
 			  <span class="n">fbHomeFinish</span><span class="o">.</span><span class="n">bSofLimEnableHigh</span><span class="p">:</span><span class="o">=</span><span class="n">fbHomePrepare</span><span class="o">.</span><span class="n">bSofLimEnableHighOriginal</span><span class="p">;</span>
 			  <span class="n">fbHomeFinish</span><span class="o">.</span><span class="n">bSofLimEnableLow</span><span class="p">:</span><span class="o">=</span><span class="n">fbHomePrepare</span><span class="o">.</span><span class="n">bSofLimEnableLowOriginal</span><span class="p">;</span>
 	        <span class="n">END_IF</span><span class="p">;</span>	
           <span class="mi">3</span><span class="p">:</span> <span class="o">//</span> <span class="n">Restore</span> <span class="n">softlimit</span> <span class="n">enable</span>
             <span class="n">bHomed</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 		    <span class="n">bSequenceReady</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>            		            	
 	        <span class="n">IF</span> <span class="n">fbHomeFinish</span><span class="o">.</span><span class="n">bDone</span> <span class="n">THEN</span>
 			  <span class="n">bRestoreNCDataNeeded</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 	          <span class="n">bSequenceReady</span><span class="p">:</span><span class="o">=</span><span class="n">TRUE</span><span class="p">;</span>
 			  <span class="n">nHomingState</span><span class="p">:</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
 			  <span class="n">bHomed</span><span class="p">:</span><span class="o">=</span><span class="n">Axis</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">Homed</span><span class="p">;</span>
 	        <span class="n">END_IF</span><span class="p">;</span>	 
 	   <span class="n">END_CASE</span><span class="p">;</span>
 		  	    
    <span class="mi">15</span><span class="p">:</span> <span class="o">//</span><span class="n">Set</span> <span class="n">current</span> <span class="n">position</span> <span class="p">(</span><span class="n">simplest</span> <span class="n">homing</span> <span class="n">sequence</span><span class="p">)</span>
      <span class="n">bExecuteHomeDirect</span><span class="p">:</span><span class="o">=</span><span class="n">bExecute</span><span class="p">;</span>
 	 <span class="n">bHomed</span><span class="p">:</span><span class="o">=</span><span class="n">Axis</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">Homed</span><span class="p">;</span>
      <span class="n">IF</span> <span class="n">fbHomeDirect</span><span class="o">.</span><span class="n">bDone</span> <span class="n">THEN</span>  <span class="o">//</span><span class="n">Homing</span> <span class="n">ready</span>				
 	   <span class="n">bExecuteHomeDirect</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>				
        <span class="n">bSequenceReady</span><span class="p">:</span><span class="o">=</span><span class="n">TRUE</span><span class="p">;</span>	
      <span class="n">END_IF</span>	 
 	 
 <span class="n">ELSE</span>
   <span class="n">fbHomeToSwitch</span><span class="o">.</span><span class="n">bCamSensor</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
   <span class="n">bHomed</span><span class="p">:</span><span class="o">=</span><span class="n">Axis</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">Homed</span><span class="p">;</span>
 <span class="n">END_CASE</span><span class="p">;</span>
 
 <span class="o">//</span> <span class="n">Main</span> <span class="n">homing</span> <span class="n">block</span>
 <span class="n">fbHomeToSwitch</span><span class="p">(</span>
 	<span class="n">bExecute</span><span class="p">:</span><span class="o">=</span><span class="n">bExecuteHomeToSwitch</span> <span class="n">AND</span> <span class="n">bExecute</span> <span class="n">AND</span> <span class="n">NOT</span> <span class="n">bError</span> <span class="n">AND</span> <span class="n">NOT</span> <span class="n">bExecuteHomeDirect</span> <span class="n">AND</span> <span class="n">NOT</span> <span class="n">bExecuteMoveVelocity</span><span class="p">,</span>
  	<span class="n">bReset</span><span class="p">:</span><span class="o">=</span><span class="n">bReset</span><span class="p">,</span>
 	<span class="n">fHomePosition</span><span class="p">:</span><span class="o">=</span><span class="n">fHomePosition</span><span class="p">,</span>
 	<span class="n">Axis</span><span class="p">:</span><span class="o">=</span><span class="n">Axis</span>
 <span class="p">);</span>
 
 <span class="o">//</span> <span class="n">Approach</span> <span class="n">limit</span> <span class="n">switch</span> <span class="p">(</span><span class="n">error</span> <span class="k">if</span> <span class="n">MC_Home</span> <span class="ow">is</span> <span class="n">used</span><span class="p">)</span>
 <span class="n">fbMoveVelocity</span><span class="p">(</span>
     <span class="n">Execute</span><span class="p">:</span><span class="o">=</span> <span class="n">bExecuteMoveVelocity</span> <span class="n">AND</span> <span class="n">bExecute</span> <span class="n">AND</span> <span class="n">NOT</span> <span class="n">bError</span> <span class="n">AND</span> <span class="n">NOT</span> <span class="n">bExecuteHomeToSwitch</span> <span class="n">AND</span> <span class="n">NOT</span> <span class="n">bExecuteHomeDirect</span><span class="p">,</span>
     <span class="n">Axis</span><span class="p">:</span><span class="o">=</span><span class="n">Axis</span>
 <span class="p">);</span>
 
 <span class="o">//</span> <span class="n">No</span> <span class="n">sequence</span><span class="p">,</span> <span class="n">just</span> <span class="nb">set</span> <span class="n">position</span> <span class="n">value</span> <span class="p">(</span><span class="n">nCmdDataLocal</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span><span class="o">.</span> <span class="n">Can</span> <span class="ow">not</span> <span class="n">run</span> <span class="k">if</span> <span class="n">fbHomeToSwitch</span> <span class="ow">is</span> <span class="n">executed</span>
 <span class="n">fbHomeDirect</span><span class="p">(</span>
 	<span class="n">bExecute</span><span class="p">:</span><span class="o">=</span><span class="n">bExecuteHomeDirect</span> <span class="n">AND</span> <span class="n">bExecute</span> <span class="n">AND</span> <span class="n">NOT</span> <span class="n">bError</span>  <span class="n">AND</span> <span class="n">NOT</span> <span class="n">bExecuteHomeToSwitch</span> <span class="n">AND</span> <span class="n">NOT</span> <span class="n">bExecuteMoveVelocity</span><span class="p">,</span>
  	<span class="n">bReset</span><span class="p">:</span><span class="o">=</span><span class="n">bReset</span><span class="p">,</span>
 	<span class="n">fHomePosition</span><span class="p">:</span><span class="o">=</span><span class="n">fHomePosition</span><span class="p">,</span>
 	<span class="n">Axis</span><span class="p">:</span><span class="o">=</span><span class="n">Axis</span>
 <span class="p">);</span>
 
  
 <span class="o">//</span><span class="c1">############# Finish homing</span>
 
 <span class="n">IF</span> <span class="n">NOT</span> <span class="n">bexecute</span> <span class="n">AND</span> <span class="n">bRestoreNCDataNeeded</span> <span class="n">THEN</span>  <span class="o">//</span><span class="n">If</span> <span class="n">homing</span> <span class="ow">is</span> <span class="n">aborted</span> <span class="n">restore</span> <span class="ow">is</span> <span class="n">needed</span>
 	<span class="n">bExecuteFinish</span><span class="p">:</span><span class="o">=</span><span class="n">TRUE</span><span class="p">;</span>
 	<span class="n">IF</span> <span class="n">fbHomeFinish</span><span class="o">.</span><span class="n">bDone</span> <span class="n">THEN</span>
 	  <span class="n">bExecuteFinish</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
       <span class="n">bRestoreNCDataNeeded</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>	
 	<span class="n">END_IF</span>
 <span class="n">END_IF</span>
 
 <span class="n">fbHomeFinish</span><span class="p">(</span>
   <span class="n">En</span><span class="p">:</span><span class="o">=</span><span class="n">En</span><span class="p">,</span>
   <span class="n">bExecute</span><span class="p">:</span><span class="o">=</span><span class="n">bExecuteFinish</span><span class="p">,</span>
   <span class="n">bReset</span><span class="p">:</span><span class="o">=</span><span class="n">bReset</span><span class="p">,</span>
   <span class="n">Axis</span><span class="p">:</span><span class="o">=</span><span class="n">Axis</span><span class="p">,</span>
 <span class="p">);</span>
 
 <span class="o">//</span> <span class="n">Error</span> <span class="n">handling</span>
 <span class="n">IF</span> <span class="n">NOT</span> <span class="n">bError</span> <span class="n">THEN</span>
   <span class="n">IF</span> <span class="n">fbHomeToSwitch</span><span class="o">.</span><span class="n">bError</span> <span class="n">THEN</span> 
 	<span class="n">bError</span><span class="p">:</span><span class="o">=</span><span class="n">fbHomeToSwitch</span><span class="o">.</span><span class="n">bError</span><span class="p">;</span>
 	<span class="n">nErrorId</span><span class="p">:</span><span class="o">=</span><span class="n">fbHomeToSwitch</span><span class="o">.</span><span class="n">nErrorId</span><span class="p">;</span>
   <span class="n">ELSIF</span> <span class="n">fbHomeDirect</span><span class="o">.</span><span class="n">bError</span> <span class="n">THEN</span>
 	<span class="n">bError</span><span class="p">:</span><span class="o">=</span><span class="n">fbHomeDirect</span><span class="o">.</span><span class="n">bError</span><span class="p">;</span>
 	<span class="n">nErrorId</span><span class="p">:</span><span class="o">=</span><span class="n">fbHomeDirect</span><span class="o">.</span><span class="n">nErrorId</span><span class="p">;</span>
   <span class="n">ELSIF</span> <span class="n">fbMoveVelocity</span><span class="o">.</span><span class="n">Error</span> <span class="n">THEN</span>
 	<span class="n">bError</span><span class="p">:</span><span class="o">=</span><span class="n">fbMoveVelocity</span><span class="o">.</span><span class="n">Error</span><span class="p">;</span>
 	<span class="n">nErrorId</span><span class="p">:</span><span class="o">=</span><span class="n">fbMoveVelocity</span><span class="o">.</span><span class="n">ErrorId</span><span class="p">;</span>    		    		
   <span class="n">END_IF</span><span class="p">;</span>	
 <span class="n">END_IF</span>
 
 <span class="o">//</span> <span class="n">Done</span> <span class="ow">and</span> <span class="n">busy</span> <span class="n">bit</span>
 <span class="n">bDone</span><span class="p">:</span><span class="o">=</span><span class="n">bSequenceReady</span> <span class="n">AND</span> <span class="n">bExecute</span><span class="p">;</span>
 <span class="n">bBusy</span><span class="p">:</span><span class="o">=</span><span class="n">NOT</span> <span class="n">bSequenceReady</span><span class="p">;</span>	 
 
 <span class="n">RETURN</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-motion-homing-fb-homewritencvelocities-tcpou-tcplcobject">
<h2>tc_mca_std_lib/POUs/Motion/Homing/FB_HomeWriteNcVelocities.TcPOU (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-motion-homing-fb-homewritencvelocities-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">FB_HomeWriteNcVelocities</span><span class="p">:</span> <span class="n">Declaration</span>

 <span class="n">FUNCTION_BLOCK</span> <span class="n">FB_HomeWriteNcVelocities</span>
 <span class="n">VAR_INPUT</span>
 	<span class="n">En</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bReset</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
     <span class="n">bExecute</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>		
 	<span class="n">fVelocityToCam</span><span class="p">:</span> <span class="n">LREAL</span><span class="p">;</span>
 	<span class="n">fVelocityFromCam</span><span class="p">:</span> <span class="n">LREAL</span><span class="p">;</span>	
 <span class="n">END_VAR</span>
 <span class="n">VAR_IN_OUT</span>
 	<span class="n">Axis</span><span class="p">:</span> <span class="n">AXIS_REF</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 <span class="n">VAR_OUTPUT</span>
 	<span class="n">EnO</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>	
 	<span class="n">bBusy</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDone</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bError</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">nErrorId</span><span class="p">:</span> <span class="n">UDINT</span><span class="p">;</span>	
 <span class="n">END_VAR</span>
 <span class="n">VAR</span>
 	<span class="n">fbExecuteRiseEdge</span><span class="p">:</span> <span class="n">R_TRIG</span><span class="p">;</span>
 	<span class="n">fbWriteVelocityToCam</span><span class="p">:</span><span class="n">FB_WriteFloatParameter</span><span class="p">;</span>
 	<span class="n">fbWriteVelocityFromCam</span><span class="p">:</span><span class="n">FB_WriteFloatParameter</span><span class="p">;</span>
 <span class="n">END_VAR</span>

<span class="o">-</span> <span class="n">FB_HomeWriteNcVelocities</span><span class="p">:</span> <span class="n">ST</span>

 <span class="n">En</span><span class="p">:</span><span class="o">=</span><span class="n">EnO</span><span class="p">;</span>
 <span class="n">IF</span> <span class="n">bReset</span> <span class="n">THEN</span>
 	<span class="n">bError</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 	<span class="n">nErrorId</span><span class="p">:</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
 <span class="n">END_IF</span> 
 
 <span class="n">fbExecuteRiseEdge</span><span class="p">(</span><span class="n">CLK</span><span class="p">:</span><span class="o">=</span><span class="n">bExecute</span><span class="p">);</span>
 
 <span class="n">fbWriteVelocityToCam</span><span class="p">(</span>
 	<span class="n">bExecute</span><span class="p">:</span><span class="o">=</span><span class="n">bExecute</span><span class="p">,</span>
 	<span class="n">nDeviceGroup</span><span class="p">:</span><span class="o">=</span> <span class="mi">16</span><span class="c1">#4000,</span>
 	<span class="n">nIndexOffset</span><span class="p">:</span><span class="o">=</span> <span class="mi">16</span><span class="c1">#6,</span>
 	<span class="n">nData</span><span class="p">:</span><span class="o">=</span><span class="n">fVelocityToCam</span><span class="p">,</span>
 	<span class="n">Axis</span><span class="p">:</span><span class="o">=</span> <span class="n">Axis</span><span class="p">);</span>
 	
 <span class="n">fbWriteVelocityFromCam</span><span class="p">(</span>
 	<span class="n">bExecute</span><span class="p">:</span><span class="o">=</span><span class="n">bExecute</span><span class="p">,</span>
 	<span class="n">nDeviceGroup</span><span class="p">:</span><span class="o">=</span> <span class="mi">16</span><span class="c1">#4000,</span>
 	<span class="n">nIndexOffset</span><span class="p">:</span><span class="o">=</span> <span class="mi">16</span><span class="c1">#7,</span>
 	<span class="n">nData</span><span class="p">:</span><span class="o">=</span><span class="n">fVelocityFromCam</span><span class="p">,</span>
 	<span class="n">Axis</span><span class="p">:</span><span class="o">=</span> <span class="n">Axis</span><span class="p">);</span>
 
 <span class="n">bBusy</span><span class="p">:</span><span class="o">=</span><span class="n">fbWriteVelocityFromCam</span><span class="o">.</span><span class="n">bBusy</span> <span class="n">OR</span> <span class="n">fbWriteVelocityToCam</span><span class="o">.</span><span class="n">bBusy</span><span class="p">;</span>
 <span class="n">bDone</span><span class="p">:</span><span class="o">=</span><span class="n">fbWriteVelocityFromCam</span><span class="o">.</span><span class="n">bDone</span> <span class="n">AND</span> <span class="n">fbWriteVelocityToCam</span><span class="o">.</span><span class="n">bDone</span> <span class="n">AND</span> <span class="n">bExecute</span><span class="p">;</span>
 
 <span class="n">bError</span><span class="p">:</span><span class="o">=</span><span class="n">fbWriteVelocityToCam</span><span class="o">.</span><span class="n">bError</span> <span class="n">OR</span> <span class="n">fbWriteVelocityFromCam</span><span class="o">.</span><span class="n">bError</span><span class="p">;</span>
 <span class="n">IF</span> <span class="n">fbWriteVelocityToCam</span><span class="o">.</span><span class="n">bError</span> <span class="n">THEN</span>
   <span class="n">nErrorId</span><span class="p">:</span><span class="o">=</span><span class="n">fbWriteVelocityToCam</span><span class="o">.</span><span class="n">nErrorId</span><span class="p">;</span>
 <span class="n">ELSIF</span> <span class="n">fbWriteVelocityFromCam</span><span class="o">.</span><span class="n">bError</span> <span class="n">THEN</span>
   <span class="n">nErrorId</span><span class="p">:</span><span class="o">=</span><span class="n">fbWriteVelocityFromCam</span><span class="o">.</span><span class="n">nErrorId</span><span class="p">;</span>
 <span class="n">END_IF</span>
</pre></div>
</div>
</div>
<div class="section" id="tc-mca-std-lib-pous-motion-homing-fb-homewritesoftlimenable-tcpou-tcplcobject">
<h2>tc_mca_std_lib/POUs/Motion/Homing/FB_HomeWriteSoftLimEnable.TcPOU (TcPlcObject)<a class="headerlink" href="#tc-mca-std-lib-pous-motion-homing-fb-homewritesoftlimenable-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">FB_HomeWriteSoftLimEnable</span><span class="p">:</span> <span class="n">Declaration</span>

 <span class="n">FUNCTION_BLOCK</span> <span class="n">FB_HomeWriteSoftLimEnable</span>
 <span class="n">VAR_INPUT</span>
 	<span class="n">En</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bReset</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
     <span class="n">bExecute</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>		
 	<span class="n">bSofLimEnableLow</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">:</span><span class="o">=</span><span class="n">TRUE</span><span class="p">;</span>
 	<span class="n">bSofLimEnableHigh</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">:</span><span class="o">=</span><span class="n">TRUE</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 <span class="n">VAR_IN_OUT</span>
 	<span class="n">Axis</span><span class="p">:</span> <span class="n">AXIS_REF</span><span class="p">;</span>
 <span class="n">END_VAR</span>
 <span class="n">VAR_OUTPUT</span>
 	<span class="n">EnO</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>	
 	<span class="n">bBusy</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bDone</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bError</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">nErrorId</span><span class="p">:</span> <span class="n">UDINT</span><span class="p">;</span>	
 <span class="n">END_VAR</span>
 <span class="n">VAR</span>
 	<span class="n">fbExecuteRiseEdge</span><span class="p">:</span> <span class="n">R_TRIG</span><span class="p">;</span>
 	<span class="n">fbWriteSoftLimEnableLow</span><span class="p">:</span><span class="n">FB_WriteParameterInNc_v1_00</span><span class="p">;</span>
 	<span class="n">fbWriteSoftLimEnableHigh</span><span class="p">:</span><span class="n">FB_WriteParameterInNc_v1_00</span><span class="p">;</span>
 <span class="n">END_VAR</span>

<span class="o">-</span> <span class="n">FB_HomeWriteSoftLimEnable</span><span class="p">:</span> <span class="n">ST</span>

 <span class="n">En</span><span class="p">:</span><span class="o">=</span><span class="n">EnO</span><span class="p">;</span>
 <span class="n">IF</span> <span class="n">bReset</span> <span class="n">THEN</span>
 	<span class="n">bError</span><span class="p">:</span><span class="o">=</span><span class="n">FALSE</span><span class="p">;</span>
 	<span class="n">nErrorId</span><span class="p">:</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
 <span class="n">END_IF</span> 
 
 <span class="n">fbExecuteRiseEdge</span><span class="p">(</span><span class="n">CLK</span><span class="p">:</span><span class="o">=</span><span class="n">bExecute</span><span class="p">);</span>
 
 <span class="n">fbWriteSoftLimEnableLow</span><span class="p">(</span>
 	<span class="n">bExecute</span><span class="p">:</span><span class="o">=</span><span class="n">bExecute</span><span class="p">,</span>
 	<span class="n">nDeviceGroup</span><span class="p">:</span><span class="o">=</span> <span class="mi">16</span><span class="c1">#5000,</span>
 	<span class="n">nIndexOffset</span><span class="p">:</span><span class="o">=</span> <span class="mi">16</span><span class="c1">#B,</span>
 	<span class="n">nData</span><span class="p">:</span><span class="o">=</span><span class="n">BOOL_TO_DWORD</span><span class="p">(</span><span class="n">bSofLimEnableLow</span><span class="p">),</span>
 	<span class="n">Axis</span><span class="p">:</span><span class="o">=</span> <span class="n">Axis</span><span class="p">);</span>
 	
 <span class="n">fbWriteSoftLimEnableHigh</span><span class="p">(</span>
 	<span class="n">bExecute</span><span class="p">:</span><span class="o">=</span><span class="n">bExecute</span><span class="p">,</span>
 	<span class="n">nDeviceGroup</span><span class="p">:</span><span class="o">=</span> <span class="mi">16</span><span class="c1">#5000,</span>
 	<span class="n">nIndexOffset</span><span class="p">:</span><span class="o">=</span> <span class="mi">16</span><span class="c1">#C,</span>
 	<span class="n">nData</span><span class="p">:</span><span class="o">=</span><span class="n">BOOL_TO_DWORD</span><span class="p">(</span><span class="n">bSofLimEnableHigh</span><span class="p">),</span>
 	<span class="n">Axis</span><span class="p">:</span><span class="o">=</span> <span class="n">Axis</span><span class="p">);</span>
 
 <span class="n">bBusy</span><span class="p">:</span><span class="o">=</span><span class="n">fbWriteSoftLimEnableLow</span><span class="o">.</span><span class="n">bBusy</span> <span class="n">OR</span> <span class="n">fbWriteSoftLimEnableHigh</span><span class="o">.</span><span class="n">bBusy</span><span class="p">;</span>
 <span class="n">bDone</span><span class="p">:</span><span class="o">=</span><span class="n">fbWriteSoftLimEnableLow</span><span class="o">.</span><span class="n">bDone</span> <span class="n">AND</span> <span class="n">fbWriteSoftLimEnableHigh</span><span class="o">.</span><span class="n">bDone</span> <span class="n">AND</span> <span class="n">bExecute</span><span class="p">;</span>
 
 <span class="n">bError</span><span class="p">:</span><span class="o">=</span><span class="n">fbWriteSoftLimEnableHigh</span><span class="o">.</span><span class="n">bError</span> <span class="n">OR</span> <span class="n">fbWriteSoftLimEnableLow</span><span class="o">.</span><span class="n">bError</span><span class="p">;</span>
 <span class="n">IF</span> <span class="n">fbWriteSoftLimEnableHigh</span><span class="o">.</span><span class="n">bError</span> <span class="n">THEN</span>
   <span class="n">nErrorId</span><span class="p">:</span><span class="o">=</span><span class="n">fbWriteSoftLimEnableHigh</span><span class="o">.</span><span class="n">nErrorId</span><span class="p">;</span>
 <span class="n">ELSIF</span> <span class="n">fbWriteSoftLimEnableLow</span><span class="o">.</span><span class="n">bError</span> <span class="n">THEN</span>
   <span class="n">nErrorId</span><span class="p">:</span><span class="o">=</span><span class="n">fbWriteSoftLimEnableLow</span><span class="o">.</span><span class="n">nErrorId</span><span class="p">;</span>
 <span class="n">END_IF</span>
</pre></div>
</div>
</div>
<div class="section" id="unittests-interactive-tcpou-tcplcobject">
<h2>UnitTests/Interactive.TcPOU (TcPlcObject)<a class="headerlink" href="#unittests-interactive-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">Interactive</span><span class="p">:</span> <span class="n">Declaration</span>

 <span class="n">PROGRAM</span> <span class="n">Interactive</span>
 <span class="n">VAR</span>
 	<span class="n">M1</span><span class="p">:</span> <span class="n">DUT_MotionStage</span><span class="p">;</span>
 	<span class="n">fbMotionStage</span><span class="p">:</span> <span class="n">FB_MotionStage</span><span class="p">;</span>
 	<span class="n">nCounter</span><span class="p">:</span> <span class="n">UINT</span><span class="p">;</span>
 	
 	<span class="n">stOut</span><span class="p">:</span> <span class="n">DUT_PositionState</span><span class="p">;</span>
 	<span class="n">fbGoOut</span><span class="p">:</span> <span class="n">FB_StatePTPMove</span><span class="p">;</span>
 	<span class="n">bOut</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bGoOut</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">stIn</span><span class="p">:</span> <span class="n">DUT_PositionState</span><span class="p">;</span>
 	<span class="n">fbGoIn</span><span class="p">:</span> <span class="n">FB_StatePTPMove</span><span class="p">;</span>
 	<span class="n">bIn</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bGoIn</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">stUnsafe</span><span class="p">:</span> <span class="n">DUT_PositionState</span><span class="p">;</span>
 	<span class="n">fbGoBad</span><span class="p">:</span> <span class="n">FB_StatePTPMove</span><span class="p">;</span>
 	<span class="n">bHCF</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 	<span class="n">bGoHCF</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
 <span class="n">END_VAR</span>

<span class="o">-</span> <span class="n">Interactive</span><span class="p">:</span> <span class="n">ST</span>

 <span class="n">M1</span><span class="o">.</span><span class="n">bPowerSelf</span> <span class="p">:</span><span class="o">=</span> <span class="n">TRUE</span><span class="p">;</span>
 <span class="n">M1</span><span class="o">.</span><span class="n">bLimitBackwardEnable</span> <span class="p">:</span><span class="o">=</span> <span class="n">TRUE</span><span class="p">;</span>
 <span class="n">M1</span><span class="o">.</span><span class="n">bLimitForwardEnable</span> <span class="p">:</span><span class="o">=</span> <span class="n">TRUE</span><span class="p">;</span>
 <span class="n">fbMotionStage</span><span class="p">(</span><span class="n">stMotionStage</span><span class="p">:</span><span class="o">=</span><span class="n">M1</span><span class="p">);</span>
 <span class="n">nCounter</span> <span class="p">:</span><span class="o">=</span> <span class="n">nCounter</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
 
 <span class="n">stOut</span><span class="o">.</span><span class="n">sName</span> <span class="p">:</span><span class="o">=</span> <span class="s1">&#39;Out&#39;</span><span class="p">;</span>
 <span class="n">stOut</span><span class="o">.</span><span class="n">fPosition</span> <span class="p">:</span><span class="o">=</span> <span class="mi">100</span><span class="p">;</span>
 <span class="n">stOut</span><span class="o">.</span><span class="n">fDelta</span> <span class="p">:</span><span class="o">=</span> <span class="mi">20</span><span class="p">;</span>
 <span class="n">stOut</span><span class="o">.</span><span class="n">fVelocity</span> <span class="p">:</span><span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
 
 <span class="n">stIn</span><span class="o">.</span><span class="n">sName</span> <span class="p">:</span><span class="o">=</span> <span class="s1">&#39;In&#39;</span><span class="p">;</span>
 <span class="n">stIn</span><span class="o">.</span><span class="n">fPosition</span> <span class="p">:</span><span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
 <span class="n">stIn</span><span class="o">.</span><span class="n">fDelta</span> <span class="p">:</span><span class="o">=</span> <span class="mf">0.1</span><span class="p">;</span>
 <span class="n">stIn</span><span class="o">.</span><span class="n">fVelocity</span> <span class="p">:</span><span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
 
 <span class="n">stUnsafe</span><span class="o">.</span><span class="n">sName</span> <span class="p">:</span><span class="o">=</span> <span class="s1">&#39;HCF&#39;</span><span class="p">;</span>
 <span class="n">stUnsafe</span><span class="o">.</span><span class="n">fPosition</span> <span class="p">:</span><span class="o">=</span> <span class="o">-</span><span class="mi">999</span><span class="p">;</span>
 <span class="n">stUnsafe</span><span class="o">.</span><span class="n">fDelta</span> <span class="p">:</span><span class="o">=</span> <span class="mi">6</span><span class="p">;</span>
 <span class="n">stUnsafe</span><span class="o">.</span><span class="n">fVelocity</span> <span class="p">:</span><span class="o">=</span> <span class="mi">42</span><span class="p">;</span>
 
 <span class="n">fbGoOut</span><span class="p">(</span>
 	<span class="n">bExecute</span><span class="p">:</span><span class="o">=</span><span class="n">bGoOut</span><span class="p">,</span>
 	<span class="n">stMotionStage</span><span class="p">:</span><span class="o">=</span><span class="n">M1</span><span class="p">,</span>
 	<span class="n">stPositionState</span><span class="p">:</span><span class="o">=</span><span class="n">stOut</span><span class="p">,</span>
 	<span class="n">bMoveOk</span><span class="p">:</span><span class="o">=</span><span class="n">TRUE</span><span class="p">,</span>
 	<span class="n">bAtState</span><span class="o">=&gt;</span><span class="n">bOut</span><span class="p">);</span>
 <span class="n">fbGoIn</span><span class="p">(</span>
 	<span class="n">bExecute</span><span class="p">:</span><span class="o">=</span><span class="n">bGoIn</span><span class="p">,</span>
 	<span class="n">stMotionStage</span><span class="p">:</span><span class="o">=</span><span class="n">M1</span><span class="p">,</span>
 	<span class="n">stPositionState</span><span class="p">:</span><span class="o">=</span><span class="n">stIn</span><span class="p">,</span>
 	<span class="n">bMoveOk</span><span class="p">:</span><span class="o">=</span><span class="n">TRUE</span><span class="p">,</span>
 	<span class="n">bAtState</span><span class="o">=&gt;</span><span class="n">bIn</span><span class="p">);</span>
 <span class="n">fbGoBad</span><span class="p">(</span>
 	<span class="n">bExecute</span><span class="p">:</span><span class="o">=</span><span class="n">bGoHCF</span><span class="p">,</span>
 	<span class="n">stMotionStage</span><span class="p">:</span><span class="o">=</span><span class="n">M1</span><span class="p">,</span>
 	<span class="n">stPositionState</span><span class="p">:</span><span class="o">=</span><span class="n">stUnsafe</span><span class="p">,</span>
 	<span class="n">bAtState</span><span class="o">=&gt;</span><span class="n">bHCF</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="version-global-version-tcgvl-tcplcobject">
<h2>Version/Global_Version.TcGVL (TcPlcObject)<a class="headerlink" href="#version-global-version-tcgvl-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">Global_Version</span><span class="p">:</span> <span class="n">Declaration</span>

 <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcGenerated&#39;</span><span class="p">}</span>
 <span class="o">//</span> <span class="n">This</span> <span class="n">function</span> <span class="n">has</span> <span class="n">been</span> <span class="n">automatically</span> <span class="n">generated</span> <span class="kn">from</span> <span class="nn">the</span> <span class="n">project</span> <span class="n">information</span><span class="o">.</span>
 <span class="n">VAR_GLOBAL</span> <span class="n">CONSTANT</span>
 	<span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;const_non_replaced&#39;</span><span class="p">}</span>
 	<span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;linkalways&#39;</span><span class="p">}</span>
 	<span class="n">stLibVersion_lcls_twincat_motion</span> <span class="p">:</span> <span class="n">ST_LibVersion</span> <span class="p">:</span><span class="o">=</span> <span class="p">(</span><span class="n">iMajor</span> <span class="p">:</span><span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">iMinor</span> <span class="p">:</span><span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">iBuild</span> <span class="p">:</span><span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">iRevision</span> <span class="p">:</span><span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">sVersion</span> <span class="p">:</span><span class="o">=</span> <span class="s1">&#39;0.0.0&#39;</span><span class="p">);</span>
 <span class="n">END_VAR</span>
</pre></div>
</div>
</div>
<div class="section" id="symbols">
<h2>Symbols<a class="headerlink" href="#symbols" title="Permalink to this headline">Â¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Constants</span><span class="o">.</span><span class="n">CompilerVersion</span> <span class="p">:</span> <span class="n">VERSION</span> <span class="p">(</span><span class="mi">4529696</span> <span class="mi">64</span><span class="p">)</span>
<span class="n">Constants</span><span class="o">.</span><span class="n">CompilerVersionNumeric</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4529856</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Constants</span><span class="o">.</span><span class="n">RuntimeVersion</span> <span class="p">:</span> <span class="n">VERSION</span> <span class="p">(</span><span class="mi">4529632</span> <span class="mi">64</span><span class="p">)</span>
<span class="n">Constants</span><span class="o">.</span><span class="n">RuntimeVersionNumeric</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4529824</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Constants</span><span class="o">.</span><span class="n">bFPUSupport</span> <span class="p">:</span> <span class="n">BOOL</span> <span class="p">(</span><span class="mi">4529792</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Constants</span><span class="o">.</span><span class="n">bLittleEndian</span> <span class="p">:</span> <span class="n">BOOL</span> <span class="p">(</span><span class="mi">4529616</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Constants</span><span class="o">.</span><span class="n">bSimulationMode</span> <span class="p">:</span> <span class="n">BOOL</span> <span class="p">(</span><span class="mi">4529624</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Constants</span><span class="o">.</span><span class="n">nPackMode</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4529776</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Constants</span><span class="o">.</span><span class="n">nRegisterSize</span> <span class="p">:</span> <span class="n">WORD</span> <span class="p">(</span><span class="mi">4529760</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">GVL</span><span class="o">.</span><span class="n">nHomingError</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4529568</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">GVL_ErrorSystem</span><span class="o">.</span><span class="n">cSizeOfErrorData</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4529600</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_DEVICE_DATA</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097664</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_IOIMAGE_CLEARI</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097568</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_IOIMAGE_CLEARO</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097600</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_IOIMAGE_RISIZE</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097440</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_IOIMAGE_ROSIZE</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097536</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_IOIMAGE_RWIB</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097376</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_IOIMAGE_RWIOB</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097632</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_IOIMAGE_RWIX</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097408</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_IOIMAGE_RWOB</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097472</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_IOIMAGE_RWOX</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097504</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_SYMNAME</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4096960</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_SYMNOTE</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097344</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_SYMTAB</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4096928</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_SYMVAL</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4096992</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_SYM_DOWNLOAD</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097248</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_SYM_HNDBYNAME</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097024</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_SYM_INFOBYNAME</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097152</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_SYM_INFOBYNAMEEX</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097216</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_SYM_RELEASEHND</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097120</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_SYM_UPLOAD</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097280</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_SYM_UPLOADINFO</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097312</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_SYM_VALBYHND</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097088</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_SYM_VALBYNAME</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097056</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_SYM_VERSION</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097184</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIOFFS_DEVDATA_ADSSTATE</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097696</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIOFFS_DEVDATA_DEVSTATE</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097728</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSLOG_MSGTYPE_ERROR</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4098784</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSLOG_MSGTYPE_HINT</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4098720</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSLOG_MSGTYPE_LOG</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4098816</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSLOG_MSGTYPE_MSGBOX</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4098848</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSLOG_MSGTYPE_RESOURCE</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4098880</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSLOG_MSGTYPE_STRING</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4098912</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSLOG_MSGTYPE_WARN</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4098752</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSSTATE_CONFIG</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096832</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSSTATE_ERROR</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096768</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSSTATE_EXCEPTION</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096896</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSSTATE_IDLE</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096608</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSSTATE_INCOMPATIBLE</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096880</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSSTATE_INIT</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096640</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSSTATE_INVALID</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096592</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSSTATE_LOADCFG</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096720</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSSTATE_MAXSTATES</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096912</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSSTATE_POWERFAILURE</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096736</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSSTATE_POWERGOOD</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096752</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSSTATE_RECONFIG</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096848</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSSTATE_RESET</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096624</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSSTATE_RESUME</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096816</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSSTATE_RUN</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096672</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSSTATE_SAVECFG</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096704</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSSTATE_SHUTDOWN</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096784</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSSTATE_START</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096656</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSSTATE_STOP</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096688</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSSTATE_STOPPING</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096864</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSSTATE_SUSPEND</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096800</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSLOGGER_IGR_GENERAL</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4164544</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSLOGGER_IOF_MODE</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4164576</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSPORT_AMSLOGGER</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4163280</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSPORT_EVENTLOG</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096304</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSPORT_LOGGER</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096288</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSPORT_R0_CAM</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096528</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSPORT_R0_CAMTOOL</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096544</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSPORT_R0_CNC</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096416</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSPORT_R0_IO</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096336</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSPORT_R0_ISG</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096400</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSPORT_R0_LINE</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096432</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSPORT_R0_NC</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096352</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSPORT_R0_NCSAF</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096368</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSPORT_R0_NCSVB</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096384</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSPORT_R0_PLC</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096448</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSPORT_R0_PLC_RTS1</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096464</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSPORT_R0_PLC_RTS2</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096480</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSPORT_R0_PLC_RTS3</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096496</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSPORT_R0_PLC_RTS4</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096512</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSPORT_R0_RTIME</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096320</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSPORT_R3_SCOPESERVER</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096576</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSPORT_R3_SYSSERV</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096560</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">BOOTDATAFLAGS_PERSISTENT_INVALID</span> <span class="p">:</span> <span class="n">BYTE</span> <span class="p">(</span><span class="mi">4098976</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">BOOTDATAFLAGS_PERSISTENT_LOADED</span> <span class="p">:</span> <span class="n">BYTE</span> <span class="p">(</span><span class="mi">4098968</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">BOOTDATAFLAGS_RETAIN_INVALID</span> <span class="p">:</span> <span class="n">BYTE</span> <span class="p">(</span><span class="mi">4098952</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">BOOTDATAFLAGS_RETAIN_LOADED</span> <span class="p">:</span> <span class="n">BYTE</span> <span class="p">(</span><span class="mi">4098944</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">BOOTDATAFLAGS_RETAIN_REQUESTED</span> <span class="p">:</span> <span class="n">BYTE</span> <span class="p">(</span><span class="mi">4098960</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">DATE_AND_TIME_SECPERDAY</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4177536</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">DATE_AND_TIME_SECPERWEEK</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4177568</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">DBG_OUTPUT_FILE</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4183840</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">DBG_OUTPUT_LOG</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4183808</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">DBG_OUTPUT_NONE</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4183776</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">DBG_OUTPUT_VISU</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4183872</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">DEFAULT_ADS_TIMEOUT</span> <span class="p">:</span> <span class="n">TIME</span> <span class="p">(</span><span class="mi">4099712</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">DEFAULT_BACKLASHVALUE</span> <span class="p">:</span> <span class="n">LREAL</span> <span class="p">(</span><span class="mi">4313088</span> <span class="mi">64</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">DEFAULT_CSV_FIELD_DOUBLE_QUOTE</span> <span class="p">:</span> <span class="n">BYTE</span> <span class="p">(</span><span class="mi">4303568</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">DEFAULT_CSV_FIELD_SEP</span> <span class="p">:</span> <span class="n">BYTE</span> <span class="p">(</span><span class="mi">4101272</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">DEFAULT_CSV_RECORD_SEP_CR</span> <span class="p">:</span> <span class="n">BYTE</span> <span class="p">(</span><span class="mi">4303576</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">DEFAULT_CSV_RECORD_SEP_LF</span> <span class="p">:</span> <span class="n">BYTE</span> <span class="p">(</span><span class="mi">4303584</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">DEFAULT_HOME_POSITION</span> <span class="p">:</span> <span class="n">LREAL</span> <span class="p">(</span><span class="mi">4313024</span> <span class="mi">64</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">EMPTY_ARG_VALUE</span> <span class="p">:</span> <span class="n">Tc2_Utilities</span><span class="o">.</span><span class="n">T_Arg</span> <span class="p">(</span><span class="mi">4165184</span> <span class="mi">128</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">EMPTY_GUID_REGSTRING</span> <span class="p">:</span> <span class="n">STRING</span><span class="p">(</span><span class="mi">38</span><span class="p">)</span> <span class="p">(</span><span class="mi">4305736</span> <span class="mi">312</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">EMPTY_GUID_STRING</span> <span class="p">:</span> <span class="n">STRING</span><span class="p">(</span><span class="mi">36</span><span class="p">)</span> <span class="p">(</span><span class="mi">4305440</span> <span class="mi">296</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">EMPTY_GUID_STRUCT</span> <span class="p">:</span> <span class="n">GUID</span> <span class="p">(</span><span class="mi">4305312</span> <span class="mi">128</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">EMPTY_ROUTE_ENTRY</span> <span class="p">:</span> <span class="n">Tc2_Utilities</span><span class="o">.</span><span class="n">ST_AmsRouteEntry</span> <span class="p">(</span><span class="mi">4163296</span> <span class="mi">1184</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FLOATREC_EXP_IS_INF</span> <span class="p">:</span> <span class="n">INT</span> <span class="p">(</span><span class="mi">4164640</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FLOATREC_EXP_IS_NAN</span> <span class="p">:</span> <span class="n">INT</span> <span class="p">(</span><span class="mi">4164624</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FLOATREC_MAX_DIGITS</span> <span class="p">:</span> <span class="n">INT</span> <span class="p">(</span><span class="mi">4164656</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FLOATREC_MAX_PRECISION</span> <span class="p">:</span> <span class="n">INT</span> <span class="p">(</span><span class="mi">4164672</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FLOATREC_MIN_PRECISION</span> <span class="p">:</span> <span class="n">INT</span> <span class="p">(</span><span class="mi">4164688</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FMTERR_ARGTYPEINVALID</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4164992</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FMTERR_ASTERISKPOSITION</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4164768</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FMTERR_DESTBUFFOVERFLOW</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4165088</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FMTERR_FLAGPOSITION</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4164864</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FMTERR_INSUFFICIENTARGS</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4165056</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FMTERR_INVALIDPOINTERINPUT</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4165120</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FMTERR_NOERROR</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4164704</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FMTERR_PERCENTSIGNPOSITION</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4164736</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FMTERR_PRECISIONDOTPOSITION</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4164928</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FMTERR_PRECISIONVALUE</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4164832</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FMTERR_TYPEFIELDVALUE</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4164960</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FMTERR_UNACCEPTEDPARAMETER</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4165024</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FMTERR_WIDTHPRECISIONVALPOS</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4164896</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FMTERR_WIDTHVALUE</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4164800</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FOPEN_MODEAPPEND</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4099072</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FOPEN_MODEBINARY</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4099136</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FOPEN_MODEPLUS</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4099104</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FOPEN_MODEREAD</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4099008</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FOPEN_MODETEXT</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4099168</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FOPEN_MODEWRITE</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4099040</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FORMAT_DECASC_CODES</span> <span class="p">:</span> <span class="n">BYTE</span> <span class="p">(</span><span class="mi">4165568</span> <span class="mi">80</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FORMAT_HEXASC_CODES</span> <span class="p">:</span> <span class="n">BYTE</span> <span class="p">(</span><span class="mi">4165312</span> <span class="mi">256</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FORMAT_MAX_ARGS</span> <span class="p">:</span> <span class="n">INT</span> <span class="p">(</span><span class="mi">4164608</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">GLOBAL_DCF77_PULSE_SPLIT</span> <span class="p">:</span> <span class="n">TIME</span> <span class="p">(</span><span class="mi">4101280</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">GLOBAL_DCF77_SEQUENCE_CHECK</span> <span class="p">:</span> <span class="n">BOOL</span> <span class="p">(</span><span class="mi">4101264</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">GLOBAL_FORMAT_HASH_PREFIX_TYPE</span> <span class="p">:</span> <span class="n">Tc2_Utilities</span><span class="o">.</span><span class="n">E_HashPrefixTypes</span> <span class="p">(</span><span class="mi">4101232</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">GLOBAL_SBCS_TABLE</span> <span class="p">:</span> <span class="n">Tc2_Utilities</span><span class="o">.</span><span class="n">E_SBCSType</span> <span class="p">(</span><span class="mi">4101248</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">HKEY_MAX_BINARY_DATA_SIZE</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4164512</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">IPHELPERAPI_ADAPTERSINFO</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4162944</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">IPHELPERAPI_IPADDRBYHOSTNAME</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4162976</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">MAX_ADAPTER_ADDRESS_LENGTH</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4162848</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">MAX_ADAPTER_DESCRIPTION_LENGTH</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4162816</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">MAX_ADAPTER_NAME_LENGTH</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4162784</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">MAX_AVERAGE_MEASURES</span> <span class="p">:</span> <span class="n">INT</span> <span class="p">(</span><span class="mi">4101216</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">MAX_LOCAL_ADAPTERS</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4163008</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">MAX_REMOTE_PCS</span> <span class="p">:</span> <span class="n">INT</span> <span class="p">(</span><span class="mi">4163136</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">MAX_ROUTE_ADDR_LEN</span> <span class="p">:</span> <span class="n">BYTE</span> <span class="p">(</span><span class="mi">4163160</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">MAX_ROUTE_NAME_LEN</span> <span class="p">:</span> <span class="n">BYTE</span> <span class="p">(</span><span class="mi">4163152</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">MAX_ROUTE_TRANSPORT</span> <span class="p">:</span> <span class="n">BYTE</span> <span class="p">(</span><span class="mi">4163272</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">MAX_STRING_LENGTH</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4099744</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">MIN_ROUTE_TRANSPORT</span> <span class="p">:</span> <span class="n">BYTE</span> <span class="p">(</span><span class="mi">4163264</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">PI</span> <span class="p">:</span> <span class="n">LREAL</span> <span class="p">(</span><span class="mi">4099648</span> <span class="mi">64</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ROUTE_FLAG_DYNAMIC</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4163200</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ROUTE_FLAG_NOOVERRIDE</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4163232</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ROUTE_FLAG_TEMPORARY</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4163168</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_ADDREMOTE</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4163040</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_CHANGENETID</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098528</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_CLOSEHANDLE</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097888</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_CREATEFILE</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097856</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_DELREMOTE</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4163072</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_ENUMREMOTE</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4163104</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_FCLOSE</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097952</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_FDELETE</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098272</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_FEOF</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098240</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_FFILEFIND</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4164480</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_FGETS</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098112</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_FOPEN</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097920</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_FPRINTF</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098208</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_FPUTS</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098144</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_FREAD</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097984</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_FRENAME</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098304</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_FSCANF</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098176</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_FSEEK</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098048</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_FTELL</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098080</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_FWRITE</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098016</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_IPHELPERAPI</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4162880</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_IPHOSTNAME</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4162912</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_MKDIR</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098336</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_OPENCREATE</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097760</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_OPENREAD</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097792</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_OPENWRITE</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097824</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_REG_HKEYLOCALMACHINE</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098400</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_RMDIR</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098368</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_SENDEMAIL</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098432</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_STARTPROCESS</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098496</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_TIMESERVICES</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098464</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSTATEFLAGS_BSOD</span> <span class="p">:</span> <span class="n">BYTE</span> <span class="p">(</span><span class="mi">4098984</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSTATEFLAGS_RTVIOLATION</span> <span class="p">:</span> <span class="n">BYTE</span> <span class="p">(</span><span class="mi">4098992</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMTIME_DATEDELTA_OFFSET</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4165152</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMTIME_DATE_AND_TIME_MAX</span> <span class="p">:</span> <span class="n">Tc2_Utilities</span><span class="o">.</span><span class="n">T_ULARGE_INTEGER</span> <span class="p">(</span><span class="mi">4172160</span> <span class="mi">64</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMTIME_DATE_AND_TIME_MAX64</span> <span class="p">:</span> <span class="n">ULINT</span> <span class="p">(</span><span class="mi">4172480</span> <span class="mi">64</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMTIME_DATE_AND_TIME_MIN</span> <span class="p">:</span> <span class="n">Tc2_Utilities</span><span class="o">.</span><span class="n">T_ULARGE_INTEGER</span> <span class="p">(</span><span class="mi">4172096</span> <span class="mi">64</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMTIME_DATE_AND_TIME_MIN64</span> <span class="p">:</span> <span class="n">ULINT</span> <span class="p">(</span><span class="mi">4172416</span> <span class="mi">64</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMTIME_MAX_MONTHDAYS</span> <span class="p">:</span> <span class="n">WORD</span> <span class="p">(</span><span class="mi">4171056</span> <span class="mi">384</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMTIME_MAX_YEARSDAY</span> <span class="p">:</span> <span class="n">WORD</span> <span class="p">(</span><span class="mi">4171440</span> <span class="mi">448</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMTIME_TICKSPERDAY</span> <span class="p">:</span> <span class="n">Tc2_Utilities</span><span class="o">.</span><span class="n">T_ULARGE_INTEGER</span> <span class="p">(</span><span class="mi">4172032</span> <span class="mi">64</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMTIME_TICKSPERDAY64</span> <span class="p">:</span> <span class="n">ULINT</span> <span class="p">(</span><span class="mi">4172352</span> <span class="mi">64</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMTIME_TICKSPERMSEC</span> <span class="p">:</span> <span class="n">Tc2_Utilities</span><span class="o">.</span><span class="n">T_ULARGE_INTEGER</span> <span class="p">(</span><span class="mi">4171904</span> <span class="mi">64</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMTIME_TICKSPERMSEC64</span> <span class="p">:</span> <span class="n">ULINT</span> <span class="p">(</span><span class="mi">4172224</span> <span class="mi">64</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMTIME_TICKSPERSEC</span> <span class="p">:</span> <span class="n">Tc2_Utilities</span><span class="o">.</span><span class="n">T_ULARGE_INTEGER</span> <span class="p">(</span><span class="mi">4171968</span> <span class="mi">64</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMTIME_TICKSPERSEC64</span> <span class="p">:</span> <span class="n">ULINT</span> <span class="p">(</span><span class="mi">4172288</span> <span class="mi">64</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">TCEVENTFLAG_AUTOFMTALL</span> <span class="p">:</span> <span class="n">WORD</span> <span class="p">(</span><span class="mi">4099504</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">TCEVENTFLAG_FMTSELF</span> <span class="p">:</span> <span class="n">WORD</span> <span class="p">(</span><span class="mi">4099440</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">TCEVENTFLAG_LOG</span> <span class="p">:</span> <span class="n">WORD</span> <span class="p">(</span><span class="mi">4099456</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">TCEVENTFLAG_MSGBOX</span> <span class="p">:</span> <span class="n">WORD</span> <span class="p">(</span><span class="mi">4099472</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">TCEVENTFLAG_PRIOCLASS</span> <span class="p">:</span> <span class="n">WORD</span> <span class="p">(</span><span class="mi">4099424</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">TCEVENTFLAG_SRCID</span> <span class="p">:</span> <span class="n">WORD</span> <span class="p">(</span><span class="mi">4099488</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">TCEVENTSTATE_CONFIRMED</span> <span class="p">:</span> <span class="n">WORD</span> <span class="p">(</span><span class="mi">4099568</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">TCEVENTSTATE_INVALID</span> <span class="p">:</span> <span class="n">WORD</span> <span class="p">(</span><span class="mi">4099520</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">TCEVENTSTATE_RESET</span> <span class="p">:</span> <span class="n">WORD</span> <span class="p">(</span><span class="mi">4099552</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">TCEVENTSTATE_RESETCON</span> <span class="p">:</span> <span class="n">WORD</span> <span class="p">(</span><span class="mi">4099584</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">TCEVENTSTATE_SIGNALED</span> <span class="p">:</span> <span class="n">WORD</span> <span class="p">(</span><span class="mi">4099536</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">TCEVENT_FMTPRGSIZE</span> <span class="p">:</span> <span class="n">INT</span> <span class="p">(</span><span class="mi">4099616</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">TCEVENT_SRCNAMESIZE</span> <span class="p">:</span> <span class="n">INT</span> <span class="p">(</span><span class="mi">4099600</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">TIMESERVICE_ADJUSTTIMETORTC</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098656</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">TIMESERVICE_DATEANDTIME</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098560</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">TIMESERVICE_RTCTIMEDIFF</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098624</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">TIMESERVICE_SYSTEMTIMES</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098592</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">TIMESERVICE_TIMEZONINFORMATION</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098688</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">TcMcGlobal</span> <span class="p">:</span> <span class="n">Tc2_MC2</span><span class="o">.</span><span class="n">_TCMCGLOBAL</span> <span class="p">(</span><span class="mi">4306048</span> <span class="mi">6976</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">WEST_EUROPE_TZI</span> <span class="p">:</span> <span class="n">Tc2_Utilities</span><span class="o">.</span><span class="n">ST_TimeZoneInformation</span> <span class="p">(</span><span class="mi">4172544</span> <span class="mi">864</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">eWatchdogConfig</span> <span class="p">:</span> <span class="n">Tc2_System</span><span class="o">.</span><span class="n">E_WATCHDOG_TIME_CONFIG</span> <span class="p">(</span><span class="mi">4099632</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">nWatchdogTime</span> <span class="p">:</span> <span class="n">BYTE</span> <span class="p">(</span><span class="mi">4099000</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Global_Version</span><span class="o">.</span><span class="n">stLibVersion_Tc2_System</span> <span class="p">:</span> <span class="n">ST_LibVersion</span> <span class="p">(</span><span class="mi">4096000</span> <span class="mi">288</span><span class="p">)</span>
<span class="n">Global_Version</span><span class="o">.</span><span class="n">stLibVersion_Tc2_Utilities</span> <span class="p">:</span> <span class="n">ST_LibVersion</span> <span class="p">(</span><span class="mi">4100928</span> <span class="mi">288</span><span class="p">)</span>
<span class="n">Global_Version</span><span class="o">.</span><span class="n">stLibVersion_Tc3_Module</span> <span class="p">:</span> <span class="n">ST_LibVersion</span> <span class="p">(</span><span class="mi">4100288</span> <span class="mi">288</span><span class="p">)</span>
<span class="n">Global_Version</span><span class="o">.</span><span class="n">stLibVersion_lcls_twincat_motion</span> <span class="p">:</span> <span class="n">ST_LibVersion</span> <span class="p">(</span><span class="mi">4529280</span> <span class="mi">288</span><span class="p">)</span>
<span class="n">Interactive</span><span class="o">.</span><span class="n">M1</span> <span class="p">:</span> <span class="n">DUT_MotionStage</span> <span class="p">(</span><span class="mi">4334912</span> <span class="mi">11264</span><span class="p">)</span>
<span class="n">Interactive</span><span class="o">.</span><span class="n">M1</span><span class="o">.</span><span class="n">Axis</span><span class="o">.</span><span class="n">NcToPlc</span> <span class="p">:</span> <span class="n">NCTOPLC_AXIS_REF</span> <span class="p">(</span><span class="mi">4336000</span> <span class="mi">2048</span><span class="p">)</span>
<span class="n">Interactive</span><span class="o">.</span><span class="n">M1</span><span class="o">.</span><span class="n">Axis</span><span class="o">.</span><span class="n">PlcToNc</span> <span class="p">:</span> <span class="n">PLCTONC_AXIS_REF</span> <span class="p">(</span><span class="mi">4334976</span> <span class="mi">1024</span><span class="p">)</span>
<span class="n">Interactive</span><span class="o">.</span><span class="n">M1</span><span class="o">.</span><span class="n">bBrakeRelease</span> <span class="p">:</span> <span class="n">BOOL</span> <span class="p">(</span><span class="mi">4343960</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Interactive</span><span class="o">.</span><span class="n">M1</span><span class="o">.</span><span class="n">bHardwareEnable</span> <span class="p">:</span> <span class="n">BOOL</span> <span class="p">(</span><span class="mi">4343968</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Interactive</span><span class="o">.</span><span class="n">M1</span><span class="o">.</span><span class="n">bHome</span> <span class="p">:</span> <span class="n">BOOL</span> <span class="p">(</span><span class="mi">4343952</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Interactive</span><span class="o">.</span><span class="n">M1</span><span class="o">.</span><span class="n">bLimitBackwardEnable</span> <span class="p">:</span> <span class="n">BOOL</span> <span class="p">(</span><span class="mi">4343944</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Interactive</span><span class="o">.</span><span class="n">M1</span><span class="o">.</span><span class="n">bLimitForwardEnable</span> <span class="p">:</span> <span class="n">BOOL</span> <span class="p">(</span><span class="mi">4343936</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Interactive</span><span class="o">.</span><span class="n">bGoHCF</span> <span class="p">:</span> <span class="n">BOOL</span> <span class="p">(</span><span class="mi">4514160</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Interactive</span><span class="o">.</span><span class="n">bGoIn</span> <span class="p">:</span> <span class="n">BOOL</span> <span class="p">(</span><span class="mi">4514144</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Interactive</span><span class="o">.</span><span class="n">bGoOut</span> <span class="p">:</span> <span class="n">BOOL</span> <span class="p">(</span><span class="mi">4514128</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Interactive</span><span class="o">.</span><span class="n">bHCF</span> <span class="p">:</span> <span class="n">BOOL</span> <span class="p">(</span><span class="mi">4514152</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Interactive</span><span class="o">.</span><span class="n">bIn</span> <span class="p">:</span> <span class="n">BOOL</span> <span class="p">(</span><span class="mi">4514136</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Interactive</span><span class="o">.</span><span class="n">bOut</span> <span class="p">:</span> <span class="n">BOOL</span> <span class="p">(</span><span class="mi">4305304</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Interactive</span><span class="o">.</span><span class="n">fbGoBad</span> <span class="p">:</span> <span class="n">FB_StatePTPMove</span> <span class="p">(</span><span class="mi">4521984</span> <span class="mi">2368</span><span class="p">)</span>
<span class="n">Interactive</span><span class="o">.</span><span class="n">fbGoIn</span> <span class="p">:</span> <span class="n">FB_StatePTPMove</span> <span class="p">(</span><span class="mi">4518592</span> <span class="mi">2368</span><span class="p">)</span>
<span class="n">Interactive</span><span class="o">.</span><span class="n">fbGoOut</span> <span class="p">:</span> <span class="n">FB_StatePTPMove</span> <span class="p">(</span><span class="mi">4515200</span> <span class="mi">2368</span><span class="p">)</span>
<span class="n">Interactive</span><span class="o">.</span><span class="n">fbMotionStage</span> <span class="p">:</span> <span class="n">FB_MotionStage</span> <span class="p">(</span><span class="mi">4346176</span> <span class="mi">167936</span><span class="p">)</span>
<span class="n">Interactive</span><span class="o">.</span><span class="n">fbMotionStage</span><span class="o">.</span><span class="n">fbDriveVirtual</span><span class="o">.</span><span class="n">MasterAxis</span><span class="o">.</span><span class="n">NcToPlc</span> <span class="p">:</span> <span class="n">NCTOPLC_AXIS_REF</span> <span class="p">(</span><span class="mi">4348800</span> <span class="mi">2048</span><span class="p">)</span>
<span class="n">Interactive</span><span class="o">.</span><span class="n">fbMotionStage</span><span class="o">.</span><span class="n">fbDriveVirtual</span><span class="o">.</span><span class="n">MasterAxis</span><span class="o">.</span><span class="n">PlcToNc</span> <span class="p">:</span> <span class="n">PLCTONC_AXIS_REF</span> <span class="p">(</span><span class="mi">4347776</span> <span class="mi">1024</span><span class="p">)</span>
<span class="n">Interactive</span><span class="o">.</span><span class="n">nCounter</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4514112</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Interactive</span><span class="o">.</span><span class="n">stIn</span> <span class="p">:</span> <span class="n">DUT_PositionState</span> <span class="p">(</span><span class="mi">4517568</span> <span class="mi">1024</span><span class="p">)</span>
<span class="n">Interactive</span><span class="o">.</span><span class="n">stOut</span> <span class="p">:</span> <span class="n">DUT_PositionState</span> <span class="p">(</span><span class="mi">4514176</span> <span class="mi">1024</span><span class="p">)</span>
<span class="n">Interactive</span><span class="o">.</span><span class="n">stUnsafe</span> <span class="p">:</span> <span class="n">DUT_PositionState</span> <span class="p">(</span><span class="mi">4520960</span> <span class="mi">1024</span><span class="p">)</span>
<span class="n">TwinCAT_SystemInfoVarList</span><span class="o">.</span><span class="n">_AppInfo</span> <span class="p">:</span> <span class="n">PlcAppSystemInfo</span> <span class="p">(</span><span class="mi">4529920</span> <span class="mi">2048</span><span class="p">)</span>
<span class="n">TwinCAT_SystemInfoVarList</span><span class="o">.</span><span class="n">_TaskInfo</span> <span class="p">:</span> <span class="n">PlcTaskSystemInfo</span> <span class="p">(</span><span class="mi">4531968</span> <span class="mi">1024</span><span class="p">)</span>
<span class="n">TwinCAT_SystemInfoVarList</span><span class="o">.</span><span class="n">_TaskOid_PlcTask</span> <span class="p">:</span> <span class="n">OTCID</span> <span class="p">(</span><span class="mi">4532992</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">TwinCAT_SystemInfoVarList</span><span class="o">.</span><span class="n">_TaskPouOid_PlcTask</span> <span class="p">:</span> <span class="n">OTCID</span> <span class="p">(</span><span class="mi">4529888</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">TwinCAT_SystemInfoVarList</span><span class="o">.</span><span class="n">__PlcTask</span> <span class="p">:</span> <span class="n">_Implicit_Task_Info</span> <span class="p">(</span><span class="mi">4533056</span> <span class="mi">896</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="plc-project-2-example">
<h1>PLC Project (2): Example<a class="headerlink" href="#plc-project-2-example" title="Permalink to this headline">Â¶</a></h1>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Project</span> <span class="n">path</span><span class="p">:</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Example</span><span class="o">/</span><span class="n">Example</span><span class="o">.</span><span class="n">plcproj</span>
<span class="n">TMC</span> <span class="n">path</span><span class="p">:</span>     <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Example</span><span class="o">/</span><span class="n">Example</span><span class="o">.</span><span class="n">tmc</span>
<span class="n">AMS</span> <span class="n">ID</span><span class="p">:</span>       
<span class="n">IP</span> <span class="n">Address</span><span class="p">:</span>    <span class="p">(</span><span class="o">*</span> <span class="n">based</span> <span class="n">on</span> <span class="n">AMS</span> <span class="n">ID</span><span class="p">)</span>
<span class="n">Port</span><span class="p">:</span>         <span class="mi">852</span>

<span class="n">Source</span> <span class="n">files</span><span class="p">:</span>
    <span class="mf">1.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Example</span><span class="o">/</span><span class="n">PlcTask</span><span class="o">.</span><span class="n">TcTTO</span>
    <span class="mf">2.</span><span class="p">)</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">travis</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">pcdshub</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">lcls</span><span class="o">-</span><span class="n">twincat</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">Example</span><span class="o">/</span><span class="n">POUs</span><span class="o">/</span><span class="n">Main</span><span class="o">.</span><span class="n">TcPOU</span>

<span class="n">POUs</span><span class="p">:</span>
    <span class="mf">1.</span><span class="p">)</span> <span class="n">Main</span>
</pre></div>
</div>
<div class="section" id="id1">
<h2>PlcTask.TcTTO (TcPlcObject)<a class="headerlink" href="#id1" title="Permalink to this headline">Â¶</a></h2>
</div>
<div class="section" id="pous-main-tcpou-tcplcobject">
<h2>POUs/Main.TcPOU (TcPlcObject)<a class="headerlink" href="#pous-main-tcpou-tcplcobject" title="Permalink to this headline">Â¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">Main</span><span class="p">:</span> <span class="n">Declaration</span>

 <span class="n">PROGRAM</span> <span class="n">Main</span>
 <span class="n">VAR</span>
 	<span class="o">//</span> <span class="n">Simulated</span> <span class="n">motor</span> <span class="n">that</span> <span class="ow">is</span> <span class="n">always</span> <span class="n">allowed</span> <span class="n">to</span> <span class="n">move</span>
 	<span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="p">:</span><span class="o">=</span> <span class="s1">&#39;pv: TST:SIM:MOT:01&#39;</span><span class="p">}</span>
 	<span class="n">M1</span><span class="p">:</span> <span class="n">DUT_MotionStage</span><span class="p">;</span>
 	
 	<span class="o">//</span> <span class="n">Simulated</span> <span class="n">motor</span> <span class="n">that</span> <span class="ow">is</span> <span class="n">never</span> <span class="n">allowed</span> <span class="n">to</span> <span class="n">move</span>
 	<span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="p">:</span><span class="o">=</span> <span class="s1">&#39;pv: TST:SIM:MOT:01&#39;</span><span class="p">}</span>
 	<span class="n">M2</span><span class="p">:</span> <span class="n">DUT_MotionStage</span><span class="p">;</span>
 	
 	<span class="n">fbMotion1</span><span class="p">:</span> <span class="n">FB_MotionStage</span><span class="p">;</span>
 	<span class="n">fbMotion2</span><span class="p">:</span> <span class="n">FB_MotionStage</span><span class="p">;</span>
 <span class="n">END_VAR</span>

<span class="o">-</span> <span class="n">Main</span><span class="p">:</span> <span class="n">ST</span>

 <span class="n">M1</span><span class="o">.</span><span class="n">bLimitForwardEnable</span> <span class="p">:</span><span class="o">=</span> <span class="n">TRUE</span><span class="p">;</span>
 <span class="n">M1</span><span class="o">.</span><span class="n">bLimitBackwardEnable</span> <span class="p">:</span><span class="o">=</span> <span class="n">TRUE</span><span class="p">;</span>
 <span class="n">M1</span><span class="o">.</span><span class="n">bHardwareEnable</span> <span class="p">:</span><span class="o">=</span> <span class="n">TRUE</span><span class="p">;</span>
 <span class="n">M1</span><span class="o">.</span><span class="n">bPowerSelf</span> <span class="p">:</span><span class="o">=</span> <span class="n">TRUE</span><span class="p">;</span>
 <span class="n">M1</span><span class="o">.</span><span class="n">nEnableMode</span> <span class="p">:</span><span class="o">=</span> <span class="n">ENUM_StageEnableMode</span><span class="o">.</span><span class="n">STAGE_ENABLE_ALWAYS</span><span class="p">;</span>
 <span class="n">fbMotion1</span><span class="p">(</span><span class="n">stMotionStage</span> <span class="p">:</span><span class="o">=</span> <span class="n">M1</span><span class="p">);</span>
 <span class="n">fbMotion2</span><span class="p">(</span><span class="n">stMotionStage</span> <span class="p">:</span><span class="o">=</span> <span class="n">M2</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id2">
<h2>Symbols<a class="headerlink" href="#id2" title="Permalink to this headline">Â¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Constants</span><span class="o">.</span><span class="n">CompilerVersion</span> <span class="p">:</span> <span class="n">VERSION</span> <span class="p">(</span><span class="mi">4698000</span> <span class="mi">64</span><span class="p">)</span>
<span class="n">Constants</span><span class="o">.</span><span class="n">CompilerVersionNumeric</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4698144</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Constants</span><span class="o">.</span><span class="n">RuntimeVersion</span> <span class="p">:</span> <span class="n">VERSION</span> <span class="p">(</span><span class="mi">4697936</span> <span class="mi">64</span><span class="p">)</span>
<span class="n">Constants</span><span class="o">.</span><span class="n">RuntimeVersionNumeric</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4698112</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Constants</span><span class="o">.</span><span class="n">bFPUSupport</span> <span class="p">:</span> <span class="n">BOOL</span> <span class="p">(</span><span class="mi">4698096</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Constants</span><span class="o">.</span><span class="n">bLittleEndian</span> <span class="p">:</span> <span class="n">BOOL</span> <span class="p">(</span><span class="mi">4697920</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Constants</span><span class="o">.</span><span class="n">bSimulationMode</span> <span class="p">:</span> <span class="n">BOOL</span> <span class="p">(</span><span class="mi">4697928</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Constants</span><span class="o">.</span><span class="n">nPackMode</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4698080</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Constants</span><span class="o">.</span><span class="n">nRegisterSize</span> <span class="p">:</span> <span class="n">WORD</span> <span class="p">(</span><span class="mi">4698064</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_DEVICE_DATA</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097664</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_IOIMAGE_CLEARI</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097568</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_IOIMAGE_CLEARO</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097600</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_IOIMAGE_RISIZE</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097440</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_IOIMAGE_ROSIZE</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097536</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_IOIMAGE_RWIB</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097376</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_IOIMAGE_RWIOB</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097632</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_IOIMAGE_RWIX</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097408</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_IOIMAGE_RWOB</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097472</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_IOIMAGE_RWOX</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097504</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_SYMNAME</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4096960</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_SYMNOTE</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097344</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_SYMTAB</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4096928</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_SYMVAL</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4096992</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_SYM_DOWNLOAD</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097248</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_SYM_HNDBYNAME</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097024</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_SYM_INFOBYNAME</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097152</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_SYM_INFOBYNAMEEX</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097216</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_SYM_RELEASEHND</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097120</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_SYM_UPLOAD</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097280</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_SYM_UPLOADINFO</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097312</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_SYM_VALBYHND</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097088</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_SYM_VALBYNAME</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097056</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIGRP_SYM_VERSION</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097184</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIOFFS_DEVDATA_ADSSTATE</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097696</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSIOFFS_DEVDATA_DEVSTATE</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097728</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSLOG_MSGTYPE_ERROR</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4098784</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSLOG_MSGTYPE_HINT</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4098720</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSLOG_MSGTYPE_LOG</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4098816</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSLOG_MSGTYPE_MSGBOX</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4098848</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSLOG_MSGTYPE_RESOURCE</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4098880</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSLOG_MSGTYPE_STRING</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4098912</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSLOG_MSGTYPE_WARN</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4098752</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSSTATE_CONFIG</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096832</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSSTATE_ERROR</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096768</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSSTATE_EXCEPTION</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096896</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSSTATE_IDLE</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096608</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSSTATE_INCOMPATIBLE</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096880</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSSTATE_INIT</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096640</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSSTATE_INVALID</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096592</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSSTATE_LOADCFG</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096720</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSSTATE_MAXSTATES</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096912</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSSTATE_POWERFAILURE</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096736</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSSTATE_POWERGOOD</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096752</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSSTATE_RECONFIG</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096848</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSSTATE_RESET</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096624</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSSTATE_RESUME</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096816</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSSTATE_RUN</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096672</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSSTATE_SAVECFG</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096704</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSSTATE_SHUTDOWN</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096784</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSSTATE_START</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096656</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSSTATE_STOP</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096688</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSSTATE_STOPPING</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096864</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ADSSTATE_SUSPEND</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096800</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSLOGGER_IGR_GENERAL</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4164544</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSLOGGER_IOF_MODE</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4164576</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSPORT_AMSLOGGER</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4163280</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSPORT_EVENTLOG</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096304</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSPORT_LOGGER</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096288</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSPORT_R0_CAM</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096528</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSPORT_R0_CAMTOOL</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096544</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSPORT_R0_CNC</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096416</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSPORT_R0_IO</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096336</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSPORT_R0_ISG</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096400</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSPORT_R0_LINE</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096432</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSPORT_R0_NC</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096352</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSPORT_R0_NCSAF</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096368</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSPORT_R0_NCSVB</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096384</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSPORT_R0_PLC</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096448</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSPORT_R0_PLC_RTS1</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096464</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSPORT_R0_PLC_RTS2</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096480</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSPORT_R0_PLC_RTS3</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096496</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSPORT_R0_PLC_RTS4</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096512</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSPORT_R0_RTIME</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096320</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSPORT_R3_SCOPESERVER</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096576</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">AMSPORT_R3_SYSSERV</span> <span class="p">:</span> <span class="n">UINT</span> <span class="p">(</span><span class="mi">4096560</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">BOOTDATAFLAGS_PERSISTENT_INVALID</span> <span class="p">:</span> <span class="n">BYTE</span> <span class="p">(</span><span class="mi">4098976</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">BOOTDATAFLAGS_PERSISTENT_LOADED</span> <span class="p">:</span> <span class="n">BYTE</span> <span class="p">(</span><span class="mi">4098968</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">BOOTDATAFLAGS_RETAIN_INVALID</span> <span class="p">:</span> <span class="n">BYTE</span> <span class="p">(</span><span class="mi">4098952</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">BOOTDATAFLAGS_RETAIN_LOADED</span> <span class="p">:</span> <span class="n">BYTE</span> <span class="p">(</span><span class="mi">4098944</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">BOOTDATAFLAGS_RETAIN_REQUESTED</span> <span class="p">:</span> <span class="n">BYTE</span> <span class="p">(</span><span class="mi">4098960</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">DATE_AND_TIME_SECPERDAY</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4177536</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">DATE_AND_TIME_SECPERWEEK</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4177568</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">DBG_OUTPUT_FILE</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4183840</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">DBG_OUTPUT_LOG</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4183808</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">DBG_OUTPUT_NONE</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4183776</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">DBG_OUTPUT_VISU</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4183872</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">DEFAULT_ADS_TIMEOUT</span> <span class="p">:</span> <span class="n">TIME</span> <span class="p">(</span><span class="mi">4099712</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">DEFAULT_BACKLASHVALUE</span> <span class="p">:</span> <span class="n">LREAL</span> <span class="p">(</span><span class="mi">4313088</span> <span class="mi">64</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">DEFAULT_CSV_FIELD_DOUBLE_QUOTE</span> <span class="p">:</span> <span class="n">BYTE</span> <span class="p">(</span><span class="mi">4303568</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">DEFAULT_CSV_FIELD_SEP</span> <span class="p">:</span> <span class="n">BYTE</span> <span class="p">(</span><span class="mi">4101272</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">DEFAULT_CSV_RECORD_SEP_CR</span> <span class="p">:</span> <span class="n">BYTE</span> <span class="p">(</span><span class="mi">4303576</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">DEFAULT_CSV_RECORD_SEP_LF</span> <span class="p">:</span> <span class="n">BYTE</span> <span class="p">(</span><span class="mi">4303584</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">DEFAULT_HOME_POSITION</span> <span class="p">:</span> <span class="n">LREAL</span> <span class="p">(</span><span class="mi">4313024</span> <span class="mi">64</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">EMPTY_ARG_VALUE</span> <span class="p">:</span> <span class="n">lcls_twincat_motion</span><span class="o">.</span><span class="n">Tc2_Utilities</span><span class="o">.</span><span class="n">T_Arg</span> <span class="p">(</span><span class="mi">4165184</span> <span class="mi">128</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">EMPTY_GUID_REGSTRING</span> <span class="p">:</span> <span class="n">STRING</span><span class="p">(</span><span class="mi">38</span><span class="p">)</span> <span class="p">(</span><span class="mi">4305736</span> <span class="mi">312</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">EMPTY_GUID_STRING</span> <span class="p">:</span> <span class="n">STRING</span><span class="p">(</span><span class="mi">36</span><span class="p">)</span> <span class="p">(</span><span class="mi">4305440</span> <span class="mi">296</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">EMPTY_GUID_STRUCT</span> <span class="p">:</span> <span class="n">GUID</span> <span class="p">(</span><span class="mi">4305312</span> <span class="mi">128</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">EMPTY_ROUTE_ENTRY</span> <span class="p">:</span> <span class="n">lcls_twincat_motion</span><span class="o">.</span><span class="n">Tc2_Utilities</span><span class="o">.</span><span class="n">ST_AmsRouteEntry</span> <span class="p">(</span><span class="mi">4163296</span> <span class="mi">1184</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FLOATREC_EXP_IS_INF</span> <span class="p">:</span> <span class="n">INT</span> <span class="p">(</span><span class="mi">4164640</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FLOATREC_EXP_IS_NAN</span> <span class="p">:</span> <span class="n">INT</span> <span class="p">(</span><span class="mi">4164624</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FLOATREC_MAX_DIGITS</span> <span class="p">:</span> <span class="n">INT</span> <span class="p">(</span><span class="mi">4164656</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FLOATREC_MAX_PRECISION</span> <span class="p">:</span> <span class="n">INT</span> <span class="p">(</span><span class="mi">4164672</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FLOATREC_MIN_PRECISION</span> <span class="p">:</span> <span class="n">INT</span> <span class="p">(</span><span class="mi">4164688</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FMTERR_ARGTYPEINVALID</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4164992</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FMTERR_ASTERISKPOSITION</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4164768</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FMTERR_DESTBUFFOVERFLOW</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4165088</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FMTERR_FLAGPOSITION</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4164864</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FMTERR_INSUFFICIENTARGS</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4165056</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FMTERR_INVALIDPOINTERINPUT</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4165120</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FMTERR_NOERROR</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4164704</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FMTERR_PERCENTSIGNPOSITION</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4164736</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FMTERR_PRECISIONDOTPOSITION</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4164928</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FMTERR_PRECISIONVALUE</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4164832</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FMTERR_TYPEFIELDVALUE</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4164960</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FMTERR_UNACCEPTEDPARAMETER</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4165024</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FMTERR_WIDTHPRECISIONVALPOS</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4164896</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FMTERR_WIDTHVALUE</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4164800</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FOPEN_MODEAPPEND</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4099072</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FOPEN_MODEBINARY</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4099136</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FOPEN_MODEPLUS</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4099104</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FOPEN_MODEREAD</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4099008</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FOPEN_MODETEXT</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4099168</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FOPEN_MODEWRITE</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4099040</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FORMAT_DECASC_CODES</span> <span class="p">:</span> <span class="n">BYTE</span> <span class="p">(</span><span class="mi">4165568</span> <span class="mi">80</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FORMAT_HEXASC_CODES</span> <span class="p">:</span> <span class="n">BYTE</span> <span class="p">(</span><span class="mi">4165312</span> <span class="mi">256</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">FORMAT_MAX_ARGS</span> <span class="p">:</span> <span class="n">INT</span> <span class="p">(</span><span class="mi">4164608</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">GLOBAL_DCF77_PULSE_SPLIT</span> <span class="p">:</span> <span class="n">TIME</span> <span class="p">(</span><span class="mi">4101280</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">GLOBAL_DCF77_SEQUENCE_CHECK</span> <span class="p">:</span> <span class="n">BOOL</span> <span class="p">(</span><span class="mi">4101264</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">GLOBAL_FORMAT_HASH_PREFIX_TYPE</span> <span class="p">:</span> <span class="n">lcls_twincat_motion</span><span class="o">.</span><span class="n">Tc2_Utilities</span><span class="o">.</span><span class="n">E_HashPrefixTypes</span> <span class="p">(</span><span class="mi">4101232</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">GLOBAL_SBCS_TABLE</span> <span class="p">:</span> <span class="n">lcls_twincat_motion</span><span class="o">.</span><span class="n">Tc2_Utilities</span><span class="o">.</span><span class="n">E_SBCSType</span> <span class="p">(</span><span class="mi">4101248</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">HKEY_MAX_BINARY_DATA_SIZE</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4164512</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">IPHELPERAPI_ADAPTERSINFO</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4162944</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">IPHELPERAPI_IPADDRBYHOSTNAME</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4162976</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">MAX_ADAPTER_ADDRESS_LENGTH</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4162848</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">MAX_ADAPTER_DESCRIPTION_LENGTH</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4162816</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">MAX_ADAPTER_NAME_LENGTH</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4162784</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">MAX_AVERAGE_MEASURES</span> <span class="p">:</span> <span class="n">INT</span> <span class="p">(</span><span class="mi">4101216</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">MAX_LOCAL_ADAPTERS</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4163008</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">MAX_REMOTE_PCS</span> <span class="p">:</span> <span class="n">INT</span> <span class="p">(</span><span class="mi">4163136</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">MAX_ROUTE_ADDR_LEN</span> <span class="p">:</span> <span class="n">BYTE</span> <span class="p">(</span><span class="mi">4163160</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">MAX_ROUTE_NAME_LEN</span> <span class="p">:</span> <span class="n">BYTE</span> <span class="p">(</span><span class="mi">4163152</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">MAX_ROUTE_TRANSPORT</span> <span class="p">:</span> <span class="n">BYTE</span> <span class="p">(</span><span class="mi">4163272</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">MAX_STRING_LENGTH</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4099744</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">MIN_ROUTE_TRANSPORT</span> <span class="p">:</span> <span class="n">BYTE</span> <span class="p">(</span><span class="mi">4163264</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">PI</span> <span class="p">:</span> <span class="n">LREAL</span> <span class="p">(</span><span class="mi">4099648</span> <span class="mi">64</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ROUTE_FLAG_DYNAMIC</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4163200</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ROUTE_FLAG_NOOVERRIDE</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4163232</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">ROUTE_FLAG_TEMPORARY</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4163168</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_ADDREMOTE</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4163040</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_CHANGENETID</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098528</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_CLOSEHANDLE</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097888</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_CREATEFILE</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097856</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_DELREMOTE</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4163072</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_ENUMREMOTE</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4163104</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_FCLOSE</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097952</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_FDELETE</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098272</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_FEOF</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098240</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_FFILEFIND</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4164480</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_FGETS</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098112</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_FOPEN</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097920</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_FPRINTF</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098208</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_FPUTS</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098144</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_FREAD</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097984</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_FRENAME</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098304</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_FSCANF</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098176</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_FSEEK</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098048</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_FTELL</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098080</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_FWRITE</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098016</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_IPHELPERAPI</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4162880</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_IPHOSTNAME</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4162912</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_MKDIR</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098336</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_OPENCREATE</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097760</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_OPENREAD</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097792</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_OPENWRITE</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4097824</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_REG_HKEYLOCALMACHINE</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098400</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_RMDIR</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098368</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_SENDEMAIL</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098432</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_STARTPROCESS</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098496</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSERVICE_TIMESERVICES</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098464</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSTATEFLAGS_BSOD</span> <span class="p">:</span> <span class="n">BYTE</span> <span class="p">(</span><span class="mi">4098984</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMSTATEFLAGS_RTVIOLATION</span> <span class="p">:</span> <span class="n">BYTE</span> <span class="p">(</span><span class="mi">4098992</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMTIME_DATEDELTA_OFFSET</span> <span class="p">:</span> <span class="n">DWORD</span> <span class="p">(</span><span class="mi">4165152</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMTIME_DATE_AND_TIME_MAX</span> <span class="p">:</span> <span class="n">lcls_twincat_motion</span><span class="o">.</span><span class="n">Tc2_Utilities</span><span class="o">.</span><span class="n">T_ULARGE_INTEGER</span> <span class="p">(</span><span class="mi">4172160</span> <span class="mi">64</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMTIME_DATE_AND_TIME_MAX64</span> <span class="p">:</span> <span class="n">ULINT</span> <span class="p">(</span><span class="mi">4172480</span> <span class="mi">64</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMTIME_DATE_AND_TIME_MIN</span> <span class="p">:</span> <span class="n">lcls_twincat_motion</span><span class="o">.</span><span class="n">Tc2_Utilities</span><span class="o">.</span><span class="n">T_ULARGE_INTEGER</span> <span class="p">(</span><span class="mi">4172096</span> <span class="mi">64</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMTIME_DATE_AND_TIME_MIN64</span> <span class="p">:</span> <span class="n">ULINT</span> <span class="p">(</span><span class="mi">4172416</span> <span class="mi">64</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMTIME_MAX_MONTHDAYS</span> <span class="p">:</span> <span class="n">WORD</span> <span class="p">(</span><span class="mi">4171056</span> <span class="mi">384</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMTIME_MAX_YEARSDAY</span> <span class="p">:</span> <span class="n">WORD</span> <span class="p">(</span><span class="mi">4171440</span> <span class="mi">448</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMTIME_TICKSPERDAY</span> <span class="p">:</span> <span class="n">lcls_twincat_motion</span><span class="o">.</span><span class="n">Tc2_Utilities</span><span class="o">.</span><span class="n">T_ULARGE_INTEGER</span> <span class="p">(</span><span class="mi">4172032</span> <span class="mi">64</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMTIME_TICKSPERDAY64</span> <span class="p">:</span> <span class="n">ULINT</span> <span class="p">(</span><span class="mi">4172352</span> <span class="mi">64</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMTIME_TICKSPERMSEC</span> <span class="p">:</span> <span class="n">lcls_twincat_motion</span><span class="o">.</span><span class="n">Tc2_Utilities</span><span class="o">.</span><span class="n">T_ULARGE_INTEGER</span> <span class="p">(</span><span class="mi">4171904</span> <span class="mi">64</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMTIME_TICKSPERMSEC64</span> <span class="p">:</span> <span class="n">ULINT</span> <span class="p">(</span><span class="mi">4172224</span> <span class="mi">64</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMTIME_TICKSPERSEC</span> <span class="p">:</span> <span class="n">lcls_twincat_motion</span><span class="o">.</span><span class="n">Tc2_Utilities</span><span class="o">.</span><span class="n">T_ULARGE_INTEGER</span> <span class="p">(</span><span class="mi">4171968</span> <span class="mi">64</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">SYSTEMTIME_TICKSPERSEC64</span> <span class="p">:</span> <span class="n">ULINT</span> <span class="p">(</span><span class="mi">4172288</span> <span class="mi">64</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">TCEVENTFLAG_AUTOFMTALL</span> <span class="p">:</span> <span class="n">WORD</span> <span class="p">(</span><span class="mi">4099504</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">TCEVENTFLAG_FMTSELF</span> <span class="p">:</span> <span class="n">WORD</span> <span class="p">(</span><span class="mi">4099440</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">TCEVENTFLAG_LOG</span> <span class="p">:</span> <span class="n">WORD</span> <span class="p">(</span><span class="mi">4099456</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">TCEVENTFLAG_MSGBOX</span> <span class="p">:</span> <span class="n">WORD</span> <span class="p">(</span><span class="mi">4099472</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">TCEVENTFLAG_PRIOCLASS</span> <span class="p">:</span> <span class="n">WORD</span> <span class="p">(</span><span class="mi">4099424</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">TCEVENTFLAG_SRCID</span> <span class="p">:</span> <span class="n">WORD</span> <span class="p">(</span><span class="mi">4099488</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">TCEVENTSTATE_CONFIRMED</span> <span class="p">:</span> <span class="n">WORD</span> <span class="p">(</span><span class="mi">4099568</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">TCEVENTSTATE_INVALID</span> <span class="p">:</span> <span class="n">WORD</span> <span class="p">(</span><span class="mi">4099520</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">TCEVENTSTATE_RESET</span> <span class="p">:</span> <span class="n">WORD</span> <span class="p">(</span><span class="mi">4099552</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">TCEVENTSTATE_RESETCON</span> <span class="p">:</span> <span class="n">WORD</span> <span class="p">(</span><span class="mi">4099584</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">TCEVENTSTATE_SIGNALED</span> <span class="p">:</span> <span class="n">WORD</span> <span class="p">(</span><span class="mi">4099536</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">TCEVENT_FMTPRGSIZE</span> <span class="p">:</span> <span class="n">INT</span> <span class="p">(</span><span class="mi">4099616</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">TCEVENT_SRCNAMESIZE</span> <span class="p">:</span> <span class="n">INT</span> <span class="p">(</span><span class="mi">4099600</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">TIMESERVICE_ADJUSTTIMETORTC</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098656</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">TIMESERVICE_DATEANDTIME</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098560</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">TIMESERVICE_RTCTIMEDIFF</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098624</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">TIMESERVICE_SYSTEMTIMES</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098592</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">TIMESERVICE_TIMEZONINFORMATION</span> <span class="p">:</span> <span class="n">UDINT</span> <span class="p">(</span><span class="mi">4098688</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">TcMcGlobal</span> <span class="p">:</span> <span class="n">lcls_twincat_motion</span><span class="o">.</span><span class="n">Tc2_MC2</span><span class="o">.</span><span class="n">_TCMCGLOBAL</span> <span class="p">(</span><span class="mi">4306048</span> <span class="mi">6976</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">WEST_EUROPE_TZI</span> <span class="p">:</span> <span class="n">lcls_twincat_motion</span><span class="o">.</span><span class="n">Tc2_Utilities</span><span class="o">.</span><span class="n">ST_TimeZoneInformation</span> <span class="p">(</span><span class="mi">4172544</span> <span class="mi">864</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">eWatchdogConfig</span> <span class="p">:</span> <span class="n">Tc2_System</span><span class="o">.</span><span class="n">E_WATCHDOG_TIME_CONFIG</span> <span class="p">(</span><span class="mi">4099632</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">Global_Variables</span><span class="o">.</span><span class="n">nWatchdogTime</span> <span class="p">:</span> <span class="n">BYTE</span> <span class="p">(</span><span class="mi">4099000</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Global_Version</span><span class="o">.</span><span class="n">stLibVersion_Tc2_System</span> <span class="p">:</span> <span class="n">ST_LibVersion</span> <span class="p">(</span><span class="mi">4096000</span> <span class="mi">288</span><span class="p">)</span>
<span class="n">Global_Version</span><span class="o">.</span><span class="n">stLibVersion_Tc2_Utilities</span> <span class="p">:</span> <span class="n">ST_LibVersion</span> <span class="p">(</span><span class="mi">4100928</span> <span class="mi">288</span><span class="p">)</span>
<span class="n">Global_Version</span><span class="o">.</span><span class="n">stLibVersion_Tc3_Module</span> <span class="p">:</span> <span class="n">ST_LibVersion</span> <span class="p">(</span><span class="mi">4100288</span> <span class="mi">288</span><span class="p">)</span>
<span class="n">Main</span><span class="o">.</span><span class="n">M1</span> <span class="p">:</span> <span class="n">lcls_twincat_motion</span><span class="o">.</span><span class="n">DUT_MotionStage</span> <span class="p">(</span><span class="mi">4334592</span> <span class="mi">11264</span><span class="p">)</span>
<span class="n">Main</span><span class="o">.</span><span class="n">M1</span><span class="o">.</span><span class="n">Axis</span><span class="o">.</span><span class="n">NcToPlc</span> <span class="p">:</span> <span class="n">NCTOPLC_AXIS_REF</span> <span class="p">(</span><span class="mi">4335680</span> <span class="mi">2048</span><span class="p">)</span>
<span class="n">Main</span><span class="o">.</span><span class="n">M1</span><span class="o">.</span><span class="n">Axis</span><span class="o">.</span><span class="n">PlcToNc</span> <span class="p">:</span> <span class="n">PLCTONC_AXIS_REF</span> <span class="p">(</span><span class="mi">4334656</span> <span class="mi">1024</span><span class="p">)</span>
<span class="n">Main</span><span class="o">.</span><span class="n">M1</span><span class="o">.</span><span class="n">bBrakeRelease</span> <span class="p">:</span> <span class="n">BOOL</span> <span class="p">(</span><span class="mi">4343640</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Main</span><span class="o">.</span><span class="n">M1</span><span class="o">.</span><span class="n">bHardwareEnable</span> <span class="p">:</span> <span class="n">BOOL</span> <span class="p">(</span><span class="mi">4343648</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Main</span><span class="o">.</span><span class="n">M1</span><span class="o">.</span><span class="n">bHome</span> <span class="p">:</span> <span class="n">BOOL</span> <span class="p">(</span><span class="mi">4343632</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Main</span><span class="o">.</span><span class="n">M1</span><span class="o">.</span><span class="n">bLimitBackwardEnable</span> <span class="p">:</span> <span class="n">BOOL</span> <span class="p">(</span><span class="mi">4343624</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Main</span><span class="o">.</span><span class="n">M1</span><span class="o">.</span><span class="n">bLimitForwardEnable</span> <span class="p">:</span> <span class="n">BOOL</span> <span class="p">(</span><span class="mi">4343616</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Main</span><span class="o">.</span><span class="n">M2</span> <span class="p">:</span> <span class="n">lcls_twincat_motion</span><span class="o">.</span><span class="n">DUT_MotionStage</span> <span class="p">(</span><span class="mi">4345856</span> <span class="mi">11264</span><span class="p">)</span>
<span class="n">Main</span><span class="o">.</span><span class="n">M2</span><span class="o">.</span><span class="n">Axis</span><span class="o">.</span><span class="n">NcToPlc</span> <span class="p">:</span> <span class="n">NCTOPLC_AXIS_REF</span> <span class="p">(</span><span class="mi">4346944</span> <span class="mi">2048</span><span class="p">)</span>
<span class="n">Main</span><span class="o">.</span><span class="n">M2</span><span class="o">.</span><span class="n">Axis</span><span class="o">.</span><span class="n">PlcToNc</span> <span class="p">:</span> <span class="n">PLCTONC_AXIS_REF</span> <span class="p">(</span><span class="mi">4345920</span> <span class="mi">1024</span><span class="p">)</span>
<span class="n">Main</span><span class="o">.</span><span class="n">M2</span><span class="o">.</span><span class="n">bBrakeRelease</span> <span class="p">:</span> <span class="n">BOOL</span> <span class="p">(</span><span class="mi">4354904</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Main</span><span class="o">.</span><span class="n">M2</span><span class="o">.</span><span class="n">bHardwareEnable</span> <span class="p">:</span> <span class="n">BOOL</span> <span class="p">(</span><span class="mi">4354912</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Main</span><span class="o">.</span><span class="n">M2</span><span class="o">.</span><span class="n">bHome</span> <span class="p">:</span> <span class="n">BOOL</span> <span class="p">(</span><span class="mi">4354896</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Main</span><span class="o">.</span><span class="n">M2</span><span class="o">.</span><span class="n">bLimitBackwardEnable</span> <span class="p">:</span> <span class="n">BOOL</span> <span class="p">(</span><span class="mi">4354888</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Main</span><span class="o">.</span><span class="n">M2</span><span class="o">.</span><span class="n">bLimitForwardEnable</span> <span class="p">:</span> <span class="n">BOOL</span> <span class="p">(</span><span class="mi">4354880</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">Main</span><span class="o">.</span><span class="n">fbMotion1</span> <span class="p">:</span> <span class="n">lcls_twincat_motion</span><span class="o">.</span><span class="n">FB_MotionStage</span> <span class="p">(</span><span class="mi">4357120</span> <span class="mi">167936</span><span class="p">)</span>
<span class="n">Main</span><span class="o">.</span><span class="n">fbMotion1</span><span class="o">.</span><span class="n">fbDriveVirtual</span><span class="o">.</span><span class="n">MasterAxis</span><span class="o">.</span><span class="n">NcToPlc</span> <span class="p">:</span> <span class="n">NCTOPLC_AXIS_REF</span> <span class="p">(</span><span class="mi">4359744</span> <span class="mi">2048</span><span class="p">)</span>
<span class="n">Main</span><span class="o">.</span><span class="n">fbMotion1</span><span class="o">.</span><span class="n">fbDriveVirtual</span><span class="o">.</span><span class="n">MasterAxis</span><span class="o">.</span><span class="n">PlcToNc</span> <span class="p">:</span> <span class="n">PLCTONC_AXIS_REF</span> <span class="p">(</span><span class="mi">4358720</span> <span class="mi">1024</span><span class="p">)</span>
<span class="n">Main</span><span class="o">.</span><span class="n">fbMotion2</span> <span class="p">:</span> <span class="n">lcls_twincat_motion</span><span class="o">.</span><span class="n">FB_MotionStage</span> <span class="p">(</span><span class="mi">4525056</span> <span class="mi">167936</span><span class="p">)</span>
<span class="n">Main</span><span class="o">.</span><span class="n">fbMotion2</span><span class="o">.</span><span class="n">fbDriveVirtual</span><span class="o">.</span><span class="n">MasterAxis</span><span class="o">.</span><span class="n">NcToPlc</span> <span class="p">:</span> <span class="n">NCTOPLC_AXIS_REF</span> <span class="p">(</span><span class="mi">4527680</span> <span class="mi">2048</span><span class="p">)</span>
<span class="n">Main</span><span class="o">.</span><span class="n">fbMotion2</span><span class="o">.</span><span class="n">fbDriveVirtual</span><span class="o">.</span><span class="n">MasterAxis</span><span class="o">.</span><span class="n">PlcToNc</span> <span class="p">:</span> <span class="n">PLCTONC_AXIS_REF</span> <span class="p">(</span><span class="mi">4526656</span> <span class="mi">1024</span><span class="p">)</span>
<span class="n">TwinCAT_SystemInfoVarList</span><span class="o">.</span><span class="n">_AppInfo</span> <span class="p">:</span> <span class="n">PlcAppSystemInfo</span> <span class="p">(</span><span class="mi">4698176</span> <span class="mi">2048</span><span class="p">)</span>
<span class="n">TwinCAT_SystemInfoVarList</span><span class="o">.</span><span class="n">_TaskInfo</span> <span class="p">:</span> <span class="n">PlcTaskSystemInfo</span> <span class="p">(</span><span class="mi">4700224</span> <span class="mi">1024</span><span class="p">)</span>
<span class="n">TwinCAT_SystemInfoVarList</span><span class="o">.</span><span class="n">_TaskOid_PlcTask</span> <span class="p">:</span> <span class="n">OTCID</span> <span class="p">(</span><span class="mi">4701280</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">TwinCAT_SystemInfoVarList</span><span class="o">.</span><span class="n">_TaskPouOid_PlcTask</span> <span class="p">:</span> <span class="n">OTCID</span> <span class="p">(</span><span class="mi">4701248</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">TwinCAT_SystemInfoVarList</span><span class="o">.</span><span class="n">__PlcTask</span> <span class="p">:</span> <span class="n">_Implicit_Task_Info</span> <span class="p">(</span><span class="mi">4701312</span> <span class="mi">896</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="boxes">
<h2>Boxes<a class="headerlink" href="#boxes" title="Permalink to this headline">Â¶</a></h2>
</div>
<div class="section" id="nc-axes">
<h2>NC axes<a class="headerlink" href="#nc-axes" title="Permalink to this headline">Â¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">1.</span><span class="p">)</span> <span class="s1">&#39;Test 1&#39;</span><span class="p">:</span>
    <span class="n">Id</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">CreateSymbols</span> <span class="o">=</span> <span class="s1">&#39;true&#39;</span>
    <span class="n">AxisType</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">OtherSettings</span><span class="p">:</span><span class="n">AllowMotionCmdToSlave</span> <span class="o">=</span> <span class="s1">&#39;true&#39;</span>
    <span class="n">Enc</span><span class="p">:</span><span class="n">EncType</span> <span class="o">=</span> <span class="mi">1</span>

<span class="mf">2.</span><span class="p">)</span> <span class="s1">&#39;Test 2&#39;</span><span class="p">:</span>
    <span class="n">Id</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="n">CreateSymbols</span> <span class="o">=</span> <span class="s1">&#39;true&#39;</span>
    <span class="n">AxisType</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">OtherSettings</span><span class="p">:</span><span class="n">AllowMotionCmdToSlave</span> <span class="o">=</span> <span class="s1">&#39;true&#39;</span>
    <span class="n">Enc</span><span class="p">:</span><span class="n">EncType</span> <span class="o">=</span> <span class="mi">1</span>

<span class="mf">3.</span><span class="p">)</span> <span class="s1">&#39;Example 1&#39;</span><span class="p">:</span>
    <span class="n">Id</span> <span class="o">=</span> <span class="mi">3</span>
    <span class="n">CreateSymbols</span> <span class="o">=</span> <span class="s1">&#39;true&#39;</span>
    <span class="n">AxisType</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">OtherSettings</span><span class="p">:</span><span class="n">AllowMotionCmdToSlave</span> <span class="o">=</span> <span class="s1">&#39;true&#39;</span>
    <span class="n">Enc</span><span class="p">:</span><span class="n">EncType</span> <span class="o">=</span> <span class="mi">1</span>

<span class="mf">4.</span><span class="p">)</span> <span class="s1">&#39;Example 2&#39;</span><span class="p">:</span>
    <span class="n">Id</span> <span class="o">=</span> <span class="mi">4</span>
    <span class="n">CreateSymbols</span> <span class="o">=</span> <span class="s1">&#39;true&#39;</span>
    <span class="n">AxisType</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">OtherSettings</span><span class="p">:</span><span class="n">AllowMotionCmdToSlave</span> <span class="o">=</span> <span class="s1">&#39;true&#39;</span>
    <span class="n">Enc</span><span class="p">:</span><span class="n">EncType</span> <span class="o">=</span> <span class="mi">1</span>
</pre></div>
</div>
</div>
<div class="section" id="links">
<h2>Links<a class="headerlink" href="#links" title="Permalink to this headline">Â¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">1.</span><span class="p">)</span> <span class="n">A</span> <span class="p">(</span><span class="s1">&#39;Library Instance&#39;</span><span class="p">,</span> <span class="s1">&#39;PlcTask Inputs^Interactive.M1.Axis.NcToPlc&#39;</span><span class="p">)</span>
      <span class="n">B</span> <span class="p">(</span><span class="s1">&#39;TINC^NC-Task 1 SAF^Axes^Test 1&#39;</span><span class="p">,</span> <span class="s1">&#39;Outputs^ToPlc&#39;</span><span class="p">)</span>
<span class="mf">2.</span><span class="p">)</span> <span class="n">A</span> <span class="p">(</span><span class="s1">&#39;Library Instance&#39;</span><span class="p">,</span> <span class="s1">&#39;PlcTask Outputs^Interactive.M1.Axis.PlcToNc&#39;</span><span class="p">)</span>
      <span class="n">B</span> <span class="p">(</span><span class="s1">&#39;TINC^NC-Task 1 SAF^Axes^Test 1&#39;</span><span class="p">,</span> <span class="s1">&#39;Inputs^FromPlc&#39;</span><span class="p">)</span>
<span class="mf">3.</span><span class="p">)</span> <span class="n">A</span> <span class="p">(</span><span class="s1">&#39;Example Instance&#39;</span><span class="p">,</span> <span class="s1">&#39;PlcTask Inputs^Main.M1.Axis.NcToPlc&#39;</span><span class="p">)</span>
      <span class="n">B</span> <span class="p">(</span><span class="s1">&#39;TINC^NC-Task 1 SAF^Axes^Example 1&#39;</span><span class="p">,</span> <span class="s1">&#39;Outputs^ToPlc&#39;</span><span class="p">)</span>
<span class="mf">4.</span><span class="p">)</span> <span class="n">A</span> <span class="p">(</span><span class="s1">&#39;Example Instance&#39;</span><span class="p">,</span> <span class="s1">&#39;PlcTask Outputs^Main.M1.Axis.PlcToNc&#39;</span><span class="p">)</span>
      <span class="n">B</span> <span class="p">(</span><span class="s1">&#39;TINC^NC-Task 1 SAF^Axes^Example 1&#39;</span><span class="p">,</span> <span class="s1">&#39;Inputs^FromPlc&#39;</span><span class="p">)</span>
<span class="mf">5.</span><span class="p">)</span> <span class="n">A</span> <span class="p">(</span><span class="s1">&#39;Example Instance&#39;</span><span class="p">,</span> <span class="s1">&#39;PlcTask Inputs^Main.M2.Axis.NcToPlc&#39;</span><span class="p">)</span>
      <span class="n">B</span> <span class="p">(</span><span class="s1">&#39;TINC^NC-Task 1 SAF^Axes^Example 2&#39;</span><span class="p">,</span> <span class="s1">&#39;Outputs^ToPlc&#39;</span><span class="p">)</span>
<span class="mf">6.</span><span class="p">)</span> <span class="n">A</span> <span class="p">(</span><span class="s1">&#39;Example Instance&#39;</span><span class="p">,</span> <span class="s1">&#39;PlcTask Outputs^Main.M2.Axis.PlcToNc&#39;</span><span class="p">)</span>
      <span class="n">B</span> <span class="p">(</span><span class="s1">&#39;TINC^NC-Task 1 SAF^Axes^Example 2&#39;</span><span class="p">,</span> <span class="s1">&#39;Inputs^FromPlc&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">pcdshub/lcls-twincat-motion</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Example.tmc.html">Example.tmc</a></li>
<li class="toctree-l1"><a class="reference internal" href="Library.tmc.html">Library.tmc</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">PLC Project (1): Library</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#duts-dut-motionstage-tcdut-tcplcobject">DUTs/DUT_MotionStage.TcDUT (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#duts-dut-positionstate-tcdut-tcplcobject">DUTs/DUT_PositionState.TcDUT (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#duts-el5042-status-tcdut-tcplcobject">DUTs/EL5042_Status.TcDUT (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#duts-enum-epicshomecmd-tcdut-tcplcobject">DUTs/ENUM_EpicsHomeCmd.TcDUT (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#duts-enum-epicsmotorcmd-tcdut-tcplcobject">DUTs/ENUM_EpicsMotorCmd.TcDUT (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#duts-enum-stagebrakemode-tcdut-tcplcobject">DUTs/ENUM_StageBrakeMode.TcDUT (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#duts-enum-stageenablemode-tcdut-tcplcobject">DUTs/ENUM_StageEnableMode.TcDUT (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#duts-st-renishawabsenc-tcdut-tcplcobject">DUTs/ST_RenishawAbsEnc.TcDUT (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#plctask-tctto-tcplcobject">PlcTask.TcTTO (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#pous-motion-fb-motionstage-tcpou-tcplcobject">POUs/Motion/FB_MotionStage.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#pous-motion-fb-setenables-tcpou-tcplcobject">POUs/Motion/FB_SetEnables.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#pous-motion-fb-stateptpmove-tcpou-tcplcobject">POUs/Motion/FB_StatePTPMove.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#pous-motion-gantry-fb-gantryautocoupling-tcpou-tcplcobject">POUs/Motion/Gantry/FB_GantryAutoCoupling.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#pous-motion-gantry-fb-gantrydiffvirtuallimitswitch-tcpou-tcplcobject">POUs/Motion/Gantry/FB_GantryDiffVirtualLimitSwitch.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#pous-motortesting-fb-microstepcounttest-tcpou-tcplcobject">POUs/MotorTesting/FB_MicroStepCountTest.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-duts-dut-axisstatus-v0-01-tcdut-tcplcobject">tc_mca_std_lib/DUTs/DUT_AxisStatus_v0_01.TcDUT (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-gvls-gvl-tcgvl-tcplcobject">tc_mca_std_lib/GVLs/GVL.TcGVL (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-changeconfig-fb-readfloatparameter-tcpou-tcplcobject">tc_mca_std_lib/POUs/ChangeConfig/FB_ReadFloatParameter.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-changeconfig-fb-readparameterinnc-v1-00-tcpou-tcplcobject">tc_mca_std_lib/POUs/ChangeConfig/FB_ReadParameterInNc_v1_00.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-changeconfig-fb-writefloatparameter-tcpou-tcplcobject">tc_mca_std_lib/POUs/ChangeConfig/FB_WriteFloatParameter.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-changeconfig-fb-writeparameterinnc-v1-00-tcpou-tcplcobject">tc_mca_std_lib/POUs/ChangeConfig/FB_WriteParameterInNc_v1_00.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-errorhandling-dut-errorstate-tcdut-tcplcobject">tc_mca_std_lib/POUs/ErrorHandling/DUT_ErrorState.TcDUT (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-errorhandling-dut-terminalerror-tcdut-tcplcobject">tc_mca_std_lib/POUs/ErrorHandling/DUT_TerminalError.TcDUT (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-errorhandling-fb-errorlist-tcpou-tcplcobject">tc_mca_std_lib/POUs/ErrorHandling/FB_ErrorList.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-errorhandling-fb-terminalerror-tcpou-tcplcobject">tc_mca_std_lib/POUs/ErrorHandling/FB_TerminalError.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-errorhandling-gvl-errorsystem-tcgvl-tcplcobject">tc_mca_std_lib/POUs/ErrorHandling/GVL_ErrorSystem.TcGVL (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-errorhandling-st-errorsystem-tcdut-tcplcobject">tc_mca_std_lib/POUs/ErrorHandling/ST_ErrorSystem.TcDUT (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-analog-inputs-el3174-0002-tcpou-tcplcobject">tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Analog_Inputs/EL3174_0002.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-analog-inputs-el3214-tcpou-tcplcobject">tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Analog_Inputs/EL3214.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-analog-inputs-el3255-tcpou-tcplcobject">tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Analog_Inputs/EL3255.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-analog-inputs-fb-calculatefrequency-3702-v0-01-tcpou-tcplcobject">tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Analog_Inputs/FB_CalculateFrequency_3702_v0_01.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-digital-inputs-el1008-tcpou-tcplcobject">tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Digital_Inputs/EL1008.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-digital-inputs-el1018-tcpou-tcplcobject">tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Digital_Inputs/EL1018.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-digital-inputs-el1808-tcpou-tcplcobject">tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Digital_Inputs/EL1808.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-digital-inputs-el1809-tcpou-tcplcobject">tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Digital_Inputs/EL1809.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-digital-inputs-el1819-tcpou-tcplcobject">tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Digital_Inputs/EL1819.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-digital-inputs-fb-el1252asm-v1-00-tcpou-tcplcobject">tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Digital_Inputs/FB_EL1252ASM_v1_00.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-digital-outputs-el2014-tcpou-tcplcobject">tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Digital_Outputs/EL2014.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-digital-outputs-el2252-tcpou-tcplcobject">tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Digital_Outputs/EL2252.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-digital-outputs-el2808-tcpou-tcplcobject">tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Digital_Outputs/EL2808.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-digital-outputs-el2819-tcpou-tcplcobject">tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Digital_Outputs/EL2819.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-digital-outputs-external-types-dutel2521-ctrl-tcdut-tcplcobject">tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Digital_Outputs/External_Types/dutEL2521_Ctrl.TcDUT (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-digital-outputs-external-types-dutel2521-status-tcdut-tcplcobject">tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Digital_Outputs/External_Types/dutEL2521_Status.TcDUT (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-measuring-terminals-el5002-tcpou-tcplcobject">tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Measuring_Terminals/EL5002.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-measuring-terminals-el5021-tcpou-tcplcobject">tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Measuring_Terminals/EL5021.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-measuring-terminals-el5042-tcpou-tcplcobject">tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Measuring_Terminals/EL5042.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-measuring-terminals-el5101-tcpou-tcplcobject">tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Measuring_Terminals/EL5101.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-motion-el7211-v1-00-tcpou-tcplcobject">tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Motion/EL7211_v1_00.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-motion-el9576-v1-00-tcpou-tcplcobject">tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/Motion/EL9576_v1_00.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-system-el9410-tcpou-tcplcobject">tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/System/EL9410.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-hardware-ethercat-terminals-system-el9505-tcpou-tcplcobject">tc_mca_std_lib/POUs/Hardware/EtherCAT_Terminals/System/EL9505.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-hardware-other-ek1200-tcpou-tcplcobject">tc_mca_std_lib/POUs/Hardware/Other/EK1200.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-motion-fb-drivevirtual-tcpou-tcplcobject">tc_mca_std_lib/POUs/Motion/FB_DriveVirtual.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-motion-fb-ncaxis-tcpou-tcplcobject">tc_mca_std_lib/POUs/Motion/FB_NcAxis.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-motion-homing-fb-homedirect-tcpou-tcplcobject">tc_mca_std_lib/POUs/Motion/Homing/FB_HomeDirect.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-motion-homing-fb-homefinish-tcpou-tcplcobject">tc_mca_std_lib/POUs/Motion/Homing/FB_HomeFinish.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-motion-homing-fb-homeprepare-tcpou-tcplcobject">tc_mca_std_lib/POUs/Motion/Homing/FB_HomePrepare.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-motion-homing-fb-homereadncvelocities-tcpou-tcplcobject">tc_mca_std_lib/POUs/Motion/Homing/FB_HomeReadNcVelocities.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-motion-homing-fb-homereadsoftlimenable-tcpou-tcplcobject">tc_mca_std_lib/POUs/Motion/Homing/FB_HomeReadSoftLimEnable.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-motion-homing-fb-hometoswitch-tcpou-tcplcobject">tc_mca_std_lib/POUs/Motion/Homing/FB_HomeToSwitch.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-motion-homing-fb-homevirtual-tcpou-tcplcobject">tc_mca_std_lib/POUs/Motion/Homing/FB_HomeVirtual.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-motion-homing-fb-homewritencvelocities-tcpou-tcplcobject">tc_mca_std_lib/POUs/Motion/Homing/FB_HomeWriteNcVelocities.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tc-mca-std-lib-pous-motion-homing-fb-homewritesoftlimenable-tcpou-tcplcobject">tc_mca_std_lib/POUs/Motion/Homing/FB_HomeWriteSoftLimEnable.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#unittests-interactive-tcpou-tcplcobject">UnitTests/Interactive.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#version-global-version-tcgvl-tcplcobject">Version/Global_Version.TcGVL (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#symbols">Symbols</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#plc-project-2-example">PLC Project (2): Example</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#id1">PlcTask.TcTTO (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#pous-main-tcpou-tcplcobject">POUs/Main.TcPOU (TcPlcObject)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id2">Symbols</a></li>
<li class="toctree-l2"><a class="reference internal" href="#boxes">Boxes</a></li>
<li class="toctree-l2"><a class="reference internal" href="#nc-axes">NC axes</a></li>
<li class="toctree-l2"><a class="reference internal" href="#links">Links</a></li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="Library.tmc.html" title="previous chapter">Library.tmc</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2019, SLAC National Accelerator Laboratory.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.2.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/lcls-twincat-motion.tsproj.md.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>